var IC=Object.defineProperty;var kC=(t,e,n)=>e in t?IC(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var bC=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var Y=(t,e,n)=>kC(t,typeof e!="symbol"?e+"":e,n);var g3=bC((E3,ph)=>{function PC(t,e){for(var n=0;n<e.length;n++){const i=e[n];if(typeof i!="string"&&!Array.isArray(i)){for(const r in i)if(r!=="default"&&!(r in t)){const s=Object.getOwnPropertyDescriptor(i,r);s&&Object.defineProperty(t,r,s.get?s:{enumerable:!0,get:()=>i[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const s of r)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function n(r){const s={};return r.integrity&&(s.integrity=r.integrity),r.referrerPolicy&&(s.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?s.credentials="include":r.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(r){if(r.ep)return;r.ep=!0;const s=n(r);fetch(r.href,s)}})();function CC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var gS={exports:{}},Ed={},mS={exports:{}},oe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lu=Symbol.for("react.element"),AC=Symbol.for("react.portal"),RC=Symbol.for("react.fragment"),DC=Symbol.for("react.strict_mode"),MC=Symbol.for("react.profiler"),OC=Symbol.for("react.provider"),NC=Symbol.for("react.context"),LC=Symbol.for("react.forward_ref"),VC=Symbol.for("react.suspense"),FC=Symbol.for("react.memo"),jC=Symbol.for("react.lazy"),u0=Symbol.iterator;function UC(t){return t===null||typeof t!="object"?null:(t=u0&&t[u0]||t["@@iterator"],typeof t=="function"?t:null)}var yS={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},_S=Object.assign,vS={};function qo(t,e,n){this.props=t,this.context=e,this.refs=vS,this.updater=n||yS}qo.prototype.isReactComponent={};qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function wS(){}wS.prototype=qo.prototype;function Lm(t,e,n){this.props=t,this.context=e,this.refs=vS,this.updater=n||yS}var Vm=Lm.prototype=new wS;Vm.constructor=Lm;_S(Vm,qo.prototype);Vm.isPureReactComponent=!0;var c0=Array.isArray,ES=Object.prototype.hasOwnProperty,Fm={current:null},TS={key:!0,ref:!0,__self:!0,__source:!0};function SS(t,e,n){var i,r={},s=null,o=null;if(e!=null)for(i in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)ES.call(e,i)&&!TS.hasOwnProperty(i)&&(r[i]=e[i]);var a=arguments.length-2;if(a===1)r.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];r.children=l}if(t&&t.defaultProps)for(i in a=t.defaultProps,a)r[i]===void 0&&(r[i]=a[i]);return{$$typeof:lu,type:t,key:s,ref:o,props:r,_owner:Fm.current}}function zC(t,e){return{$$typeof:lu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function jm(t){return typeof t=="object"&&t!==null&&t.$$typeof===lu}function BC(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var h0=/\/+/g;function Gf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?BC(""+t.key):e.toString(36)}function Vc(t,e,n,i,r){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lu:case AC:o=!0}}if(o)return o=t,r=r(o),t=i===""?"."+Gf(o,0):i,c0(r)?(n="",t!=null&&(n=t.replace(h0,"$&/")+"/"),Vc(r,e,n,"",function(u){return u})):r!=null&&(jm(r)&&(r=zC(r,n+(!r.key||o&&o.key===r.key?"":(""+r.key).replace(h0,"$&/")+"/")+t)),e.push(r)),1;if(o=0,i=i===""?".":i+":",c0(t))for(var a=0;a<t.length;a++){s=t[a];var l=i+Gf(s,a);o+=Vc(s,e,n,l,r)}else if(l=UC(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=i+Gf(s,a++),o+=Vc(s,e,n,l,r);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Ju(t,e,n){if(t==null)return t;var i=[],r=0;return Vc(t,i,"","",function(s){return e.call(n,s,r++)}),i}function WC(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ht={current:null},Fc={transition:null},HC={ReactCurrentDispatcher:Ht,ReactCurrentBatchConfig:Fc,ReactCurrentOwner:Fm};function xS(){throw Error("act(...) is not supported in production builds of React.")}oe.Children={map:Ju,forEach:function(t,e,n){Ju(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ju(t,function(){e++}),e},toArray:function(t){return Ju(t,function(e){return e})||[]},only:function(t){if(!jm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};oe.Component=qo;oe.Fragment=RC;oe.Profiler=MC;oe.PureComponent=Lm;oe.StrictMode=DC;oe.Suspense=VC;oe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HC;oe.act=xS;oe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=_S({},t.props),r=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Fm.current),e.key!==void 0&&(r=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)ES.call(e,l)&&!TS.hasOwnProperty(l)&&(i[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)i.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];i.children=a}return{$$typeof:lu,type:t.type,key:r,ref:s,props:i,_owner:o}};oe.createContext=function(t){return t={$$typeof:NC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:OC,_context:t},t.Consumer=t};oe.createElement=SS;oe.createFactory=function(t){var e=SS.bind(null,t);return e.type=t,e};oe.createRef=function(){return{current:null}};oe.forwardRef=function(t){return{$$typeof:LC,render:t}};oe.isValidElement=jm;oe.lazy=function(t){return{$$typeof:jC,_payload:{_status:-1,_result:t},_init:WC}};oe.memo=function(t,e){return{$$typeof:FC,type:t,compare:e===void 0?null:e}};oe.startTransition=function(t){var e=Fc.transition;Fc.transition={};try{t()}finally{Fc.transition=e}};oe.unstable_act=xS;oe.useCallback=function(t,e){return Ht.current.useCallback(t,e)};oe.useContext=function(t){return Ht.current.useContext(t)};oe.useDebugValue=function(){};oe.useDeferredValue=function(t){return Ht.current.useDeferredValue(t)};oe.useEffect=function(t,e){return Ht.current.useEffect(t,e)};oe.useId=function(){return Ht.current.useId()};oe.useImperativeHandle=function(t,e,n){return Ht.current.useImperativeHandle(t,e,n)};oe.useInsertionEffect=function(t,e){return Ht.current.useInsertionEffect(t,e)};oe.useLayoutEffect=function(t,e){return Ht.current.useLayoutEffect(t,e)};oe.useMemo=function(t,e){return Ht.current.useMemo(t,e)};oe.useReducer=function(t,e,n){return Ht.current.useReducer(t,e,n)};oe.useRef=function(t){return Ht.current.useRef(t)};oe.useState=function(t){return Ht.current.useState(t)};oe.useSyncExternalStore=function(t,e,n){return Ht.current.useSyncExternalStore(t,e,n)};oe.useTransition=function(){return Ht.current.useTransition()};oe.version="18.3.1";mS.exports=oe;var V=mS.exports;const Jn=CC(V),$C=PC({__proto__:null,default:Jn},[V]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YC=V,qC=Symbol.for("react.element"),GC=Symbol.for("react.fragment"),KC=Object.prototype.hasOwnProperty,QC=YC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,XC={key:!0,ref:!0,__self:!0,__source:!0};function IS(t,e,n){var i,r={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(i in e)KC.call(e,i)&&!XC.hasOwnProperty(i)&&(r[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)r[i]===void 0&&(r[i]=e[i]);return{$$typeof:qC,type:t,key:s,ref:o,props:r,_owner:QC.current}}Ed.Fragment=GC;Ed.jsx=IS;Ed.jsxs=IS;gS.exports=Ed;var A=gS.exports,Gp={},kS={exports:{}},hn={},bS={exports:{}},PS={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,Q){var Z=B.length;B.push(Q);e:for(;0<Z;){var Ie=Z-1>>>1,he=B[Ie];if(0<r(he,Q))B[Ie]=Q,B[Z]=he,Z=Ie;else break e}}function n(B){return B.length===0?null:B[0]}function i(B){if(B.length===0)return null;var Q=B[0],Z=B.pop();if(Z!==Q){B[0]=Z;e:for(var Ie=0,he=B.length,Pe=he>>>1;Ie<Pe;){var pt=2*(Ie+1)-1,Ft=B[pt],gt=pt+1,hi=B[gt];if(0>r(Ft,Z))gt<he&&0>r(hi,Ft)?(B[Ie]=hi,B[gt]=Z,Ie=gt):(B[Ie]=Ft,B[pt]=Z,Ie=pt);else if(gt<he&&0>r(hi,Z))B[Ie]=hi,B[gt]=Z,Ie=gt;else break e}}return Q}function r(B,Q){var Z=B.sortIndex-Q.sortIndex;return Z!==0?Z:B.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],h=1,d=null,f=3,g=!1,y=!1,w=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var Q=n(u);Q!==null;){if(Q.callback===null)i(u);else if(Q.startTime<=B)i(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function R(B){if(w=!1,x(B),!y)if(n(l)!==null)y=!0,Ee(M);else{var Q=n(u);Q!==null&&we(R,Q.startTime-B)}}function M(B,Q){y=!1,w&&(w=!1,_(E),E=-1),g=!0;var Z=f;try{for(x(Q),d=n(l);d!==null&&(!(d.expirationTime>Q)||B&&!C());){var Ie=d.callback;if(typeof Ie=="function"){d.callback=null,f=d.priorityLevel;var he=Ie(d.expirationTime<=Q);Q=t.unstable_now(),typeof he=="function"?d.callback=he:d===n(l)&&i(l),x(Q)}else i(l);d=n(l)}if(d!==null)var Pe=!0;else{var pt=n(u);pt!==null&&we(R,pt.startTime-Q),Pe=!1}return Pe}finally{d=null,f=Z,g=!1}}var N=!1,I=null,E=-1,k=5,b=-1;function C(){return!(t.unstable_now()-b<k)}function D(){if(I!==null){var B=t.unstable_now();b=B;var Q=!0;try{Q=I(!0,B)}finally{Q?P():(N=!1,I=null)}}else N=!1}var P;if(typeof v=="function")P=function(){v(D)};else if(typeof MessageChannel<"u"){var Ae=new MessageChannel,ae=Ae.port2;Ae.port1.onmessage=D,P=function(){ae.postMessage(null)}}else P=function(){T(D,0)};function Ee(B){I=B,N||(N=!0,P())}function we(B,Q){E=T(function(){B(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){y||g||(y=!0,Ee(M))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(B){switch(f){case 1:case 2:case 3:var Q=3;break;default:Q=f}var Z=f;f=Q;try{return B()}finally{f=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,Q){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=f;f=B;try{return Q()}finally{f=Z}},t.unstable_scheduleCallback=function(B,Q,Z){var Ie=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ie+Z:Ie):Z=Ie,B){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=Z+he,B={id:h++,callback:Q,priorityLevel:B,startTime:Z,expirationTime:he,sortIndex:-1},Z>Ie?(B.sortIndex=Z,e(u,B),n(l)===null&&B===n(u)&&(w?(_(E),E=-1):w=!0,we(R,Z-Ie))):(B.sortIndex=he,e(l,B),y||g||(y=!0,Ee(M))),B},t.unstable_shouldYield=C,t.unstable_wrapCallback=function(B){var Q=f;return function(){var Z=f;f=Q;try{return B.apply(this,arguments)}finally{f=Z}}}})(PS);bS.exports=PS;var JC=bS.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ZC=V,cn=JC;function U(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var CS=new Set,El={};function Ds(t,e){bo(t,e),bo(t+"Capture",e)}function bo(t,e){for(El[t]=e,t=0;t<e.length;t++)CS.add(e[t])}var Ni=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Kp=Object.prototype.hasOwnProperty,eA=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d0={},f0={};function tA(t){return Kp.call(f0,t)?!0:Kp.call(d0,t)?!1:eA.test(t)?f0[t]=!0:(d0[t]=!0,!1)}function nA(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function iA(t,e,n,i){if(e===null||typeof e>"u"||nA(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function $t(t,e,n,i,r,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=r,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Et={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Et[t]=new $t(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Et[e]=new $t(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Et[t]=new $t(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Et[t]=new $t(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Et[t]=new $t(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Et[t]=new $t(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Et[t]=new $t(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Et[t]=new $t(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Et[t]=new $t(t,5,!1,t.toLowerCase(),null,!1,!1)});var Um=/[\-:]([a-z])/g;function zm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Um,zm);Et[e]=new $t(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Um,zm);Et[e]=new $t(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Um,zm);Et[e]=new $t(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Et[t]=new $t(t,1,!1,t.toLowerCase(),null,!1,!1)});Et.xlinkHref=new $t("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Et[t]=new $t(t,1,!1,t.toLowerCase(),null,!0,!0)});function Bm(t,e,n,i){var r=Et.hasOwnProperty(e)?Et[e]:null;(r!==null?r.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(iA(e,n,r,i)&&(n=null),i||r===null?tA(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):r.mustUseProperty?t[r.propertyName]=n===null?r.type===3?!1:"":n:(e=r.attributeName,i=r.attributeNamespace,n===null?t.removeAttribute(e):(r=r.type,n=r===3||r===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Hi=ZC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Zu=Symbol.for("react.element"),Js=Symbol.for("react.portal"),Zs=Symbol.for("react.fragment"),Wm=Symbol.for("react.strict_mode"),Qp=Symbol.for("react.profiler"),AS=Symbol.for("react.provider"),RS=Symbol.for("react.context"),Hm=Symbol.for("react.forward_ref"),Xp=Symbol.for("react.suspense"),Jp=Symbol.for("react.suspense_list"),$m=Symbol.for("react.memo"),tr=Symbol.for("react.lazy"),DS=Symbol.for("react.offscreen"),p0=Symbol.iterator;function xa(t){return t===null||typeof t!="object"?null:(t=p0&&t[p0]||t["@@iterator"],typeof t=="function"?t:null)}var Ye=Object.assign,Kf;function ja(t){if(Kf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Kf=e&&e[1]||""}return`
`+Kf+t}var Qf=!1;function Xf(t,e){if(!t||Qf)return"";Qf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var i=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){i=u}t.call(e.prototype)}else{try{throw Error()}catch(u){i=u}t()}}catch(u){if(u&&i&&typeof u.stack=="string"){for(var r=u.stack.split(`
`),s=i.stack.split(`
`),o=r.length-1,a=s.length-1;1<=o&&0<=a&&r[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(r[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||r[o]!==s[a]){var l=`
`+r[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Qf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ja(t):""}function rA(t){switch(t.tag){case 5:return ja(t.type);case 16:return ja("Lazy");case 13:return ja("Suspense");case 19:return ja("SuspenseList");case 0:case 2:case 15:return t=Xf(t.type,!1),t;case 11:return t=Xf(t.type.render,!1),t;case 1:return t=Xf(t.type,!0),t;default:return""}}function Zp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Zs:return"Fragment";case Js:return"Portal";case Qp:return"Profiler";case Wm:return"StrictMode";case Xp:return"Suspense";case Jp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case RS:return(t.displayName||"Context")+".Consumer";case AS:return(t._context.displayName||"Context")+".Provider";case Hm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $m:return e=t.displayName||null,e!==null?e:Zp(t.type)||"Memo";case tr:e=t._payload,t=t._init;try{return Zp(t(e))}catch{}}return null}function sA(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zp(e);case 8:return e===Wm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Or(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function MS(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oA(t){var e=MS(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var r=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return r.call(this)},set:function(o){i=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(o){i=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ec(t){t._valueTracker||(t._valueTracker=oA(t))}function OS(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=MS(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function gh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function eg(t,e){var n=e.checked;return Ye({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function g0(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=Or(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function NS(t,e){e=e.checked,e!=null&&Bm(t,"checked",e,!1)}function tg(t,e){NS(t,e);var n=Or(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ng(t,e.type,n):e.hasOwnProperty("defaultValue")&&ng(t,e.type,Or(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function m0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ng(t,e,n){(e!=="number"||gh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Ua=Array.isArray;function fo(t,e,n,i){if(t=t.options,e){e={};for(var r=0;r<n.length;r++)e["$"+n[r]]=!0;for(n=0;n<t.length;n++)r=e.hasOwnProperty("$"+t[n].value),t[n].selected!==r&&(t[n].selected=r),r&&i&&(t[n].defaultSelected=!0)}else{for(n=""+Or(n),e=null,r=0;r<t.length;r++){if(t[r].value===n){t[r].selected=!0,i&&(t[r].defaultSelected=!0);return}e!==null||t[r].disabled||(e=t[r])}e!==null&&(e.selected=!0)}}function ig(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(U(91));return Ye({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function y0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(U(92));if(Ua(n)){if(1<n.length)throw Error(U(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Or(n)}}function LS(t,e){var n=Or(e.value),i=Or(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function _0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function VS(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function rg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?VS(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var tc,FS=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,r){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,r)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(tc=tc||document.createElement("div"),tc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=tc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Tl(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var nl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aA=["Webkit","ms","Moz","O"];Object.keys(nl).forEach(function(t){aA.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),nl[e]=nl[t]})});function jS(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||nl.hasOwnProperty(t)&&nl[t]?(""+e).trim():e+"px"}function US(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,r=jS(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,r):t[n]=r}}var lA=Ye({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function sg(t,e){if(e){if(lA[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(U(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(U(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(U(61))}if(e.style!=null&&typeof e.style!="object")throw Error(U(62))}}function og(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ag=null;function Ym(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var lg=null,po=null,go=null;function v0(t){if(t=hu(t)){if(typeof lg!="function")throw Error(U(280));var e=t.stateNode;e&&(e=kd(e),lg(t.stateNode,t.type,e))}}function zS(t){po?go?go.push(t):go=[t]:po=t}function BS(){if(po){var t=po,e=go;if(go=po=null,v0(t),e)for(t=0;t<e.length;t++)v0(e[t])}}function WS(t,e){return t(e)}function HS(){}var Jf=!1;function $S(t,e,n){if(Jf)return t(e,n);Jf=!0;try{return WS(t,e,n)}finally{Jf=!1,(po!==null||go!==null)&&(HS(),BS())}}function Sl(t,e){var n=t.stateNode;if(n===null)return null;var i=kd(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(U(231,e,typeof n));return n}var ug=!1;if(Ni)try{var Ia={};Object.defineProperty(Ia,"passive",{get:function(){ug=!0}}),window.addEventListener("test",Ia,Ia),window.removeEventListener("test",Ia,Ia)}catch{ug=!1}function uA(t,e,n,i,r,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var il=!1,mh=null,yh=!1,cg=null,cA={onError:function(t){il=!0,mh=t}};function hA(t,e,n,i,r,s,o,a,l){il=!1,mh=null,uA.apply(cA,arguments)}function dA(t,e,n,i,r,s,o,a,l){if(hA.apply(this,arguments),il){if(il){var u=mh;il=!1,mh=null}else throw Error(U(198));yh||(yh=!0,cg=u)}}function Ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function YS(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function w0(t){if(Ms(t)!==t)throw Error(U(188))}function fA(t){var e=t.alternate;if(!e){if(e=Ms(t),e===null)throw Error(U(188));return e!==t?null:t}for(var n=t,i=e;;){var r=n.return;if(r===null)break;var s=r.alternate;if(s===null){if(i=r.return,i!==null){n=i;continue}break}if(r.child===s.child){for(s=r.child;s;){if(s===n)return w0(r),t;if(s===i)return w0(r),e;s=s.sibling}throw Error(U(188))}if(n.return!==i.return)n=r,i=s;else{for(var o=!1,a=r.child;a;){if(a===n){o=!0,n=r,i=s;break}if(a===i){o=!0,i=r,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,i=r;break}if(a===i){o=!0,i=s,n=r;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==i)throw Error(U(190))}if(n.tag!==3)throw Error(U(188));return n.stateNode.current===n?t:e}function qS(t){return t=fA(t),t!==null?GS(t):null}function GS(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=GS(t);if(e!==null)return e;t=t.sibling}return null}var KS=cn.unstable_scheduleCallback,E0=cn.unstable_cancelCallback,pA=cn.unstable_shouldYield,gA=cn.unstable_requestPaint,et=cn.unstable_now,mA=cn.unstable_getCurrentPriorityLevel,qm=cn.unstable_ImmediatePriority,QS=cn.unstable_UserBlockingPriority,_h=cn.unstable_NormalPriority,yA=cn.unstable_LowPriority,XS=cn.unstable_IdlePriority,Td=null,Zn=null;function _A(t){if(Zn&&typeof Zn.onCommitFiberRoot=="function")try{Zn.onCommitFiberRoot(Td,t,void 0,(t.current.flags&128)===128)}catch{}}var Dn=Math.clz32?Math.clz32:EA,vA=Math.log,wA=Math.LN2;function EA(t){return t>>>=0,t===0?32:31-(vA(t)/wA|0)|0}var nc=64,ic=4194304;function za(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function vh(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,r=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~r;a!==0?i=za(a):(s&=o,s!==0&&(i=za(s)))}else o=n&~r,o!==0?i=za(o):s!==0&&(i=za(s));if(i===0)return 0;if(e!==0&&e!==i&&!(e&r)&&(r=i&-i,s=e&-e,r>=s||r===16&&(s&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Dn(e),r=1<<n,i|=t[n],e&=~r;return i}function TA(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function SA(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,r=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Dn(s),a=1<<o,l=r[o];l===-1?(!(a&n)||a&i)&&(r[o]=TA(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function hg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function JS(){var t=nc;return nc<<=1,!(nc&4194240)&&(nc=64),t}function Zf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Dn(e),t[e]=n}function xA(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var r=31-Dn(n),s=1<<r;e[r]=0,i[r]=-1,t[r]=-1,n&=~s}}function Gm(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Dn(n),r=1<<i;r&e|t[i]&e&&(t[i]|=e),n&=~r}}var xe=0;function ZS(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var e1,Km,t1,n1,i1,dg=!1,rc=[],_r=null,vr=null,wr=null,xl=new Map,Il=new Map,ir=[],IA="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function T0(t,e){switch(t){case"focusin":case"focusout":_r=null;break;case"dragenter":case"dragleave":vr=null;break;case"mouseover":case"mouseout":wr=null;break;case"pointerover":case"pointerout":xl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Il.delete(e.pointerId)}}function ka(t,e,n,i,r,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:s,targetContainers:[r]},e!==null&&(e=hu(e),e!==null&&Km(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,r!==null&&e.indexOf(r)===-1&&e.push(r),t)}function kA(t,e,n,i,r){switch(e){case"focusin":return _r=ka(_r,t,e,n,i,r),!0;case"dragenter":return vr=ka(vr,t,e,n,i,r),!0;case"mouseover":return wr=ka(wr,t,e,n,i,r),!0;case"pointerover":var s=r.pointerId;return xl.set(s,ka(xl.get(s)||null,t,e,n,i,r)),!0;case"gotpointercapture":return s=r.pointerId,Il.set(s,ka(Il.get(s)||null,t,e,n,i,r)),!0}return!1}function r1(t){var e=cs(t.target);if(e!==null){var n=Ms(e);if(n!==null){if(e=n.tag,e===13){if(e=YS(n),e!==null){t.blockedOn=e,i1(t.priority,function(){t1(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function jc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=fg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);ag=i,n.target.dispatchEvent(i),ag=null}else return e=hu(n),e!==null&&Km(e),t.blockedOn=n,!1;e.shift()}return!0}function S0(t,e,n){jc(t)&&n.delete(e)}function bA(){dg=!1,_r!==null&&jc(_r)&&(_r=null),vr!==null&&jc(vr)&&(vr=null),wr!==null&&jc(wr)&&(wr=null),xl.forEach(S0),Il.forEach(S0)}function ba(t,e){t.blockedOn===e&&(t.blockedOn=null,dg||(dg=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,bA)))}function kl(t){function e(r){return ba(r,t)}if(0<rc.length){ba(rc[0],t);for(var n=1;n<rc.length;n++){var i=rc[n];i.blockedOn===t&&(i.blockedOn=null)}}for(_r!==null&&ba(_r,t),vr!==null&&ba(vr,t),wr!==null&&ba(wr,t),xl.forEach(e),Il.forEach(e),n=0;n<ir.length;n++)i=ir[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<ir.length&&(n=ir[0],n.blockedOn===null);)r1(n),n.blockedOn===null&&ir.shift()}var mo=Hi.ReactCurrentBatchConfig,wh=!0;function PA(t,e,n,i){var r=xe,s=mo.transition;mo.transition=null;try{xe=1,Qm(t,e,n,i)}finally{xe=r,mo.transition=s}}function CA(t,e,n,i){var r=xe,s=mo.transition;mo.transition=null;try{xe=4,Qm(t,e,n,i)}finally{xe=r,mo.transition=s}}function Qm(t,e,n,i){if(wh){var r=fg(t,e,n,i);if(r===null)up(t,e,i,Eh,n),T0(t,i);else if(kA(r,t,e,n,i))i.stopPropagation();else if(T0(t,i),e&4&&-1<IA.indexOf(t)){for(;r!==null;){var s=hu(r);if(s!==null&&e1(s),s=fg(t,e,n,i),s===null&&up(t,e,i,Eh,n),s===r)break;r=s}r!==null&&i.stopPropagation()}else up(t,e,i,null,n)}}var Eh=null;function fg(t,e,n,i){if(Eh=null,t=Ym(i),t=cs(t),t!==null)if(e=Ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=YS(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Eh=t,null}function s1(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mA()){case qm:return 1;case QS:return 4;case _h:case yA:return 16;case XS:return 536870912;default:return 16}default:return 16}}var ur=null,Xm=null,Uc=null;function o1(){if(Uc)return Uc;var t,e=Xm,n=e.length,i,r="value"in ur?ur.value:ur.textContent,s=r.length;for(t=0;t<n&&e[t]===r[t];t++);var o=n-t;for(i=1;i<=o&&e[n-i]===r[s-i];i++);return Uc=r.slice(t,1<i?1-i:void 0)}function zc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function sc(){return!0}function x0(){return!1}function dn(t){function e(n,i,r,s,o){this._reactName=n,this._targetInst=r,this.type=i,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?sc:x0,this.isPropagationStopped=x0,this}return Ye(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=sc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=sc)},persist:function(){},isPersistent:sc}),e}var Go={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jm=dn(Go),cu=Ye({},Go,{view:0,detail:0}),AA=dn(cu),ep,tp,Pa,Sd=Ye({},cu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Pa&&(Pa&&t.type==="mousemove"?(ep=t.screenX-Pa.screenX,tp=t.screenY-Pa.screenY):tp=ep=0,Pa=t),ep)},movementY:function(t){return"movementY"in t?t.movementY:tp}}),I0=dn(Sd),RA=Ye({},Sd,{dataTransfer:0}),DA=dn(RA),MA=Ye({},cu,{relatedTarget:0}),np=dn(MA),OA=Ye({},Go,{animationName:0,elapsedTime:0,pseudoElement:0}),NA=dn(OA),LA=Ye({},Go,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),VA=dn(LA),FA=Ye({},Go,{data:0}),k0=dn(FA),jA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function BA(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=zA[t])?!!e[t]:!1}function Zm(){return BA}var WA=Ye({},cu,{key:function(t){if(t.key){var e=jA[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?UA[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zm,charCode:function(t){return t.type==="keypress"?zc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HA=dn(WA),$A=Ye({},Sd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),b0=dn($A),YA=Ye({},cu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zm}),qA=dn(YA),GA=Ye({},Go,{propertyName:0,elapsedTime:0,pseudoElement:0}),KA=dn(GA),QA=Ye({},Sd,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),XA=dn(QA),JA=[9,13,27,32],ey=Ni&&"CompositionEvent"in window,rl=null;Ni&&"documentMode"in document&&(rl=document.documentMode);var ZA=Ni&&"TextEvent"in window&&!rl,a1=Ni&&(!ey||rl&&8<rl&&11>=rl),P0=" ",C0=!1;function l1(t,e){switch(t){case"keyup":return JA.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function u1(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var eo=!1;function eR(t,e){switch(t){case"compositionend":return u1(e);case"keypress":return e.which!==32?null:(C0=!0,P0);case"textInput":return t=e.data,t===P0&&C0?null:t;default:return null}}function tR(t,e){if(eo)return t==="compositionend"||!ey&&l1(t,e)?(t=o1(),Uc=Xm=ur=null,eo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return a1&&e.locale!=="ko"?null:e.data;default:return null}}var nR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function A0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nR[t.type]:e==="textarea"}function c1(t,e,n,i){zS(i),e=Th(e,"onChange"),0<e.length&&(n=new Jm("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var sl=null,bl=null;function iR(t){E1(t,0)}function xd(t){var e=io(t);if(OS(e))return t}function rR(t,e){if(t==="change")return e}var h1=!1;if(Ni){var ip;if(Ni){var rp="oninput"in document;if(!rp){var R0=document.createElement("div");R0.setAttribute("oninput","return;"),rp=typeof R0.oninput=="function"}ip=rp}else ip=!1;h1=ip&&(!document.documentMode||9<document.documentMode)}function D0(){sl&&(sl.detachEvent("onpropertychange",d1),bl=sl=null)}function d1(t){if(t.propertyName==="value"&&xd(bl)){var e=[];c1(e,bl,t,Ym(t)),$S(iR,e)}}function sR(t,e,n){t==="focusin"?(D0(),sl=e,bl=n,sl.attachEvent("onpropertychange",d1)):t==="focusout"&&D0()}function oR(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return xd(bl)}function aR(t,e){if(t==="click")return xd(e)}function lR(t,e){if(t==="input"||t==="change")return xd(e)}function uR(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:uR;function Pl(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var r=n[i];if(!Kp.call(e,r)||!Nn(t[r],e[r]))return!1}return!0}function M0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function O0(t,e){var n=M0(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=M0(n)}}function f1(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?f1(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function p1(){for(var t=window,e=gh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=gh(t.document)}return e}function ty(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function cR(t){var e=p1(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&f1(n.ownerDocument.documentElement,n)){if(i!==null&&ty(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var r=n.textContent.length,s=Math.min(i.start,r);i=i.end===void 0?s:Math.min(i.end,r),!t.extend&&s>i&&(r=i,i=s,s=r),r=O0(n,s);var o=O0(n,i);r&&o&&(t.rangeCount!==1||t.anchorNode!==r.node||t.anchorOffset!==r.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(r.node,r.offset),t.removeAllRanges(),s>i?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var hR=Ni&&"documentMode"in document&&11>=document.documentMode,to=null,pg=null,ol=null,gg=!1;function N0(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gg||to==null||to!==gh(i)||(i=to,"selectionStart"in i&&ty(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),ol&&Pl(ol,i)||(ol=i,i=Th(pg,"onSelect"),0<i.length&&(e=new Jm("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=to)))}function oc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var no={animationend:oc("Animation","AnimationEnd"),animationiteration:oc("Animation","AnimationIteration"),animationstart:oc("Animation","AnimationStart"),transitionend:oc("Transition","TransitionEnd")},sp={},g1={};Ni&&(g1=document.createElement("div").style,"AnimationEvent"in window||(delete no.animationend.animation,delete no.animationiteration.animation,delete no.animationstart.animation),"TransitionEvent"in window||delete no.transitionend.transition);function Id(t){if(sp[t])return sp[t];if(!no[t])return t;var e=no[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in g1)return sp[t]=e[n];return t}var m1=Id("animationend"),y1=Id("animationiteration"),_1=Id("animationstart"),v1=Id("transitionend"),w1=new Map,L0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wr(t,e){w1.set(t,e),Ds(e,[t])}for(var op=0;op<L0.length;op++){var ap=L0[op],dR=ap.toLowerCase(),fR=ap[0].toUpperCase()+ap.slice(1);Wr(dR,"on"+fR)}Wr(m1,"onAnimationEnd");Wr(y1,"onAnimationIteration");Wr(_1,"onAnimationStart");Wr("dblclick","onDoubleClick");Wr("focusin","onFocus");Wr("focusout","onBlur");Wr(v1,"onTransitionEnd");bo("onMouseEnter",["mouseout","mouseover"]);bo("onMouseLeave",["mouseout","mouseover"]);bo("onPointerEnter",["pointerout","pointerover"]);bo("onPointerLeave",["pointerout","pointerover"]);Ds("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ds("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ds("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ds("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ds("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pR=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ba));function V0(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,dA(i,e,void 0,t),t.currentTarget=null}function E1(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],r=i.event;i=i.listeners;e:{var s=void 0;if(e)for(var o=i.length-1;0<=o;o--){var a=i[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&r.isPropagationStopped())break e;V0(r,a,u),s=l}else for(o=0;o<i.length;o++){if(a=i[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&r.isPropagationStopped())break e;V0(r,a,u),s=l}}}if(yh)throw t=cg,yh=!1,cg=null,t}function Oe(t,e){var n=e[wg];n===void 0&&(n=e[wg]=new Set);var i=t+"__bubble";n.has(i)||(T1(e,t,2,!1),n.add(i))}function lp(t,e,n){var i=0;e&&(i|=4),T1(n,t,i,e)}var ac="_reactListening"+Math.random().toString(36).slice(2);function Cl(t){if(!t[ac]){t[ac]=!0,CS.forEach(function(n){n!=="selectionchange"&&(pR.has(n)||lp(n,!1,t),lp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ac]||(e[ac]=!0,lp("selectionchange",!1,e))}}function T1(t,e,n,i){switch(s1(e)){case 1:var r=PA;break;case 4:r=CA;break;default:r=Qm}n=r.bind(null,e,n,t),r=void 0,!ug||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(r=!0),i?r!==void 0?t.addEventListener(e,n,{capture:!0,passive:r}):t.addEventListener(e,n,!0):r!==void 0?t.addEventListener(e,n,{passive:r}):t.addEventListener(e,n,!1)}function up(t,e,n,i,r){var s=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var o=i.tag;if(o===3||o===4){var a=i.stateNode.containerInfo;if(a===r||a.nodeType===8&&a.parentNode===r)break;if(o===4)for(o=i.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===r||l.nodeType===8&&l.parentNode===r))return;o=o.return}for(;a!==null;){if(o=cs(a),o===null)return;if(l=o.tag,l===5||l===6){i=s=o;continue e}a=a.parentNode}}i=i.return}$S(function(){var u=s,h=Ym(n),d=[];e:{var f=w1.get(t);if(f!==void 0){var g=Jm,y=t;switch(t){case"keypress":if(zc(n)===0)break e;case"keydown":case"keyup":g=HA;break;case"focusin":y="focus",g=np;break;case"focusout":y="blur",g=np;break;case"beforeblur":case"afterblur":g=np;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=I0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=DA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=qA;break;case m1:case y1:case _1:g=NA;break;case v1:g=KA;break;case"scroll":g=AA;break;case"wheel":g=XA;break;case"copy":case"cut":case"paste":g=VA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=b0}var w=(e&4)!==0,T=!w&&t==="scroll",_=w?f!==null?f+"Capture":null:f;w=[];for(var v=u,x;v!==null;){x=v;var R=x.stateNode;if(x.tag===5&&R!==null&&(x=R,_!==null&&(R=Sl(v,_),R!=null&&w.push(Al(v,R,x)))),T)break;v=v.return}0<w.length&&(f=new g(f,y,null,n,h),d.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",f&&n!==ag&&(y=n.relatedTarget||n.fromElement)&&(cs(y)||y[Li]))break e;if((g||f)&&(f=h.window===h?h:(f=h.ownerDocument)?f.defaultView||f.parentWindow:window,g?(y=n.relatedTarget||n.toElement,g=u,y=y?cs(y):null,y!==null&&(T=Ms(y),y!==T||y.tag!==5&&y.tag!==6)&&(y=null)):(g=null,y=u),g!==y)){if(w=I0,R="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=b0,R="onPointerLeave",_="onPointerEnter",v="pointer"),T=g==null?f:io(g),x=y==null?f:io(y),f=new w(R,v+"leave",g,n,h),f.target=T,f.relatedTarget=x,R=null,cs(h)===u&&(w=new w(_,v+"enter",y,n,h),w.target=x,w.relatedTarget=T,R=w),T=R,g&&y)t:{for(w=g,_=y,v=0,x=w;x;x=Ws(x))v++;for(x=0,R=_;R;R=Ws(R))x++;for(;0<v-x;)w=Ws(w),v--;for(;0<x-v;)_=Ws(_),x--;for(;v--;){if(w===_||_!==null&&w===_.alternate)break t;w=Ws(w),_=Ws(_)}w=null}else w=null;g!==null&&F0(d,f,g,w,!1),y!==null&&T!==null&&F0(d,T,y,w,!0)}}e:{if(f=u?io(u):window,g=f.nodeName&&f.nodeName.toLowerCase(),g==="select"||g==="input"&&f.type==="file")var M=rR;else if(A0(f))if(h1)M=lR;else{M=oR;var N=sR}else(g=f.nodeName)&&g.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(M=aR);if(M&&(M=M(t,u))){c1(d,M,n,h);break e}N&&N(t,f,u),t==="focusout"&&(N=f._wrapperState)&&N.controlled&&f.type==="number"&&ng(f,"number",f.value)}switch(N=u?io(u):window,t){case"focusin":(A0(N)||N.contentEditable==="true")&&(to=N,pg=u,ol=null);break;case"focusout":ol=pg=to=null;break;case"mousedown":gg=!0;break;case"contextmenu":case"mouseup":case"dragend":gg=!1,N0(d,n,h);break;case"selectionchange":if(hR)break;case"keydown":case"keyup":N0(d,n,h)}var I;if(ey)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else eo?l1(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(a1&&n.locale!=="ko"&&(eo||E!=="onCompositionStart"?E==="onCompositionEnd"&&eo&&(I=o1()):(ur=h,Xm="value"in ur?ur.value:ur.textContent,eo=!0)),N=Th(u,E),0<N.length&&(E=new k0(E,t,null,n,h),d.push({event:E,listeners:N}),I?E.data=I:(I=u1(n),I!==null&&(E.data=I)))),(I=ZA?eR(t,n):tR(t,n))&&(u=Th(u,"onBeforeInput"),0<u.length&&(h=new k0("onBeforeInput","beforeinput",null,n,h),d.push({event:h,listeners:u}),h.data=I))}E1(d,e)})}function Al(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Th(t,e){for(var n=e+"Capture",i=[];t!==null;){var r=t,s=r.stateNode;r.tag===5&&s!==null&&(r=s,s=Sl(t,n),s!=null&&i.unshift(Al(t,s,r)),s=Sl(t,e),s!=null&&i.push(Al(t,s,r))),t=t.return}return i}function Ws(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function F0(t,e,n,i,r){for(var s=e._reactName,o=[];n!==null&&n!==i;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===i)break;a.tag===5&&u!==null&&(a=u,r?(l=Sl(n,s),l!=null&&o.unshift(Al(n,l,a))):r||(l=Sl(n,s),l!=null&&o.push(Al(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var gR=/\r\n?/g,mR=/\u0000|\uFFFD/g;function j0(t){return(typeof t=="string"?t:""+t).replace(gR,`
`).replace(mR,"")}function lc(t,e,n){if(e=j0(e),j0(t)!==e&&n)throw Error(U(425))}function Sh(){}var mg=null,yg=null;function _g(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var vg=typeof setTimeout=="function"?setTimeout:void 0,yR=typeof clearTimeout=="function"?clearTimeout:void 0,U0=typeof Promise=="function"?Promise:void 0,_R=typeof queueMicrotask=="function"?queueMicrotask:typeof U0<"u"?function(t){return U0.resolve(null).then(t).catch(vR)}:vg;function vR(t){setTimeout(function(){throw t})}function cp(t,e){var n=e,i=0;do{var r=n.nextSibling;if(t.removeChild(n),r&&r.nodeType===8)if(n=r.data,n==="/$"){if(i===0){t.removeChild(r),kl(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=r}while(n);kl(e)}function Er(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function z0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ko=Math.random().toString(36).slice(2),Kn="__reactFiber$"+Ko,Rl="__reactProps$"+Ko,Li="__reactContainer$"+Ko,wg="__reactEvents$"+Ko,wR="__reactListeners$"+Ko,ER="__reactHandles$"+Ko;function cs(t){var e=t[Kn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Li]||n[Kn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=z0(t);t!==null;){if(n=t[Kn])return n;t=z0(t)}return e}t=n,n=t.parentNode}return null}function hu(t){return t=t[Kn]||t[Li],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function io(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(U(33))}function kd(t){return t[Rl]||null}var Eg=[],ro=-1;function Hr(t){return{current:t}}function Le(t){0>ro||(t.current=Eg[ro],Eg[ro]=null,ro--)}function De(t,e){ro++,Eg[ro]=t.current,t.current=e}var Nr={},Nt=Hr(Nr),en=Hr(!1),Ts=Nr;function Po(t,e){var n=t.type.contextTypes;if(!n)return Nr;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var r={},s;for(s in n)r[s]=e[s];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=r),r}function tn(t){return t=t.childContextTypes,t!=null}function xh(){Le(en),Le(Nt)}function B0(t,e,n){if(Nt.current!==Nr)throw Error(U(168));De(Nt,e),De(en,n)}function S1(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var r in i)if(!(r in e))throw Error(U(108,sA(t)||"Unknown",r));return Ye({},n,i)}function Ih(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Nr,Ts=Nt.current,De(Nt,t),De(en,en.current),!0}function W0(t,e,n){var i=t.stateNode;if(!i)throw Error(U(169));n?(t=S1(t,e,Ts),i.__reactInternalMemoizedMergedChildContext=t,Le(en),Le(Nt),De(Nt,t)):Le(en),De(en,n)}var wi=null,bd=!1,hp=!1;function x1(t){wi===null?wi=[t]:wi.push(t)}function TR(t){bd=!0,x1(t)}function $r(){if(!hp&&wi!==null){hp=!0;var t=0,e=xe;try{var n=wi;for(xe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}wi=null,bd=!1}catch(r){throw wi!==null&&(wi=wi.slice(t+1)),KS(qm,$r),r}finally{xe=e,hp=!1}}return null}var so=[],oo=0,kh=null,bh=0,gn=[],mn=0,Ss=null,Ti=1,Si="";function ss(t,e){so[oo++]=bh,so[oo++]=kh,kh=t,bh=e}function I1(t,e,n){gn[mn++]=Ti,gn[mn++]=Si,gn[mn++]=Ss,Ss=t;var i=Ti;t=Si;var r=32-Dn(i)-1;i&=~(1<<r),n+=1;var s=32-Dn(e)+r;if(30<s){var o=r-r%5;s=(i&(1<<o)-1).toString(32),i>>=o,r-=o,Ti=1<<32-Dn(e)+r|n<<r|i,Si=s+t}else Ti=1<<s|n<<r|i,Si=t}function ny(t){t.return!==null&&(ss(t,1),I1(t,1,0))}function iy(t){for(;t===kh;)kh=so[--oo],so[oo]=null,bh=so[--oo],so[oo]=null;for(;t===Ss;)Ss=gn[--mn],gn[mn]=null,Si=gn[--mn],gn[mn]=null,Ti=gn[--mn],gn[mn]=null}var un=null,an=null,Ue=!1,An=null;function k1(t,e){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function H0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,an=Er(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,an=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ss!==null?{id:Ti,overflow:Si}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,un=t,an=null,!0):!1;default:return!1}}function Tg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Sg(t){if(Ue){var e=an;if(e){var n=e;if(!H0(t,e)){if(Tg(t))throw Error(U(418));e=Er(n.nextSibling);var i=un;e&&H0(t,e)?k1(i,n):(t.flags=t.flags&-4097|2,Ue=!1,un=t)}}else{if(Tg(t))throw Error(U(418));t.flags=t.flags&-4097|2,Ue=!1,un=t}}}function $0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function uc(t){if(t!==un)return!1;if(!Ue)return $0(t),Ue=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_g(t.type,t.memoizedProps)),e&&(e=an)){if(Tg(t))throw b1(),Error(U(418));for(;e;)k1(t,e),e=Er(e.nextSibling)}if($0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(U(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){an=Er(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}an=null}}else an=un?Er(t.stateNode.nextSibling):null;return!0}function b1(){for(var t=an;t;)t=Er(t.nextSibling)}function Co(){an=un=null,Ue=!1}function ry(t){An===null?An=[t]:An.push(t)}var SR=Hi.ReactCurrentBatchConfig;function Ca(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(U(309));var i=n.stateNode}if(!i)throw Error(U(147,t));var r=i,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=r.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(U(284));if(!n._owner)throw Error(U(290,t))}return t}function cc(t,e){throw t=Object.prototype.toString.call(e),Error(U(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Y0(t){var e=t._init;return e(t._payload)}function P1(t){function e(_,v){if(t){var x=_.deletions;x===null?(_.deletions=[v],_.flags|=16):x.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function i(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function r(_,v){return _=Ir(_,v),_.index=0,_.sibling=null,_}function s(_,v,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<v?(_.flags|=2,v):x):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,x,R){return v===null||v.tag!==6?(v=_p(x,_.mode,R),v.return=_,v):(v=r(v,x),v.return=_,v)}function l(_,v,x,R){var M=x.type;return M===Zs?h(_,v,x.props.children,R,x.key):v!==null&&(v.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===tr&&Y0(M)===v.type)?(R=r(v,x.props),R.ref=Ca(_,v,x),R.return=_,R):(R=Gc(x.type,x.key,x.props,null,_.mode,R),R.ref=Ca(_,v,x),R.return=_,R)}function u(_,v,x,R){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=vp(x,_.mode,R),v.return=_,v):(v=r(v,x.children||[]),v.return=_,v)}function h(_,v,x,R,M){return v===null||v.tag!==7?(v=ms(x,_.mode,R,M),v.return=_,v):(v=r(v,x),v.return=_,v)}function d(_,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=_p(""+v,_.mode,x),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Zu:return x=Gc(v.type,v.key,v.props,null,_.mode,x),x.ref=Ca(_,null,v),x.return=_,x;case Js:return v=vp(v,_.mode,x),v.return=_,v;case tr:var R=v._init;return d(_,R(v._payload),x)}if(Ua(v)||xa(v))return v=ms(v,_.mode,x,null),v.return=_,v;cc(_,v)}return null}function f(_,v,x,R){var M=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return M!==null?null:a(_,v,""+x,R);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Zu:return x.key===M?l(_,v,x,R):null;case Js:return x.key===M?u(_,v,x,R):null;case tr:return M=x._init,f(_,v,M(x._payload),R)}if(Ua(x)||xa(x))return M!==null?null:h(_,v,x,R,null);cc(_,x)}return null}function g(_,v,x,R,M){if(typeof R=="string"&&R!==""||typeof R=="number")return _=_.get(x)||null,a(v,_,""+R,M);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Zu:return _=_.get(R.key===null?x:R.key)||null,l(v,_,R,M);case Js:return _=_.get(R.key===null?x:R.key)||null,u(v,_,R,M);case tr:var N=R._init;return g(_,v,x,N(R._payload),M)}if(Ua(R)||xa(R))return _=_.get(x)||null,h(v,_,R,M,null);cc(v,R)}return null}function y(_,v,x,R){for(var M=null,N=null,I=v,E=v=0,k=null;I!==null&&E<x.length;E++){I.index>E?(k=I,I=null):k=I.sibling;var b=f(_,I,x[E],R);if(b===null){I===null&&(I=k);break}t&&I&&b.alternate===null&&e(_,I),v=s(b,v,E),N===null?M=b:N.sibling=b,N=b,I=k}if(E===x.length)return n(_,I),Ue&&ss(_,E),M;if(I===null){for(;E<x.length;E++)I=d(_,x[E],R),I!==null&&(v=s(I,v,E),N===null?M=I:N.sibling=I,N=I);return Ue&&ss(_,E),M}for(I=i(_,I);E<x.length;E++)k=g(I,_,E,x[E],R),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?E:k.key),v=s(k,v,E),N===null?M=k:N.sibling=k,N=k);return t&&I.forEach(function(C){return e(_,C)}),Ue&&ss(_,E),M}function w(_,v,x,R){var M=xa(x);if(typeof M!="function")throw Error(U(150));if(x=M.call(x),x==null)throw Error(U(151));for(var N=M=null,I=v,E=v=0,k=null,b=x.next();I!==null&&!b.done;E++,b=x.next()){I.index>E?(k=I,I=null):k=I.sibling;var C=f(_,I,b.value,R);if(C===null){I===null&&(I=k);break}t&&I&&C.alternate===null&&e(_,I),v=s(C,v,E),N===null?M=C:N.sibling=C,N=C,I=k}if(b.done)return n(_,I),Ue&&ss(_,E),M;if(I===null){for(;!b.done;E++,b=x.next())b=d(_,b.value,R),b!==null&&(v=s(b,v,E),N===null?M=b:N.sibling=b,N=b);return Ue&&ss(_,E),M}for(I=i(_,I);!b.done;E++,b=x.next())b=g(I,_,E,b.value,R),b!==null&&(t&&b.alternate!==null&&I.delete(b.key===null?E:b.key),v=s(b,v,E),N===null?M=b:N.sibling=b,N=b);return t&&I.forEach(function(D){return e(_,D)}),Ue&&ss(_,E),M}function T(_,v,x,R){if(typeof x=="object"&&x!==null&&x.type===Zs&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Zu:e:{for(var M=x.key,N=v;N!==null;){if(N.key===M){if(M=x.type,M===Zs){if(N.tag===7){n(_,N.sibling),v=r(N,x.props.children),v.return=_,_=v;break e}}else if(N.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===tr&&Y0(M)===N.type){n(_,N.sibling),v=r(N,x.props),v.ref=Ca(_,N,x),v.return=_,_=v;break e}n(_,N);break}else e(_,N);N=N.sibling}x.type===Zs?(v=ms(x.props.children,_.mode,R,x.key),v.return=_,_=v):(R=Gc(x.type,x.key,x.props,null,_.mode,R),R.ref=Ca(_,v,x),R.return=_,_=R)}return o(_);case Js:e:{for(N=x.key;v!==null;){if(v.key===N)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){n(_,v.sibling),v=r(v,x.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=vp(x,_.mode,R),v.return=_,_=v}return o(_);case tr:return N=x._init,T(_,v,N(x._payload),R)}if(Ua(x))return y(_,v,x,R);if(xa(x))return w(_,v,x,R);cc(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(n(_,v.sibling),v=r(v,x),v.return=_,_=v):(n(_,v),v=_p(x,_.mode,R),v.return=_,_=v),o(_)):n(_,v)}return T}var Ao=P1(!0),C1=P1(!1),Ph=Hr(null),Ch=null,ao=null,sy=null;function oy(){sy=ao=Ch=null}function ay(t){var e=Ph.current;Le(Ph),t._currentValue=e}function xg(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function yo(t,e){Ch=t,sy=ao=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Jt=!0),t.firstContext=null)}function En(t){var e=t._currentValue;if(sy!==t)if(t={context:t,memoizedValue:e,next:null},ao===null){if(Ch===null)throw Error(U(308));ao=t,Ch.dependencies={lanes:0,firstContext:t}}else ao=ao.next=t;return e}var hs=null;function ly(t){hs===null?hs=[t]:hs.push(t)}function A1(t,e,n,i){var r=e.interleaved;return r===null?(n.next=n,ly(e)):(n.next=r.next,r.next=n),e.interleaved=n,Vi(t,i)}function Vi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var nr=!1;function uy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function R1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ri(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Tr(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ge&2){var r=i.pending;return r===null?e.next=e:(e.next=r.next,r.next=e),i.pending=e,Vi(t,n)}return r=i.interleaved,r===null?(e.next=e,ly(i)):(e.next=r.next,r.next=e),i.interleaved=e,Vi(t,n)}function Bc(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Gm(t,n)}}function q0(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var r=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?r=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?r=s=e:s=s.next=e}else r=s=e;n={baseState:i.baseState,firstBaseUpdate:r,lastBaseUpdate:s,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ah(t,e,n,i){var r=t.updateQueue;nr=!1;var s=r.firstBaseUpdate,o=r.lastBaseUpdate,a=r.shared.pending;if(a!==null){r.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=u:a.next=u,h.lastBaseUpdate=l))}if(s!==null){var d=r.baseState;o=0,h=u=l=null,a=s;do{var f=a.lane,g=a.eventTime;if((i&f)===f){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,g=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){d=y.call(g,d,f);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(g,d,f):y,f==null)break e;d=Ye({},d,f);break e;case 2:nr=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=r.effects,f===null?r.effects=[a]:f.push(a))}else g={eventTime:g,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(u=h=g,l=d):h=h.next=g,o|=f;if(a=a.next,a===null){if(a=r.shared.pending,a===null)break;f=a,a=f.next,f.next=null,r.lastBaseUpdate=f,r.shared.pending=null}}while(!0);if(h===null&&(l=d),r.baseState=l,r.firstBaseUpdate=u,r.lastBaseUpdate=h,e=r.shared.interleaved,e!==null){r=e;do o|=r.lane,r=r.next;while(r!==e)}else s===null&&(r.shared.lanes=0);Is|=o,t.lanes=o,t.memoizedState=d}}function G0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],r=i.callback;if(r!==null){if(i.callback=null,i=n,typeof r!="function")throw Error(U(191,r));r.call(i)}}}var du={},ei=Hr(du),Dl=Hr(du),Ml=Hr(du);function ds(t){if(t===du)throw Error(U(174));return t}function cy(t,e){switch(De(Ml,e),De(Dl,t),De(ei,du),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:rg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=rg(e,t)}Le(ei),De(ei,e)}function Ro(){Le(ei),Le(Dl),Le(Ml)}function D1(t){ds(Ml.current);var e=ds(ei.current),n=rg(e,t.type);e!==n&&(De(Dl,t),De(ei,n))}function hy(t){Dl.current===t&&(Le(ei),Le(Dl))}var We=Hr(0);function Rh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dp=[];function dy(){for(var t=0;t<dp.length;t++)dp[t]._workInProgressVersionPrimary=null;dp.length=0}var Wc=Hi.ReactCurrentDispatcher,fp=Hi.ReactCurrentBatchConfig,xs=0,$e=null,st=null,ht=null,Dh=!1,al=!1,Ol=0,xR=0;function bt(){throw Error(U(321))}function fy(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Nn(t[n],e[n]))return!1;return!0}function py(t,e,n,i,r,s){if(xs=s,$e=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wc.current=t===null||t.memoizedState===null?PR:CR,t=n(i,r),al){s=0;do{if(al=!1,Ol=0,25<=s)throw Error(U(301));s+=1,ht=st=null,e.updateQueue=null,Wc.current=AR,t=n(i,r)}while(al)}if(Wc.current=Mh,e=st!==null&&st.next!==null,xs=0,ht=st=$e=null,Dh=!1,e)throw Error(U(300));return t}function gy(){var t=Ol!==0;return Ol=0,t}function qn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?$e.memoizedState=ht=t:ht=ht.next=t,ht}function Tn(){if(st===null){var t=$e.alternate;t=t!==null?t.memoizedState:null}else t=st.next;var e=ht===null?$e.memoizedState:ht.next;if(e!==null)ht=e,st=t;else{if(t===null)throw Error(U(310));st=t,t={memoizedState:st.memoizedState,baseState:st.baseState,baseQueue:st.baseQueue,queue:st.queue,next:null},ht===null?$e.memoizedState=ht=t:ht=ht.next=t}return ht}function Nl(t,e){return typeof e=="function"?e(t):e}function pp(t){var e=Tn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=st,r=i.baseQueue,s=n.pending;if(s!==null){if(r!==null){var o=r.next;r.next=s.next,s.next=o}i.baseQueue=r=s,n.pending=null}if(r!==null){s=r.next,i=i.baseState;var a=o=null,l=null,u=s;do{var h=u.lane;if((xs&h)===h)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),i=u.hasEagerState?u.eagerState:t(i,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=i):l=l.next=d,$e.lanes|=h,Is|=h}u=u.next}while(u!==null&&u!==s);l===null?o=i:l.next=a,Nn(i,e.memoizedState)||(Jt=!0),e.memoizedState=i,e.baseState=o,e.baseQueue=l,n.lastRenderedState=i}if(t=n.interleaved,t!==null){r=t;do s=r.lane,$e.lanes|=s,Is|=s,r=r.next;while(r!==t)}else r===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gp(t){var e=Tn(),n=e.queue;if(n===null)throw Error(U(311));n.lastRenderedReducer=t;var i=n.dispatch,r=n.pending,s=e.memoizedState;if(r!==null){n.pending=null;var o=r=r.next;do s=t(s,o.action),o=o.next;while(o!==r);Nn(s,e.memoizedState)||(Jt=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,i]}function M1(){}function O1(t,e){var n=$e,i=Tn(),r=e(),s=!Nn(i.memoizedState,r);if(s&&(i.memoizedState=r,Jt=!0),i=i.queue,my(V1.bind(null,n,i,t),[t]),i.getSnapshot!==e||s||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,Ll(9,L1.bind(null,n,i,r,e),void 0,null),dt===null)throw Error(U(349));xs&30||N1(n,e,r)}return r}function N1(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function L1(t,e,n,i){e.value=n,e.getSnapshot=i,F1(e)&&j1(t)}function V1(t,e,n){return n(function(){F1(e)&&j1(t)})}function F1(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Nn(t,n)}catch{return!0}}function j1(t){var e=Vi(t,1);e!==null&&Mn(e,t,1,-1)}function K0(t){var e=qn();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Nl,lastRenderedState:t},e.queue=t,t=t.dispatch=bR.bind(null,$e,t),[e.memoizedState,t]}function Ll(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=$e.updateQueue,e===null?(e={lastEffect:null,stores:null},$e.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function U1(){return Tn().memoizedState}function Hc(t,e,n,i){var r=qn();$e.flags|=t,r.memoizedState=Ll(1|e,n,void 0,i===void 0?null:i)}function Pd(t,e,n,i){var r=Tn();i=i===void 0?null:i;var s=void 0;if(st!==null){var o=st.memoizedState;if(s=o.destroy,i!==null&&fy(i,o.deps)){r.memoizedState=Ll(e,n,s,i);return}}$e.flags|=t,r.memoizedState=Ll(1|e,n,s,i)}function Q0(t,e){return Hc(8390656,8,t,e)}function my(t,e){return Pd(2048,8,t,e)}function z1(t,e){return Pd(4,2,t,e)}function B1(t,e){return Pd(4,4,t,e)}function W1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function H1(t,e,n){return n=n!=null?n.concat([t]):null,Pd(4,4,W1.bind(null,e,t),n)}function yy(){}function $1(t,e){var n=Tn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&fy(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function Y1(t,e){var n=Tn();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&fy(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function q1(t,e,n){return xs&21?(Nn(n,e)||(n=JS(),$e.lanes|=n,Is|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Jt=!0),t.memoizedState=n)}function IR(t,e){var n=xe;xe=n!==0&&4>n?n:4,t(!0);var i=fp.transition;fp.transition={};try{t(!1),e()}finally{xe=n,fp.transition=i}}function G1(){return Tn().memoizedState}function kR(t,e,n){var i=xr(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},K1(t))Q1(e,n);else if(n=A1(t,e,n,i),n!==null){var r=Bt();Mn(n,t,i,r),X1(n,e,i)}}function bR(t,e,n){var i=xr(t),r={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(K1(t))Q1(e,r);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(r.hasEagerState=!0,r.eagerState=a,Nn(a,o)){var l=e.interleaved;l===null?(r.next=r,ly(e)):(r.next=l.next,l.next=r),e.interleaved=r;return}}catch{}finally{}n=A1(t,e,r,i),n!==null&&(r=Bt(),Mn(n,t,i,r),X1(n,e,i))}}function K1(t){var e=t.alternate;return t===$e||e!==null&&e===$e}function Q1(t,e){al=Dh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function X1(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,Gm(t,n)}}var Mh={readContext:En,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useInsertionEffect:bt,useLayoutEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useMutableSource:bt,useSyncExternalStore:bt,useId:bt,unstable_isNewReconciler:!1},PR={readContext:En,useCallback:function(t,e){return qn().memoizedState=[t,e===void 0?null:e],t},useContext:En,useEffect:Q0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Hc(4194308,4,W1.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Hc(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hc(4,2,t,e)},useMemo:function(t,e){var n=qn();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=qn();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=kR.bind(null,$e,t),[i.memoizedState,t]},useRef:function(t){var e=qn();return t={current:t},e.memoizedState=t},useState:K0,useDebugValue:yy,useDeferredValue:function(t){return qn().memoizedState=t},useTransition:function(){var t=K0(!1),e=t[0];return t=IR.bind(null,t[1]),qn().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=$e,r=qn();if(Ue){if(n===void 0)throw Error(U(407));n=n()}else{if(n=e(),dt===null)throw Error(U(349));xs&30||N1(i,e,n)}r.memoizedState=n;var s={value:n,getSnapshot:e};return r.queue=s,Q0(V1.bind(null,i,s,t),[t]),i.flags|=2048,Ll(9,L1.bind(null,i,s,n,e),void 0,null),n},useId:function(){var t=qn(),e=dt.identifierPrefix;if(Ue){var n=Si,i=Ti;n=(i&~(1<<32-Dn(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ol++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=xR++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CR={readContext:En,useCallback:$1,useContext:En,useEffect:my,useImperativeHandle:H1,useInsertionEffect:z1,useLayoutEffect:B1,useMemo:Y1,useReducer:pp,useRef:U1,useState:function(){return pp(Nl)},useDebugValue:yy,useDeferredValue:function(t){var e=Tn();return q1(e,st.memoizedState,t)},useTransition:function(){var t=pp(Nl)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:M1,useSyncExternalStore:O1,useId:G1,unstable_isNewReconciler:!1},AR={readContext:En,useCallback:$1,useContext:En,useEffect:my,useImperativeHandle:H1,useInsertionEffect:z1,useLayoutEffect:B1,useMemo:Y1,useReducer:gp,useRef:U1,useState:function(){return gp(Nl)},useDebugValue:yy,useDeferredValue:function(t){var e=Tn();return st===null?e.memoizedState=t:q1(e,st.memoizedState,t)},useTransition:function(){var t=gp(Nl)[0],e=Tn().memoizedState;return[t,e]},useMutableSource:M1,useSyncExternalStore:O1,useId:G1,unstable_isNewReconciler:!1};function bn(t,e){if(t&&t.defaultProps){e=Ye({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Ig(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Ye({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Cd={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=Bt(),r=xr(t),s=Ri(i,r);s.payload=e,n!=null&&(s.callback=n),e=Tr(t,s,r),e!==null&&(Mn(e,t,r,i),Bc(e,t,r))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=Bt(),r=xr(t),s=Ri(i,r);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Tr(t,s,r),e!==null&&(Mn(e,t,r,i),Bc(e,t,r))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Bt(),i=xr(t),r=Ri(n,i);r.tag=2,e!=null&&(r.callback=e),e=Tr(t,r,i),e!==null&&(Mn(e,t,i,n),Bc(e,t,i))}};function X0(t,e,n,i,r,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pl(n,i)||!Pl(r,s):!0}function J1(t,e,n){var i=!1,r=Nr,s=e.contextType;return typeof s=="object"&&s!==null?s=En(s):(r=tn(e)?Ts:Nt.current,i=e.contextTypes,s=(i=i!=null)?Po(t,r):Nr),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cd,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=s),e}function J0(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Cd.enqueueReplaceState(e,e.state,null)}function kg(t,e,n,i){var r=t.stateNode;r.props=n,r.state=t.memoizedState,r.refs={},uy(t);var s=e.contextType;typeof s=="object"&&s!==null?r.context=En(s):(s=tn(e)?Ts:Nt.current,r.context=Po(t,s)),r.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ig(t,e,s,n),r.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof r.getSnapshotBeforeUpdate=="function"||typeof r.UNSAFE_componentWillMount!="function"&&typeof r.componentWillMount!="function"||(e=r.state,typeof r.componentWillMount=="function"&&r.componentWillMount(),typeof r.UNSAFE_componentWillMount=="function"&&r.UNSAFE_componentWillMount(),e!==r.state&&Cd.enqueueReplaceState(r,r.state,null),Ah(t,n,r,i),r.state=t.memoizedState),typeof r.componentDidMount=="function"&&(t.flags|=4194308)}function Do(t,e){try{var n="",i=e;do n+=rA(i),i=i.return;while(i);var r=n}catch(s){r=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:r,digest:null}}function mp(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RR=typeof WeakMap=="function"?WeakMap:Map;function Z1(t,e,n){n=Ri(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){Nh||(Nh=!0,Vg=i),bg(t,e)},n}function ex(t,e,n){n=Ri(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var r=e.value;n.payload=function(){return i(r)},n.callback=function(){bg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){bg(t,e),typeof i!="function"&&(Sr===null?Sr=new Set([this]):Sr.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Z0(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new RR;var r=new Set;i.set(e,r)}else r=i.get(e),r===void 0&&(r=new Set,i.set(e,r));r.has(n)||(r.add(n),t=$R.bind(null,t,e,n),e.then(t,t))}function ew(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function tw(t,e,n,i,r){return t.mode&1?(t.flags|=65536,t.lanes=r,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ri(-1,1),e.tag=2,Tr(n,e,1))),n.lanes|=1),t)}var DR=Hi.ReactCurrentOwner,Jt=!1;function zt(t,e,n,i){e.child=t===null?C1(e,null,n,i):Ao(e,t.child,n,i)}function nw(t,e,n,i,r){n=n.render;var s=e.ref;return yo(e,r),i=py(t,e,n,i,s,r),n=gy(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Fi(t,e,r)):(Ue&&n&&ny(e),e.flags|=1,zt(t,e,i,r),e.child)}function iw(t,e,n,i,r){if(t===null){var s=n.type;return typeof s=="function"&&!Iy(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,tx(t,e,s,i,r)):(t=Gc(n.type,null,i,e,e.mode,r),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&r)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Pl,n(o,i)&&t.ref===e.ref)return Fi(t,e,r)}return e.flags|=1,t=Ir(s,i),t.ref=e.ref,t.return=e,e.child=t}function tx(t,e,n,i,r){if(t!==null){var s=t.memoizedProps;if(Pl(s,i)&&t.ref===e.ref)if(Jt=!1,e.pendingProps=i=s,(t.lanes&r)!==0)t.flags&131072&&(Jt=!0);else return e.lanes=t.lanes,Fi(t,e,r)}return Pg(t,e,n,i,r)}function nx(t,e,n){var i=e.pendingProps,r=i.children,s=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},De(uo,on),on|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,De(uo,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=s!==null?s.baseLanes:n,De(uo,on),on|=i}else s!==null?(i=s.baseLanes|n,e.memoizedState=null):i=n,De(uo,on),on|=i;return zt(t,e,r,n),e.child}function ix(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pg(t,e,n,i,r){var s=tn(n)?Ts:Nt.current;return s=Po(e,s),yo(e,r),n=py(t,e,n,i,s,r),i=gy(),t!==null&&!Jt?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~r,Fi(t,e,r)):(Ue&&i&&ny(e),e.flags|=1,zt(t,e,n,r),e.child)}function rw(t,e,n,i,r){if(tn(n)){var s=!0;Ih(e)}else s=!1;if(yo(e,r),e.stateNode===null)$c(t,e),J1(e,n,i),kg(e,n,i,r),i=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=En(u):(u=tn(n)?Ts:Nt.current,u=Po(e,u));var h=n.getDerivedStateFromProps,d=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==i||l!==u)&&J0(e,o,i,u),nr=!1;var f=e.memoizedState;o.state=f,Ah(e,i,o,r),l=e.memoizedState,a!==i||f!==l||en.current||nr?(typeof h=="function"&&(Ig(e,n,h,i),l=e.memoizedState),(a=nr||X0(e,n,a,i,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=l),o.props=i,o.state=l,o.context=u,i=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{o=e.stateNode,R1(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:bn(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=En(l):(l=tn(n)?Ts:Nt.current,l=Po(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&J0(e,o,i,l),nr=!1,f=e.memoizedState,o.state=f,Ah(e,i,o,r);var y=e.memoizedState;a!==d||f!==y||en.current||nr?(typeof g=="function"&&(Ig(e,n,g,i),y=e.memoizedState),(u=nr||X0(e,n,u,i,f,y,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(i,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(i,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=y),o.props=i,o.state=y,o.context=l,i=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),i=!1)}return Cg(t,e,n,i,s,r)}function Cg(t,e,n,i,r,s){ix(t,e);var o=(e.flags&128)!==0;if(!i&&!o)return r&&W0(e,n,!1),Fi(t,e,s);i=e.stateNode,DR.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&o?(e.child=Ao(e,t.child,null,s),e.child=Ao(e,null,a,s)):zt(t,e,a,s),e.memoizedState=i.state,r&&W0(e,n,!0),e.child}function rx(t){var e=t.stateNode;e.pendingContext?B0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&B0(t,e.context,!1),cy(t,e.containerInfo)}function sw(t,e,n,i,r){return Co(),ry(r),e.flags|=256,zt(t,e,n,i),e.child}var Ag={dehydrated:null,treeContext:null,retryLane:0};function Rg(t){return{baseLanes:t,cachePool:null,transitions:null}}function sx(t,e,n){var i=e.pendingProps,r=We.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(r&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(r|=1),De(We,r&1),t===null)return Sg(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=i.children,t=i.fallback,s?(i=e.mode,s=e.child,o={mode:"hidden",children:o},!(i&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dd(o,i,0,null),t=ms(t,i,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Rg(n),e.memoizedState=Ag,t):_y(e,o));if(r=t.memoizedState,r!==null&&(a=r.dehydrated,a!==null))return MR(t,e,o,i,a,r,n);if(s){s=i.fallback,o=e.mode,r=t.child,a=r.sibling;var l={mode:"hidden",children:i.children};return!(o&1)&&e.child!==r?(i=e.child,i.childLanes=0,i.pendingProps=l,e.deletions=null):(i=Ir(r,l),i.subtreeFlags=r.subtreeFlags&14680064),a!==null?s=Ir(a,s):(s=ms(s,o,n,null),s.flags|=2),s.return=e,i.return=e,i.sibling=s,e.child=i,i=s,s=e.child,o=t.child.memoizedState,o=o===null?Rg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=Ag,i}return s=t.child,t=s.sibling,i=Ir(s,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function _y(t,e){return e=Dd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function hc(t,e,n,i){return i!==null&&ry(i),Ao(e,t.child,null,n),t=_y(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function MR(t,e,n,i,r,s,o){if(n)return e.flags&256?(e.flags&=-257,i=mp(Error(U(422))),hc(t,e,o,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=i.fallback,r=e.mode,i=Dd({mode:"visible",children:i.children},r,0,null),s=ms(s,r,o,null),s.flags|=2,i.return=e,s.return=e,i.sibling=s,e.child=i,e.mode&1&&Ao(e,t.child,null,o),e.child.memoizedState=Rg(o),e.memoizedState=Ag,s);if(!(e.mode&1))return hc(t,e,o,null);if(r.data==="$!"){if(i=r.nextSibling&&r.nextSibling.dataset,i)var a=i.dgst;return i=a,s=Error(U(419)),i=mp(s,i,void 0),hc(t,e,o,i)}if(a=(o&t.childLanes)!==0,Jt||a){if(i=dt,i!==null){switch(o&-o){case 4:r=2;break;case 16:r=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:r=32;break;case 536870912:r=268435456;break;default:r=0}r=r&(i.suspendedLanes|o)?0:r,r!==0&&r!==s.retryLane&&(s.retryLane=r,Vi(t,r),Mn(i,t,r,-1))}return xy(),i=mp(Error(U(421))),hc(t,e,o,i)}return r.data==="$?"?(e.flags|=128,e.child=t.child,e=YR.bind(null,t),r._reactRetry=e,null):(t=s.treeContext,an=Er(r.nextSibling),un=e,Ue=!0,An=null,t!==null&&(gn[mn++]=Ti,gn[mn++]=Si,gn[mn++]=Ss,Ti=t.id,Si=t.overflow,Ss=e),e=_y(e,i.children),e.flags|=4096,e)}function ow(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),xg(t.return,e,n)}function yp(t,e,n,i,r){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:r}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=i,s.tail=n,s.tailMode=r)}function ox(t,e,n){var i=e.pendingProps,r=i.revealOrder,s=i.tail;if(zt(t,e,i.children,n),i=We.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ow(t,n,e);else if(t.tag===19)ow(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(De(We,i),!(e.mode&1))e.memoizedState=null;else switch(r){case"forwards":for(n=e.child,r=null;n!==null;)t=n.alternate,t!==null&&Rh(t)===null&&(r=n),n=n.sibling;n=r,n===null?(r=e.child,e.child=null):(r=n.sibling,n.sibling=null),yp(e,!1,r,n,s);break;case"backwards":for(n=null,r=e.child,e.child=null;r!==null;){if(t=r.alternate,t!==null&&Rh(t)===null){e.child=r;break}t=r.sibling,r.sibling=n,n=r,r=t}yp(e,!0,n,null,s);break;case"together":yp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $c(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Fi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Is|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(U(153));if(e.child!==null){for(t=e.child,n=Ir(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ir(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function OR(t,e,n){switch(e.tag){case 3:rx(e),Co();break;case 5:D1(e);break;case 1:tn(e.type)&&Ih(e);break;case 4:cy(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,r=e.memoizedProps.value;De(Ph,i._currentValue),i._currentValue=r;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(De(We,We.current&1),e.flags|=128,null):n&e.child.childLanes?sx(t,e,n):(De(We,We.current&1),t=Fi(t,e,n),t!==null?t.sibling:null);De(We,We.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return ox(t,e,n);e.flags|=128}if(r=e.memoizedState,r!==null&&(r.rendering=null,r.tail=null,r.lastEffect=null),De(We,We.current),i)break;return null;case 22:case 23:return e.lanes=0,nx(t,e,n)}return Fi(t,e,n)}var ax,Dg,lx,ux;ax=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Dg=function(){};lx=function(t,e,n,i){var r=t.memoizedProps;if(r!==i){t=e.stateNode,ds(ei.current);var s=null;switch(n){case"input":r=eg(t,r),i=eg(t,i),s=[];break;case"select":r=Ye({},r,{value:void 0}),i=Ye({},i,{value:void 0}),s=[];break;case"textarea":r=ig(t,r),i=ig(t,i),s=[];break;default:typeof r.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=Sh)}sg(n,i);var o;n=null;for(u in r)if(!i.hasOwnProperty(u)&&r.hasOwnProperty(u)&&r[u]!=null)if(u==="style"){var a=r[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(El.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in i){var l=i[u];if(a=r!=null?r[u]:void 0,i.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(El.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Oe("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};ux=function(t,e,n,i){n!==i&&(e.flags|=4)};function Aa(t,e){if(!Ue)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function Pt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags&14680064,i|=r.flags&14680064,r.return=t,r=r.sibling;else for(r=t.child;r!==null;)n|=r.lanes|r.childLanes,i|=r.subtreeFlags,i|=r.flags,r.return=t,r=r.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function NR(t,e,n){var i=e.pendingProps;switch(iy(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pt(e),null;case 1:return tn(e.type)&&xh(),Pt(e),null;case 3:return i=e.stateNode,Ro(),Le(en),Le(Nt),dy(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(uc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,An!==null&&(Ug(An),An=null))),Dg(t,e),Pt(e),null;case 5:hy(e);var r=ds(Ml.current);if(n=e.type,t!==null&&e.stateNode!=null)lx(t,e,n,i,r),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(U(166));return Pt(e),null}if(t=ds(ei.current),uc(e)){i=e.stateNode,n=e.type;var s=e.memoizedProps;switch(i[Kn]=e,i[Rl]=s,t=(e.mode&1)!==0,n){case"dialog":Oe("cancel",i),Oe("close",i);break;case"iframe":case"object":case"embed":Oe("load",i);break;case"video":case"audio":for(r=0;r<Ba.length;r++)Oe(Ba[r],i);break;case"source":Oe("error",i);break;case"img":case"image":case"link":Oe("error",i),Oe("load",i);break;case"details":Oe("toggle",i);break;case"input":g0(i,s),Oe("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!s.multiple},Oe("invalid",i);break;case"textarea":y0(i,s),Oe("invalid",i)}sg(n,s),r=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?i.textContent!==a&&(s.suppressHydrationWarning!==!0&&lc(i.textContent,a,t),r=["children",a]):typeof a=="number"&&i.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&lc(i.textContent,a,t),r=["children",""+a]):El.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Oe("scroll",i)}switch(n){case"input":ec(i),m0(i,s,!0);break;case"textarea":ec(i),_0(i);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(i.onclick=Sh)}i=r,e.updateQueue=i,i!==null&&(e.flags|=4)}else{o=r.nodeType===9?r:r.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=VS(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=o.createElement(n,{is:i.is}):(t=o.createElement(n),n==="select"&&(o=t,i.multiple?o.multiple=!0:i.size&&(o.size=i.size))):t=o.createElementNS(t,n),t[Kn]=e,t[Rl]=i,ax(t,e,!1,!1),e.stateNode=t;e:{switch(o=og(n,i),n){case"dialog":Oe("cancel",t),Oe("close",t),r=i;break;case"iframe":case"object":case"embed":Oe("load",t),r=i;break;case"video":case"audio":for(r=0;r<Ba.length;r++)Oe(Ba[r],t);r=i;break;case"source":Oe("error",t),r=i;break;case"img":case"image":case"link":Oe("error",t),Oe("load",t),r=i;break;case"details":Oe("toggle",t),r=i;break;case"input":g0(t,i),r=eg(t,i),Oe("invalid",t);break;case"option":r=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},r=Ye({},i,{value:void 0}),Oe("invalid",t);break;case"textarea":y0(t,i),r=ig(t,i),Oe("invalid",t);break;default:r=i}sg(n,r),a=r;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?US(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&FS(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Tl(t,l):typeof l=="number"&&Tl(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(El.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Oe("scroll",t):l!=null&&Bm(t,s,l,o))}switch(n){case"input":ec(t),m0(t,i,!1);break;case"textarea":ec(t),_0(t);break;case"option":i.value!=null&&t.setAttribute("value",""+Or(i.value));break;case"select":t.multiple=!!i.multiple,s=i.value,s!=null?fo(t,!!i.multiple,s,!1):i.defaultValue!=null&&fo(t,!!i.multiple,i.defaultValue,!0);break;default:typeof r.onClick=="function"&&(t.onclick=Sh)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Pt(e),null;case 6:if(t&&e.stateNode!=null)ux(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(U(166));if(n=ds(Ml.current),ds(ei.current),uc(e)){if(i=e.stateNode,n=e.memoizedProps,i[Kn]=e,(s=i.nodeValue!==n)&&(t=un,t!==null))switch(t.tag){case 3:lc(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&lc(i.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[Kn]=e,e.stateNode=i}return Pt(e),null;case 13:if(Le(We),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ue&&an!==null&&e.mode&1&&!(e.flags&128))b1(),Co(),e.flags|=98560,s=!1;else if(s=uc(e),i!==null&&i.dehydrated!==null){if(t===null){if(!s)throw Error(U(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(U(317));s[Kn]=e}else Co(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Pt(e),s=!1}else An!==null&&(Ug(An),An=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||We.current&1?ot===0&&(ot=3):xy())),e.updateQueue!==null&&(e.flags|=4),Pt(e),null);case 4:return Ro(),Dg(t,e),t===null&&Cl(e.stateNode.containerInfo),Pt(e),null;case 10:return ay(e.type._context),Pt(e),null;case 17:return tn(e.type)&&xh(),Pt(e),null;case 19:if(Le(We),s=e.memoizedState,s===null)return Pt(e),null;if(i=(e.flags&128)!==0,o=s.rendering,o===null)if(i)Aa(s,!1);else{if(ot!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Rh(t),o!==null){for(e.flags|=128,Aa(s,!1),i=o.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)s=n,t=i,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return De(We,We.current&1|2),e.child}t=t.sibling}s.tail!==null&&et()>Mo&&(e.flags|=128,i=!0,Aa(s,!1),e.lanes=4194304)}else{if(!i)if(t=Rh(o),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Aa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Ue)return Pt(e),null}else 2*et()-s.renderingStartTime>Mo&&n!==1073741824&&(e.flags|=128,i=!0,Aa(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=et(),e.sibling=null,n=We.current,De(We,i?n&1|2:n&1),e):(Pt(e),null);case 22:case 23:return Sy(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?on&1073741824&&(Pt(e),e.subtreeFlags&6&&(e.flags|=8192)):Pt(e),null;case 24:return null;case 25:return null}throw Error(U(156,e.tag))}function LR(t,e){switch(iy(e),e.tag){case 1:return tn(e.type)&&xh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ro(),Le(en),Le(Nt),dy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return hy(e),null;case 13:if(Le(We),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(U(340));Co()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Le(We),null;case 4:return Ro(),null;case 10:return ay(e.type._context),null;case 22:case 23:return Sy(),null;case 24:return null;default:return null}}var dc=!1,Dt=!1,VR=typeof WeakSet=="function"?WeakSet:Set,G=null;function lo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ke(t,e,i)}else n.current=null}function Mg(t,e,n){try{n()}catch(i){Ke(t,e,i)}}var aw=!1;function FR(t,e){if(mg=wh,t=p1(),ty(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var r=i.anchorOffset,s=i.focusNode;i=i.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,h=0,d=t,f=null;t:for(;;){for(var g;d!==n||r!==0&&d.nodeType!==3||(a=o+r),d!==s||i!==0&&d.nodeType!==3||(l=o+i),d.nodeType===3&&(o+=d.nodeValue.length),(g=d.firstChild)!==null;)f=d,d=g;for(;;){if(d===t)break t;if(f===n&&++u===r&&(a=o),f===s&&++h===i&&(l=o),(g=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(yg={focusedElem:t,selectionRange:n},wh=!1,G=e;G!==null;)if(e=G,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,G=t;else for(;G!==null;){e=G;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,T=y.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:bn(e.type,w),T);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(R){Ke(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,G=t;break}G=e.return}return y=aw,aw=!1,y}function ll(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var r=i=i.next;do{if((r.tag&t)===t){var s=r.destroy;r.destroy=void 0,s!==void 0&&Mg(e,n,s)}r=r.next}while(r!==i)}}function Ad(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Og(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function cx(t){var e=t.alternate;e!==null&&(t.alternate=null,cx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Kn],delete e[Rl],delete e[wg],delete e[wR],delete e[ER])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function hx(t){return t.tag===5||t.tag===3||t.tag===4}function lw(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||hx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ng(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Sh));else if(i!==4&&(t=t.child,t!==null))for(Ng(t,e,n),t=t.sibling;t!==null;)Ng(t,e,n),t=t.sibling}function Lg(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(Lg(t,e,n),t=t.sibling;t!==null;)Lg(t,e,n),t=t.sibling}var yt=null,Pn=!1;function Xi(t,e,n){for(n=n.child;n!==null;)dx(t,e,n),n=n.sibling}function dx(t,e,n){if(Zn&&typeof Zn.onCommitFiberUnmount=="function")try{Zn.onCommitFiberUnmount(Td,n)}catch{}switch(n.tag){case 5:Dt||lo(n,e);case 6:var i=yt,r=Pn;yt=null,Xi(t,e,n),yt=i,Pn=r,yt!==null&&(Pn?(t=yt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):yt.removeChild(n.stateNode));break;case 18:yt!==null&&(Pn?(t=yt,n=n.stateNode,t.nodeType===8?cp(t.parentNode,n):t.nodeType===1&&cp(t,n),kl(t)):cp(yt,n.stateNode));break;case 4:i=yt,r=Pn,yt=n.stateNode.containerInfo,Pn=!0,Xi(t,e,n),yt=i,Pn=r;break;case 0:case 11:case 14:case 15:if(!Dt&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){r=i=i.next;do{var s=r,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Mg(n,e,o),r=r.next}while(r!==i)}Xi(t,e,n);break;case 1:if(!Dt&&(lo(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(a){Ke(n,e,a)}Xi(t,e,n);break;case 21:Xi(t,e,n);break;case 22:n.mode&1?(Dt=(i=Dt)||n.memoizedState!==null,Xi(t,e,n),Dt=i):Xi(t,e,n);break;default:Xi(t,e,n)}}function uw(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new VR),e.forEach(function(i){var r=qR.bind(null,t,i);n.has(i)||(n.add(i),i.then(r,r))})}}function kn(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var r=n[i];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:yt=a.stateNode,Pn=!1;break e;case 3:yt=a.stateNode.containerInfo,Pn=!0;break e;case 4:yt=a.stateNode.containerInfo,Pn=!0;break e}a=a.return}if(yt===null)throw Error(U(160));dx(s,o,r),yt=null,Pn=!1;var l=r.alternate;l!==null&&(l.return=null),r.return=null}catch(u){Ke(r,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fx(e,t),e=e.sibling}function fx(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kn(e,t),Hn(t),i&4){try{ll(3,t,t.return),Ad(3,t)}catch(w){Ke(t,t.return,w)}try{ll(5,t,t.return)}catch(w){Ke(t,t.return,w)}}break;case 1:kn(e,t),Hn(t),i&512&&n!==null&&lo(n,n.return);break;case 5:if(kn(e,t),Hn(t),i&512&&n!==null&&lo(n,n.return),t.flags&32){var r=t.stateNode;try{Tl(r,"")}catch(w){Ke(t,t.return,w)}}if(i&4&&(r=t.stateNode,r!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&NS(r,s),og(a,o);var u=og(a,s);for(o=0;o<l.length;o+=2){var h=l[o],d=l[o+1];h==="style"?US(r,d):h==="dangerouslySetInnerHTML"?FS(r,d):h==="children"?Tl(r,d):Bm(r,h,d,u)}switch(a){case"input":tg(r,s);break;case"textarea":LS(r,s);break;case"select":var f=r._wrapperState.wasMultiple;r._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?fo(r,!!s.multiple,g,!1):f!==!!s.multiple&&(s.defaultValue!=null?fo(r,!!s.multiple,s.defaultValue,!0):fo(r,!!s.multiple,s.multiple?[]:"",!1))}r[Rl]=s}catch(w){Ke(t,t.return,w)}}break;case 6:if(kn(e,t),Hn(t),i&4){if(t.stateNode===null)throw Error(U(162));r=t.stateNode,s=t.memoizedProps;try{r.nodeValue=s}catch(w){Ke(t,t.return,w)}}break;case 3:if(kn(e,t),Hn(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{kl(e.containerInfo)}catch(w){Ke(t,t.return,w)}break;case 4:kn(e,t),Hn(t);break;case 13:kn(e,t),Hn(t),r=t.child,r.flags&8192&&(s=r.memoizedState!==null,r.stateNode.isHidden=s,!s||r.alternate!==null&&r.alternate.memoizedState!==null||(Ey=et())),i&4&&uw(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Dt=(u=Dt)||h,kn(e,t),Dt=u):kn(e,t),Hn(t),i&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!h&&t.mode&1)for(G=t,h=t.child;h!==null;){for(d=G=h;G!==null;){switch(f=G,g=f.child,f.tag){case 0:case 11:case 14:case 15:ll(4,f,f.return);break;case 1:lo(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){i=f,n=f.return;try{e=i,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){Ke(i,n,w)}}break;case 5:lo(f,f.return);break;case 22:if(f.memoizedState!==null){hw(d);continue}}g!==null?(g.return=f,G=g):hw(d)}h=h.sibling}e:for(h=null,d=t;;){if(d.tag===5){if(h===null){h=d;try{r=d.stateNode,u?(s=r.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=jS("display",o))}catch(w){Ke(t,t.return,w)}}}else if(d.tag===6){if(h===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(w){Ke(t,t.return,w)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kn(e,t),Hn(t),i&4&&uw(t);break;case 21:break;default:kn(e,t),Hn(t)}}function Hn(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(hx(n)){var i=n;break e}n=n.return}throw Error(U(160))}switch(i.tag){case 5:var r=i.stateNode;i.flags&32&&(Tl(r,""),i.flags&=-33);var s=lw(t);Lg(t,s,r);break;case 3:case 4:var o=i.stateNode.containerInfo,a=lw(t);Ng(t,a,o);break;default:throw Error(U(161))}}catch(l){Ke(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function jR(t,e,n){G=t,px(t)}function px(t,e,n){for(var i=(t.mode&1)!==0;G!==null;){var r=G,s=r.child;if(r.tag===22&&i){var o=r.memoizedState!==null||dc;if(!o){var a=r.alternate,l=a!==null&&a.memoizedState!==null||Dt;a=dc;var u=Dt;if(dc=o,(Dt=l)&&!u)for(G=r;G!==null;)o=G,l=o.child,o.tag===22&&o.memoizedState!==null?dw(r):l!==null?(l.return=o,G=l):dw(r);for(;s!==null;)G=s,px(s),s=s.sibling;G=r,dc=a,Dt=u}cw(t)}else r.subtreeFlags&8772&&s!==null?(s.return=r,G=s):cw(t)}}function cw(t){for(;G!==null;){var e=G;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Dt||Ad(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!Dt)if(n===null)i.componentDidMount();else{var r=e.elementType===e.type?n.memoizedProps:bn(e.type,n.memoizedProps);i.componentDidUpdate(r,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&G0(e,s,i);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}G0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var h=u.memoizedState;if(h!==null){var d=h.dehydrated;d!==null&&kl(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}Dt||e.flags&512&&Og(e)}catch(f){Ke(e,e.return,f)}}if(e===t){G=null;break}if(n=e.sibling,n!==null){n.return=e.return,G=n;break}G=e.return}}function hw(t){for(;G!==null;){var e=G;if(e===t){G=null;break}var n=e.sibling;if(n!==null){n.return=e.return,G=n;break}G=e.return}}function dw(t){for(;G!==null;){var e=G;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ad(4,e)}catch(l){Ke(e,n,l)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var r=e.return;try{i.componentDidMount()}catch(l){Ke(e,r,l)}}var s=e.return;try{Og(e)}catch(l){Ke(e,s,l)}break;case 5:var o=e.return;try{Og(e)}catch(l){Ke(e,o,l)}}}catch(l){Ke(e,e.return,l)}if(e===t){G=null;break}var a=e.sibling;if(a!==null){a.return=e.return,G=a;break}G=e.return}}var UR=Math.ceil,Oh=Hi.ReactCurrentDispatcher,vy=Hi.ReactCurrentOwner,wn=Hi.ReactCurrentBatchConfig,ge=0,dt=null,it=null,wt=0,on=0,uo=Hr(0),ot=0,Vl=null,Is=0,Rd=0,wy=0,ul=null,Kt=null,Ey=0,Mo=1/0,_i=null,Nh=!1,Vg=null,Sr=null,fc=!1,cr=null,Lh=0,cl=0,Fg=null,Yc=-1,qc=0;function Bt(){return ge&6?et():Yc!==-1?Yc:Yc=et()}function xr(t){return t.mode&1?ge&2&&wt!==0?wt&-wt:SR.transition!==null?(qc===0&&(qc=JS()),qc):(t=xe,t!==0||(t=window.event,t=t===void 0?16:s1(t.type)),t):1}function Mn(t,e,n,i){if(50<cl)throw cl=0,Fg=null,Error(U(185));uu(t,n,i),(!(ge&2)||t!==dt)&&(t===dt&&(!(ge&2)&&(Rd|=n),ot===4&&rr(t,wt)),nn(t,i),n===1&&ge===0&&!(e.mode&1)&&(Mo=et()+500,bd&&$r()))}function nn(t,e){var n=t.callbackNode;SA(t,e);var i=vh(t,t===dt?wt:0);if(i===0)n!==null&&E0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&E0(n),e===1)t.tag===0?TR(fw.bind(null,t)):x1(fw.bind(null,t)),_R(function(){!(ge&6)&&$r()}),n=null;else{switch(ZS(i)){case 1:n=qm;break;case 4:n=QS;break;case 16:n=_h;break;case 536870912:n=XS;break;default:n=_h}n=Tx(n,gx.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function gx(t,e){if(Yc=-1,qc=0,ge&6)throw Error(U(327));var n=t.callbackNode;if(_o()&&t.callbackNode!==n)return null;var i=vh(t,t===dt?wt:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=Vh(t,i);else{e=i;var r=ge;ge|=2;var s=yx();(dt!==t||wt!==e)&&(_i=null,Mo=et()+500,gs(t,e));do try{WR();break}catch(a){mx(t,a)}while(!0);oy(),Oh.current=s,ge=r,it!==null?e=0:(dt=null,wt=0,e=ot)}if(e!==0){if(e===2&&(r=hg(t),r!==0&&(i=r,e=jg(t,r))),e===1)throw n=Vl,gs(t,0),rr(t,i),nn(t,et()),n;if(e===6)rr(t,i);else{if(r=t.current.alternate,!(i&30)&&!zR(r)&&(e=Vh(t,i),e===2&&(s=hg(t),s!==0&&(i=s,e=jg(t,s))),e===1))throw n=Vl,gs(t,0),rr(t,i),nn(t,et()),n;switch(t.finishedWork=r,t.finishedLanes=i,e){case 0:case 1:throw Error(U(345));case 2:os(t,Kt,_i);break;case 3:if(rr(t,i),(i&130023424)===i&&(e=Ey+500-et(),10<e)){if(vh(t,0)!==0)break;if(r=t.suspendedLanes,(r&i)!==i){Bt(),t.pingedLanes|=t.suspendedLanes&r;break}t.timeoutHandle=vg(os.bind(null,t,Kt,_i),e);break}os(t,Kt,_i);break;case 4:if(rr(t,i),(i&4194240)===i)break;for(e=t.eventTimes,r=-1;0<i;){var o=31-Dn(i);s=1<<o,o=e[o],o>r&&(r=o),i&=~s}if(i=r,i=et()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*UR(i/1960))-i,10<i){t.timeoutHandle=vg(os.bind(null,t,Kt,_i),i);break}os(t,Kt,_i);break;case 5:os(t,Kt,_i);break;default:throw Error(U(329))}}}return nn(t,et()),t.callbackNode===n?gx.bind(null,t):null}function jg(t,e){var n=ul;return t.current.memoizedState.isDehydrated&&(gs(t,e).flags|=256),t=Vh(t,e),t!==2&&(e=Kt,Kt=n,e!==null&&Ug(e)),t}function Ug(t){Kt===null?Kt=t:Kt.push.apply(Kt,t)}function zR(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var r=n[i],s=r.getSnapshot;r=r.value;try{if(!Nn(s(),r))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rr(t,e){for(e&=~wy,e&=~Rd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Dn(e),i=1<<n;t[n]=-1,e&=~i}}function fw(t){if(ge&6)throw Error(U(327));_o();var e=vh(t,0);if(!(e&1))return nn(t,et()),null;var n=Vh(t,e);if(t.tag!==0&&n===2){var i=hg(t);i!==0&&(e=i,n=jg(t,i))}if(n===1)throw n=Vl,gs(t,0),rr(t,e),nn(t,et()),n;if(n===6)throw Error(U(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,os(t,Kt,_i),nn(t,et()),null}function Ty(t,e){var n=ge;ge|=1;try{return t(e)}finally{ge=n,ge===0&&(Mo=et()+500,bd&&$r())}}function ks(t){cr!==null&&cr.tag===0&&!(ge&6)&&_o();var e=ge;ge|=1;var n=wn.transition,i=xe;try{if(wn.transition=null,xe=1,t)return t()}finally{xe=i,wn.transition=n,ge=e,!(ge&6)&&$r()}}function Sy(){on=uo.current,Le(uo)}function gs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yR(n)),it!==null)for(n=it.return;n!==null;){var i=n;switch(iy(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&xh();break;case 3:Ro(),Le(en),Le(Nt),dy();break;case 5:hy(i);break;case 4:Ro();break;case 13:Le(We);break;case 19:Le(We);break;case 10:ay(i.type._context);break;case 22:case 23:Sy()}n=n.return}if(dt=t,it=t=Ir(t.current,null),wt=on=e,ot=0,Vl=null,wy=Rd=Is=0,Kt=ul=null,hs!==null){for(e=0;e<hs.length;e++)if(n=hs[e],i=n.interleaved,i!==null){n.interleaved=null;var r=i.next,s=n.pending;if(s!==null){var o=s.next;s.next=r,i.next=o}n.pending=i}hs=null}return t}function mx(t,e){do{var n=it;try{if(oy(),Wc.current=Mh,Dh){for(var i=$e.memoizedState;i!==null;){var r=i.queue;r!==null&&(r.pending=null),i=i.next}Dh=!1}if(xs=0,ht=st=$e=null,al=!1,Ol=0,vy.current=null,n===null||n.return===null){ot=1,Vl=e,it=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=wt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,h=a,d=h.tag;if(!(h.mode&1)&&(d===0||d===11||d===15)){var f=h.alternate;f?(h.updateQueue=f.updateQueue,h.memoizedState=f.memoizedState,h.lanes=f.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=ew(o);if(g!==null){g.flags&=-257,tw(g,o,a,s,e),g.mode&1&&Z0(s,u,e),e=g,l=u;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){Z0(s,u,e),xy();break e}l=Error(U(426))}}else if(Ue&&a.mode&1){var T=ew(o);if(T!==null){!(T.flags&65536)&&(T.flags|=256),tw(T,o,a,s,e),ry(Do(l,a));break e}}s=l=Do(l,a),ot!==4&&(ot=2),ul===null?ul=[s]:ul.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=Z1(s,l,e);q0(s,_);break e;case 1:a=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Sr===null||!Sr.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=ex(s,a,e);q0(s,R);break e}}s=s.return}while(s!==null)}vx(n)}catch(M){e=M,it===n&&n!==null&&(it=n=n.return);continue}break}while(!0)}function yx(){var t=Oh.current;return Oh.current=Mh,t===null?Mh:t}function xy(){(ot===0||ot===3||ot===2)&&(ot=4),dt===null||!(Is&268435455)&&!(Rd&268435455)||rr(dt,wt)}function Vh(t,e){var n=ge;ge|=2;var i=yx();(dt!==t||wt!==e)&&(_i=null,gs(t,e));do try{BR();break}catch(r){mx(t,r)}while(!0);if(oy(),ge=n,Oh.current=i,it!==null)throw Error(U(261));return dt=null,wt=0,ot}function BR(){for(;it!==null;)_x(it)}function WR(){for(;it!==null&&!pA();)_x(it)}function _x(t){var e=Ex(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?vx(t):it=e,vy.current=null}function vx(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=LR(n,e),n!==null){n.flags&=32767,it=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ot=6,it=null;return}}else if(n=NR(n,e,on),n!==null){it=n;return}if(e=e.sibling,e!==null){it=e;return}it=e=t}while(e!==null);ot===0&&(ot=5)}function os(t,e,n){var i=xe,r=wn.transition;try{wn.transition=null,xe=1,HR(t,e,n,i)}finally{wn.transition=r,xe=i}return null}function HR(t,e,n,i){do _o();while(cr!==null);if(ge&6)throw Error(U(327));n=t.finishedWork;var r=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(U(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(xA(t,s),t===dt&&(it=dt=null,wt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fc||(fc=!0,Tx(_h,function(){return _o(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wn.transition,wn.transition=null;var o=xe;xe=1;var a=ge;ge|=4,vy.current=null,FR(t,n),fx(n,t),cR(yg),wh=!!mg,yg=mg=null,t.current=n,jR(n),gA(),ge=a,xe=o,wn.transition=s}else t.current=n;if(fc&&(fc=!1,cr=t,Lh=r),s=t.pendingLanes,s===0&&(Sr=null),_A(n.stateNode),nn(t,et()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)r=e[n],i(r.value,{componentStack:r.stack,digest:r.digest});if(Nh)throw Nh=!1,t=Vg,Vg=null,t;return Lh&1&&t.tag!==0&&_o(),s=t.pendingLanes,s&1?t===Fg?cl++:(cl=0,Fg=t):cl=0,$r(),null}function _o(){if(cr!==null){var t=ZS(Lh),e=wn.transition,n=xe;try{if(wn.transition=null,xe=16>t?16:t,cr===null)var i=!1;else{if(t=cr,cr=null,Lh=0,ge&6)throw Error(U(331));var r=ge;for(ge|=4,G=t.current;G!==null;){var s=G,o=s.child;if(G.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(G=u;G!==null;){var h=G;switch(h.tag){case 0:case 11:case 15:ll(8,h,s)}var d=h.child;if(d!==null)d.return=h,G=d;else for(;G!==null;){h=G;var f=h.sibling,g=h.return;if(cx(h),h===u){G=null;break}if(f!==null){f.return=g,G=f;break}G=g}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var T=w.sibling;w.sibling=null,w=T}while(w!==null)}}G=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,G=o;else e:for(;G!==null;){if(s=G,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ll(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,G=_;break e}G=s.return}}var v=t.current;for(G=v;G!==null;){o=G;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,G=x;else e:for(o=v;G!==null;){if(a=G,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ad(9,a)}}catch(M){Ke(a,a.return,M)}if(a===o){G=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,G=R;break e}G=a.return}}if(ge=r,$r(),Zn&&typeof Zn.onPostCommitFiberRoot=="function")try{Zn.onPostCommitFiberRoot(Td,t)}catch{}i=!0}return i}finally{xe=n,wn.transition=e}}return!1}function pw(t,e,n){e=Do(n,e),e=Z1(t,e,1),t=Tr(t,e,1),e=Bt(),t!==null&&(uu(t,1,e),nn(t,e))}function Ke(t,e,n){if(t.tag===3)pw(t,t,n);else for(;e!==null;){if(e.tag===3){pw(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Sr===null||!Sr.has(i))){t=Do(n,t),t=ex(e,t,1),e=Tr(e,t,1),t=Bt(),e!==null&&(uu(e,1,t),nn(e,t));break}}e=e.return}}function $R(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=Bt(),t.pingedLanes|=t.suspendedLanes&n,dt===t&&(wt&n)===n&&(ot===4||ot===3&&(wt&130023424)===wt&&500>et()-Ey?gs(t,0):wy|=n),nn(t,e)}function wx(t,e){e===0&&(t.mode&1?(e=ic,ic<<=1,!(ic&130023424)&&(ic=4194304)):e=1);var n=Bt();t=Vi(t,e),t!==null&&(uu(t,e,n),nn(t,n))}function YR(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),wx(t,n)}function qR(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,r=t.memoizedState;r!==null&&(n=r.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(U(314))}i!==null&&i.delete(e),wx(t,n)}var Ex;Ex=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||en.current)Jt=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Jt=!1,OR(t,e,n);Jt=!!(t.flags&131072)}else Jt=!1,Ue&&e.flags&1048576&&I1(e,bh,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;$c(t,e),t=e.pendingProps;var r=Po(e,Nt.current);yo(e,n),r=py(null,e,i,t,r,n);var s=gy();return e.flags|=1,typeof r=="object"&&r!==null&&typeof r.render=="function"&&r.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,tn(i)?(s=!0,Ih(e)):s=!1,e.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,uy(e),r.updater=Cd,e.stateNode=r,r._reactInternals=e,kg(e,i,t,n),e=Cg(null,e,i,!0,s,n)):(e.tag=0,Ue&&s&&ny(e),zt(null,e,r,n),e=e.child),e;case 16:i=e.elementType;e:{switch($c(t,e),t=e.pendingProps,r=i._init,i=r(i._payload),e.type=i,r=e.tag=KR(i),t=bn(i,t),r){case 0:e=Pg(null,e,i,t,n);break e;case 1:e=rw(null,e,i,t,n);break e;case 11:e=nw(null,e,i,t,n);break e;case 14:e=iw(null,e,i,bn(i.type,t),n);break e}throw Error(U(306,i,""))}return e;case 0:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:bn(i,r),Pg(t,e,i,r,n);case 1:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:bn(i,r),rw(t,e,i,r,n);case 3:e:{if(rx(e),t===null)throw Error(U(387));i=e.pendingProps,s=e.memoizedState,r=s.element,R1(t,e),Ah(e,i,null,n);var o=e.memoizedState;if(i=o.element,s.isDehydrated)if(s={element:i,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){r=Do(Error(U(423)),e),e=sw(t,e,i,n,r);break e}else if(i!==r){r=Do(Error(U(424)),e),e=sw(t,e,i,n,r);break e}else for(an=Er(e.stateNode.containerInfo.firstChild),un=e,Ue=!0,An=null,n=C1(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Co(),i===r){e=Fi(t,e,n);break e}zt(t,e,i,n)}e=e.child}return e;case 5:return D1(e),t===null&&Sg(e),i=e.type,r=e.pendingProps,s=t!==null?t.memoizedProps:null,o=r.children,_g(i,r)?o=null:s!==null&&_g(i,s)&&(e.flags|=32),ix(t,e),zt(t,e,o,n),e.child;case 6:return t===null&&Sg(e),null;case 13:return sx(t,e,n);case 4:return cy(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Ao(e,null,i,n):zt(t,e,i,n),e.child;case 11:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:bn(i,r),nw(t,e,i,r,n);case 7:return zt(t,e,e.pendingProps,n),e.child;case 8:return zt(t,e,e.pendingProps.children,n),e.child;case 12:return zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,r=e.pendingProps,s=e.memoizedProps,o=r.value,De(Ph,i._currentValue),i._currentValue=o,s!==null)if(Nn(s.value,o)){if(s.children===r.children&&!en.current){e=Fi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===i){if(s.tag===1){l=Ri(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var h=u.pending;h===null?l.next=l:(l.next=h.next,h.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),xg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(U(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),xg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}zt(t,e,r.children,n),e=e.child}return e;case 9:return r=e.type,i=e.pendingProps.children,yo(e,n),r=En(r),i=i(r),e.flags|=1,zt(t,e,i,n),e.child;case 14:return i=e.type,r=bn(i,e.pendingProps),r=bn(i.type,r),iw(t,e,i,r,n);case 15:return tx(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,r=e.pendingProps,r=e.elementType===i?r:bn(i,r),$c(t,e),e.tag=1,tn(i)?(t=!0,Ih(e)):t=!1,yo(e,n),J1(e,i,r),kg(e,i,r,n),Cg(null,e,i,!0,t,n);case 19:return ox(t,e,n);case 22:return nx(t,e,n)}throw Error(U(156,e.tag))};function Tx(t,e){return KS(t,e)}function GR(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(t,e,n,i){return new GR(t,e,n,i)}function Iy(t){return t=t.prototype,!(!t||!t.isReactComponent)}function KR(t){if(typeof t=="function")return Iy(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Hm)return 11;if(t===$m)return 14}return 2}function Ir(t,e){var n=t.alternate;return n===null?(n=_n(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Gc(t,e,n,i,r,s){var o=2;if(i=t,typeof t=="function")Iy(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Zs:return ms(n.children,r,s,e);case Wm:o=8,r|=8;break;case Qp:return t=_n(12,n,e,r|2),t.elementType=Qp,t.lanes=s,t;case Xp:return t=_n(13,n,e,r),t.elementType=Xp,t.lanes=s,t;case Jp:return t=_n(19,n,e,r),t.elementType=Jp,t.lanes=s,t;case DS:return Dd(n,r,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case AS:o=10;break e;case RS:o=9;break e;case Hm:o=11;break e;case $m:o=14;break e;case tr:o=16,i=null;break e}throw Error(U(130,t==null?t:typeof t,""))}return e=_n(o,n,e,r),e.elementType=t,e.type=i,e.lanes=s,e}function ms(t,e,n,i){return t=_n(7,t,i,e),t.lanes=n,t}function Dd(t,e,n,i){return t=_n(22,t,i,e),t.elementType=DS,t.lanes=n,t.stateNode={isHidden:!1},t}function _p(t,e,n){return t=_n(6,t,null,e),t.lanes=n,t}function vp(t,e,n){return e=_n(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function QR(t,e,n,i,r){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zf(0),this.expirationTimes=Zf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zf(0),this.identifierPrefix=i,this.onRecoverableError=r,this.mutableSourceEagerHydrationData=null}function ky(t,e,n,i,r,s,o,a,l){return t=new QR(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_n(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},uy(s),t}function XR(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Js,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function Sx(t){if(!t)return Nr;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(U(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(tn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(U(171))}if(t.tag===1){var n=t.type;if(tn(n))return S1(t,n,e)}return e}function xx(t,e,n,i,r,s,o,a,l){return t=ky(n,i,!0,t,r,s,o,a,l),t.context=Sx(null),n=t.current,i=Bt(),r=xr(n),s=Ri(i,r),s.callback=e??null,Tr(n,s,r),t.current.lanes=r,uu(t,r,i),nn(t,i),t}function Md(t,e,n,i){var r=e.current,s=Bt(),o=xr(r);return n=Sx(n),e.context===null?e.context=n:e.pendingContext=n,e=Ri(s,o),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=Tr(r,e,o),t!==null&&(Mn(t,r,o,s),Bc(t,r,o)),o}function Fh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function gw(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function by(t,e){gw(t,e),(t=t.alternate)&&gw(t,e)}function JR(){return null}var Ix=typeof reportError=="function"?reportError:function(t){console.error(t)};function Py(t){this._internalRoot=t}Od.prototype.render=Py.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(U(409));Md(t,e,null,null)};Od.prototype.unmount=Py.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ks(function(){Md(null,t,null,null)}),e[Li]=null}};function Od(t){this._internalRoot=t}Od.prototype.unstable_scheduleHydration=function(t){if(t){var e=n1();t={blockedOn:null,target:t,priority:e};for(var n=0;n<ir.length&&e!==0&&e<ir[n].priority;n++);ir.splice(n,0,t),n===0&&r1(t)}};function Cy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Nd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function mw(){}function ZR(t,e,n,i,r){if(r){if(typeof i=="function"){var s=i;i=function(){var u=Fh(o);s.call(u)}}var o=xx(e,i,t,0,null,!1,!1,"",mw);return t._reactRootContainer=o,t[Li]=o.current,Cl(t.nodeType===8?t.parentNode:t),ks(),o}for(;r=t.lastChild;)t.removeChild(r);if(typeof i=="function"){var a=i;i=function(){var u=Fh(l);a.call(u)}}var l=ky(t,0,!1,null,null,!1,!1,"",mw);return t._reactRootContainer=l,t[Li]=l.current,Cl(t.nodeType===8?t.parentNode:t),ks(function(){Md(e,l,n,i)}),l}function Ld(t,e,n,i,r){var s=n._reactRootContainer;if(s){var o=s;if(typeof r=="function"){var a=r;r=function(){var l=Fh(o);a.call(l)}}Md(e,o,t,r)}else o=ZR(n,e,t,r,i);return Fh(o)}e1=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=za(e.pendingLanes);n!==0&&(Gm(e,n|1),nn(e,et()),!(ge&6)&&(Mo=et()+500,$r()))}break;case 13:ks(function(){var i=Vi(t,1);if(i!==null){var r=Bt();Mn(i,t,1,r)}}),by(t,1)}};Km=function(t){if(t.tag===13){var e=Vi(t,134217728);if(e!==null){var n=Bt();Mn(e,t,134217728,n)}by(t,134217728)}};t1=function(t){if(t.tag===13){var e=xr(t),n=Vi(t,e);if(n!==null){var i=Bt();Mn(n,t,e,i)}by(t,e)}};n1=function(){return xe};i1=function(t,e){var n=xe;try{return xe=t,e()}finally{xe=n}};lg=function(t,e,n){switch(e){case"input":if(tg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var r=kd(i);if(!r)throw Error(U(90));OS(i),tg(i,r)}}}break;case"textarea":LS(t,n);break;case"select":e=n.value,e!=null&&fo(t,!!n.multiple,e,!1)}};WS=Ty;HS=ks;var eD={usingClientEntryPoint:!1,Events:[hu,io,kd,zS,BS,Ty]},Ra={findFiberByHostInstance:cs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tD={bundleType:Ra.bundleType,version:Ra.version,rendererPackageName:Ra.rendererPackageName,rendererConfig:Ra.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Hi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=qS(t),t===null?null:t.stateNode},findFiberByHostInstance:Ra.findFiberByHostInstance||JR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pc.isDisabled&&pc.supportsFiber)try{Td=pc.inject(tD),Zn=pc}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eD;hn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Cy(e))throw Error(U(200));return XR(t,e,null,n)};hn.createRoot=function(t,e){if(!Cy(t))throw Error(U(299));var n=!1,i="",r=Ix;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(r=e.onRecoverableError)),e=ky(t,1,!1,null,null,n,!1,i,r),t[Li]=e.current,Cl(t.nodeType===8?t.parentNode:t),new Py(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(U(188)):(t=Object.keys(t).join(","),Error(U(268,t)));return t=qS(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return ks(t)};hn.hydrate=function(t,e,n){if(!Nd(e))throw Error(U(200));return Ld(null,t,e,!0,n)};hn.hydrateRoot=function(t,e,n){if(!Cy(t))throw Error(U(405));var i=n!=null&&n.hydratedSources||null,r=!1,s="",o=Ix;if(n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=xx(e,null,t,1,n??null,r,!1,s,o),t[Li]=e.current,Cl(t),i)for(t=0;t<i.length;t++)n=i[t],r=n._getVersion,r=r(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,r]:e.mutableSourceEagerHydrationData.push(n,r);return new Od(e)};hn.render=function(t,e,n){if(!Nd(e))throw Error(U(200));return Ld(null,t,e,!1,n)};hn.unmountComponentAtNode=function(t){if(!Nd(t))throw Error(U(40));return t._reactRootContainer?(ks(function(){Ld(null,null,t,!1,function(){t._reactRootContainer=null,t[Li]=null})}),!0):!1};hn.unstable_batchedUpdates=Ty;hn.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!Nd(n))throw Error(U(200));if(t==null||t._reactInternals===void 0)throw Error(U(38));return Ld(t,e,n,!1,i)};hn.version="18.3.1-next-f1338f8080-20240426";function kx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(kx)}catch(t){console.error(t)}}kx(),kS.exports=hn;var nD=kS.exports,yw=nD;Gp.createRoot=yw.createRoot,Gp.hydrateRoot=yw.hydrateRoot;/**
 * @remix-run/router v1.21.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fl(){return Fl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Fl.apply(this,arguments)}var hr;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hr||(hr={}));const _w="popstate";function iD(t){t===void 0&&(t={});function e(i,r){let{pathname:s,search:o,hash:a}=i.location;return zg("",{pathname:s,search:o,hash:a},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function n(i,r){return typeof r=="string"?r:jh(r)}return sD(e,n,null,t)}function Xe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bx(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rD(){return Math.random().toString(36).substr(2,8)}function vw(t,e){return{usr:t.state,key:t.key,idx:e}}function zg(t,e,n,i){return n===void 0&&(n=null),Fl({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Qo(e):e,{state:n,key:e&&e.key||i||rD()})}function jh(t){let{pathname:e="/",search:n="",hash:i=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),i&&i!=="#"&&(e+=i.charAt(0)==="#"?i:"#"+i),e}function Qo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let i=t.indexOf("?");i>=0&&(e.search=t.substr(i),t=t.substr(0,i)),t&&(e.pathname=t)}return e}function sD(t,e,n,i){i===void 0&&(i={});let{window:r=document.defaultView,v5Compat:s=!1}=i,o=r.history,a=hr.Pop,l=null,u=h();u==null&&(u=0,o.replaceState(Fl({},o.state,{idx:u}),""));function h(){return(o.state||{idx:null}).idx}function d(){a=hr.Pop;let T=h(),_=T==null?null:T-u;u=T,l&&l({action:a,location:w.location,delta:_})}function f(T,_){a=hr.Push;let v=zg(w.location,T,_);u=h()+1;let x=vw(v,u),R=w.createHref(v);try{o.pushState(x,"",R)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;r.location.assign(R)}s&&l&&l({action:a,location:w.location,delta:1})}function g(T,_){a=hr.Replace;let v=zg(w.location,T,_);u=h();let x=vw(v,u),R=w.createHref(v);o.replaceState(x,"",R),s&&l&&l({action:a,location:w.location,delta:0})}function y(T){let _=r.location.origin!=="null"?r.location.origin:r.location.href,v=typeof T=="string"?T:jh(T);return v=v.replace(/ $/,"%20"),Xe(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let w={get action(){return a},get location(){return t(r,o)},listen(T){if(l)throw new Error("A history only accepts one active listener");return r.addEventListener(_w,d),l=T,()=>{r.removeEventListener(_w,d),l=null}},createHref(T){return e(r,T)},createURL:y,encodeLocation(T){let _=y(T);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:f,replace:g,go(T){return o.go(T)}};return w}var ww;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ww||(ww={}));function oD(t,e,n){return n===void 0&&(n="/"),aD(t,e,n,!1)}function aD(t,e,n,i){let r=typeof e=="string"?Qo(e):e,s=Oo(r.pathname||"/",n);if(s==null)return null;let o=Px(t);lD(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=vD(s);a=yD(o[l],u,i)}return a}function Px(t,e,n,i){e===void 0&&(e=[]),n===void 0&&(n=[]),i===void 0&&(i="");let r=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Xe(l.relativePath.startsWith(i),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+i+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(i.length));let u=kr([i,l.relativePath]),h=n.concat(l);s.children&&s.children.length>0&&(Xe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),Px(s.children,e,h,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:gD(u,s.index),routesMeta:h})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))r(s,o);else for(let l of Cx(s.path))r(s,o,l)}),e}function Cx(t){let e=t.split("/");if(e.length===0)return[];let[n,...i]=e,r=n.endsWith("?"),s=n.replace(/\?$/,"");if(i.length===0)return r?[s,""]:[s];let o=Cx(i.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),r&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function lD(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:mD(e.routesMeta.map(i=>i.childrenIndex),n.routesMeta.map(i=>i.childrenIndex)))}const uD=/^:[\w-]+$/,cD=3,hD=2,dD=1,fD=10,pD=-2,Ew=t=>t==="*";function gD(t,e){let n=t.split("/"),i=n.length;return n.some(Ew)&&(i+=pD),e&&(i+=hD),n.filter(r=>!Ew(r)).reduce((r,s)=>r+(uD.test(s)?cD:s===""?dD:fD),i)}function mD(t,e){return t.length===e.length&&t.slice(0,-1).every((i,r)=>i===e[r])?t[t.length-1]-e[e.length-1]:0}function yD(t,e,n){let{routesMeta:i}=t,r={},s="/",o=[];for(let a=0;a<i.length;++a){let l=i[a],u=a===i.length-1,h=s==="/"?e:e.slice(s.length)||"/",d=Uh({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},h),f=l.route;if(!d&&u&&n&&!i[i.length-1].route.index&&(d=Uh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!d)return null;Object.assign(r,d.params),o.push({params:r,pathname:kr([s,d.pathname]),pathnameBase:SD(kr([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=kr([s,d.pathnameBase]))}return o}function Uh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,i]=_D(t.path,t.caseSensitive,t.end),r=e.match(n);if(!r)return null;let s=r[0],o=s.replace(/(.)\/+$/,"$1"),a=r.slice(1);return{params:i.reduce((u,h,d)=>{let{paramName:f,isOptional:g}=h;if(f==="*"){let w=a[d]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[d];return g&&!y?u[f]=void 0:u[f]=(y||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function _D(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),bx(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let i=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(i.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(i.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,e?void 0:"i"),i]}function vD(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bx(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Oo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,i=t.charAt(n);return i&&i!=="/"?null:t.slice(n)||"/"}function wD(t,e){e===void 0&&(e="/");let{pathname:n,search:i="",hash:r=""}=typeof t=="string"?Qo(t):t;return{pathname:n?n.startsWith("/")?n:ED(n,e):e,search:xD(i),hash:ID(r)}}function ED(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?n.length>1&&n.pop():r!=="."&&n.push(r)}),n.length>1?n.join("/"):"/"}function wp(t,e,n,i){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(i)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function TD(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ax(t,e){let n=TD(t);return e?n.map((i,r)=>r===n.length-1?i.pathname:i.pathnameBase):n.map(i=>i.pathnameBase)}function Rx(t,e,n,i){i===void 0&&(i=!1);let r;typeof t=="string"?r=Qo(t):(r=Fl({},t),Xe(!r.pathname||!r.pathname.includes("?"),wp("?","pathname","search",r)),Xe(!r.pathname||!r.pathname.includes("#"),wp("#","pathname","hash",r)),Xe(!r.search||!r.search.includes("#"),wp("#","search","hash",r)));let s=t===""||r.pathname==="",o=s?"/":r.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!i&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;r.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=wD(r,a),u=o&&o!=="/"&&o.endsWith("/"),h=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||h)&&(l.pathname+="/"),l}const kr=t=>t.join("/").replace(/\/\/+/g,"/"),SD=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xD=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ID=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kD(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Dx=["post","put","patch","delete"];new Set(Dx);const bD=["get",...Dx];new Set(bD);/**
 * React Router v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jl(){return jl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},jl.apply(this,arguments)}const Vd=V.createContext(null),Mx=V.createContext(null),Yr=V.createContext(null),Fd=V.createContext(null),Os=V.createContext({outlet:null,matches:[],isDataRoute:!1}),Ox=V.createContext(null);function PD(t,e){let{relative:n}=e===void 0?{}:e;fu()||Xe(!1);let{basename:i,navigator:r}=V.useContext(Yr),{hash:s,pathname:o,search:a}=jd(t,{relative:n}),l=o;return i!=="/"&&(l=o==="/"?i:kr([i,o])),r.createHref({pathname:l,search:a,hash:s})}function fu(){return V.useContext(Fd)!=null}function pu(){return fu()||Xe(!1),V.useContext(Fd).location}function Nx(t){V.useContext(Yr).static||V.useLayoutEffect(t)}function Lx(){let{isDataRoute:t}=V.useContext(Os);return t?zD():CD()}function CD(){fu()||Xe(!1);let t=V.useContext(Vd),{basename:e,future:n,navigator:i}=V.useContext(Yr),{matches:r}=V.useContext(Os),{pathname:s}=pu(),o=JSON.stringify(Ax(r,n.v7_relativeSplatPath)),a=V.useRef(!1);return Nx(()=>{a.current=!0}),V.useCallback(function(u,h){if(h===void 0&&(h={}),!a.current)return;if(typeof u=="number"){i.go(u);return}let d=Rx(u,JSON.parse(o),s,h.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:kr([e,d.pathname])),(h.replace?i.replace:i.push)(d,h.state,h)},[e,i,o,s,t])}function jd(t,e){let{relative:n}=e===void 0?{}:e,{future:i}=V.useContext(Yr),{matches:r}=V.useContext(Os),{pathname:s}=pu(),o=JSON.stringify(Ax(r,i.v7_relativeSplatPath));return V.useMemo(()=>Rx(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function AD(t,e){return RD(t,e)}function RD(t,e,n,i){fu()||Xe(!1);let{navigator:r}=V.useContext(Yr),{matches:s}=V.useContext(Os),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=pu(),h;if(e){var d;let T=typeof e=="string"?Qo(e):e;l==="/"||(d=T.pathname)!=null&&d.startsWith(l)||Xe(!1),h=T}else h=u;let f=h.pathname||"/",g=f;if(l!=="/"){let T=l.replace(/^\//,"").split("/");g="/"+f.replace(/^\//,"").split("/").slice(T.length).join("/")}let y=oD(t,{pathname:g}),w=LD(y&&y.map(T=>Object.assign({},T,{params:Object.assign({},a,T.params),pathname:kr([l,r.encodeLocation?r.encodeLocation(T.pathname).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?l:kr([l,r.encodeLocation?r.encodeLocation(T.pathnameBase).pathname:T.pathnameBase])})),s,n,i);return e&&w?V.createElement(Fd.Provider,{value:{location:jl({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:hr.Pop}},w):w}function DD(){let t=UD(),e=kD(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,r={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return V.createElement(V.Fragment,null,V.createElement("h2",null,"Unexpected Application Error!"),V.createElement("h3",{style:{fontStyle:"italic"}},e),n?V.createElement("pre",{style:r},n):null,null)}const MD=V.createElement(DD,null);class OD extends V.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?V.createElement(Os.Provider,{value:this.props.routeContext},V.createElement(Ox.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ND(t){let{routeContext:e,match:n,children:i}=t,r=V.useContext(Vd);return r&&r.static&&r.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=n.route.id),V.createElement(Os.Provider,{value:e},i)}function LD(t,e,n,i){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),i===void 0&&(i=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=i)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(r=n)==null?void 0:r.errors;if(a!=null){let h=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);h>=0||Xe(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,u=-1;if(n&&i&&i.v7_partialHydration)for(let h=0;h<o.length;h++){let d=o[h];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=h),d.route.id){let{loaderData:f,errors:g}=n,y=d.route.loader&&f[d.route.id]===void 0&&(!g||g[d.route.id]===void 0);if(d.route.lazy||y){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((h,d,f)=>{let g,y=!1,w=null,T=null;n&&(g=a&&d.route.id?a[d.route.id]:void 0,w=d.route.errorElement||MD,l&&(u<0&&f===0?(y=!0,T=null):u===f&&(y=!0,T=d.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,f+1)),v=()=>{let x;return g?x=w:y?x=T:d.route.Component?x=V.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=h,V.createElement(ND,{match:d,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?V.createElement(OD,{location:n.location,revalidation:n.revalidation,component:w,error:g,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var Vx=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Vx||{}),zh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(zh||{});function VD(t){let e=V.useContext(Vd);return e||Xe(!1),e}function FD(t){let e=V.useContext(Mx);return e||Xe(!1),e}function jD(t){let e=V.useContext(Os);return e||Xe(!1),e}function Fx(t){let e=jD(),n=e.matches[e.matches.length-1];return n.route.id||Xe(!1),n.route.id}function UD(){var t;let e=V.useContext(Ox),n=FD(zh.UseRouteError),i=Fx(zh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[i]}function zD(){let{router:t}=VD(Vx.UseNavigateStable),e=Fx(zh.UseNavigateStable),n=V.useRef(!1);return Nx(()=>{n.current=!0}),V.useCallback(function(r,s){s===void 0&&(s={}),n.current&&(typeof r=="number"?t.navigate(r):t.navigate(r,jl({fromRouteId:e},s)))},[t,e])}const Tw={};function BD(t,e){Tw[e]||(Tw[e]=!0,console.warn(e))}const Sw=(t,e,n)=>BD(t," React Router Future Flag Warning: "+e+". "+("You can use the `"+t+"` future flag to opt-in early. ")+("For more information, see "+n+"."));function WD(t,e){t!=null&&t.v7_startTransition||Sw("v7_startTransition","React Router will begin wrapping state updates in `React.startTransition` in v7","https://reactrouter.com/v6/upgrading/future#v7_starttransition"),!(t!=null&&t.v7_relativeSplatPath)&&!e&&Sw("v7_relativeSplatPath","Relative route resolution within Splat routes is changing in v7","https://reactrouter.com/v6/upgrading/future#v7_relativesplatpath")}function er(t){Xe(!1)}function HD(t){let{basename:e="/",children:n=null,location:i,navigationType:r=hr.Pop,navigator:s,static:o=!1,future:a}=t;fu()&&Xe(!1);let l=e.replace(/^\/*/,"/"),u=V.useMemo(()=>({basename:l,navigator:s,static:o,future:jl({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof i=="string"&&(i=Qo(i));let{pathname:h="/",search:d="",hash:f="",state:g=null,key:y="default"}=i,w=V.useMemo(()=>{let T=Oo(h,l);return T==null?null:{location:{pathname:T,search:d,hash:f,state:g,key:y},navigationType:r}},[l,h,d,f,g,y,r]);return w==null?null:V.createElement(Yr.Provider,{value:u},V.createElement(Fd.Provider,{children:n,value:w}))}function $D(t){let{children:e,location:n}=t;return AD(Bg(e),n)}new Promise(()=>{});function Bg(t,e){e===void 0&&(e=[]);let n=[];return V.Children.forEach(t,(i,r)=>{if(!V.isValidElement(i))return;let s=[...e,r];if(i.type===V.Fragment){n.push.apply(n,Bg(i.props.children,s));return}i.type!==er&&Xe(!1),!i.props.index||!i.props.children||Xe(!1);let o={id:i.props.id||s.join("-"),caseSensitive:i.props.caseSensitive,element:i.props.element,Component:i.props.Component,index:i.props.index,path:i.props.path,loader:i.props.loader,action:i.props.action,errorElement:i.props.errorElement,ErrorBoundary:i.props.ErrorBoundary,hasErrorBoundary:i.props.ErrorBoundary!=null||i.props.errorElement!=null,shouldRevalidate:i.props.shouldRevalidate,handle:i.props.handle,lazy:i.props.lazy};i.props.children&&(o.children=Bg(i.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.28.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Bh(){return Bh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Bh.apply(this,arguments)}function jx(t,e){if(t==null)return{};var n={},i=Object.keys(t),r,s;for(s=0;s<i.length;s++)r=i[s],!(e.indexOf(r)>=0)&&(n[r]=t[r]);return n}function YD(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function qD(t,e){return t.button===0&&(!e||e==="_self")&&!YD(t)}const GD=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],KD=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],QD="6";try{window.__reactRouterVersion=QD}catch{}const XD=V.createContext({isTransitioning:!1}),JD="startTransition",xw=$C[JD];function ZD(t){let{basename:e,children:n,future:i,window:r}=t,s=V.useRef();s.current==null&&(s.current=iD({window:r,v5Compat:!0}));let o=s.current,[a,l]=V.useState({action:o.action,location:o.location}),{v7_startTransition:u}=i||{},h=V.useCallback(d=>{u&&xw?xw(()=>l(d)):l(d)},[l,u]);return V.useLayoutEffect(()=>o.listen(h),[o,h]),V.useEffect(()=>WD(i),[i]),V.createElement(HD,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:i})}const eM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",tM=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ux=V.forwardRef(function(e,n){let{onClick:i,relative:r,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:h,viewTransition:d}=e,f=jx(e,GD),{basename:g}=V.useContext(Yr),y,w=!1;if(typeof u=="string"&&tM.test(u)&&(y=u,eM))try{let x=new URL(window.location.href),R=u.startsWith("//")?new URL(x.protocol+u):new URL(u),M=Oo(R.pathname,g);R.origin===x.origin&&M!=null?u=M+R.search+R.hash:w=!0}catch{}let T=PD(u,{relative:r}),_=iM(u,{replace:o,state:a,target:l,preventScrollReset:h,relative:r,viewTransition:d});function v(x){i&&i(x),x.defaultPrevented||_(x)}return V.createElement("a",Bh({},f,{href:y||T,onClick:w||s?i:v,ref:n,target:l}))}),gc=V.forwardRef(function(e,n){let{"aria-current":i="page",caseSensitive:r=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:h}=e,d=jx(e,KD),f=jd(l,{relative:d.relative}),g=pu(),y=V.useContext(Mx),{navigator:w,basename:T}=V.useContext(Yr),_=y!=null&&rM(f)&&u===!0,v=w.encodeLocation?w.encodeLocation(f).pathname:f.pathname,x=g.pathname,R=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(x=x.toLowerCase(),R=R?R.toLowerCase():null,v=v.toLowerCase()),R&&T&&(R=Oo(R,T)||R);const M=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let N=x===v||!o&&x.startsWith(v)&&x.charAt(M)==="/",I=R!=null&&(R===v||!o&&R.startsWith(v)&&R.charAt(v.length)==="/"),E={isActive:N,isPending:I,isTransitioning:_},k=N?i:void 0,b;typeof s=="function"?b=s(E):b=[s,N?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let C=typeof a=="function"?a(E):a;return V.createElement(Ux,Bh({},d,{"aria-current":k,className:b,ref:n,style:C,to:l,viewTransition:u}),typeof h=="function"?h(E):h)});var Wg;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Wg||(Wg={}));var Iw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Iw||(Iw={}));function nM(t){let e=V.useContext(Vd);return e||Xe(!1),e}function iM(t,e){let{target:n,replace:i,state:r,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Lx(),u=pu(),h=jd(t,{relative:o});return V.useCallback(d=>{if(qD(d,n)){d.preventDefault();let f=i!==void 0?i:jh(u)===jh(h);l(t,{replace:f,state:r,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,h,i,r,n,t,s,o,a])}function rM(t,e){e===void 0&&(e={});let n=V.useContext(XD);n==null&&Xe(!1);let{basename:i}=nM(Wg.useViewTransitionState),r=jd(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Oo(n.currentLocation.pathname,i)||n.currentLocation.pathname,o=Oo(n.nextLocation.pathname,i)||n.nextLocation.pathname;return Uh(r.pathname,o)!=null||Uh(r.pathname,s)!=null}var kw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zx=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=r&63|128):(r&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=r&63|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=r&63|128)}return e},sM=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){const s=t[n++];e[i++]=String.fromCharCode((r&31)<<6|s&63)}else if(r>239&&r<365){const s=t[n++],o=t[n++],a=t[n++],l=((r&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[i++]=String.fromCharCode(55296+(l>>10)),e[i++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[i++]=String.fromCharCode((r&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Bx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<t.length;r+=3){const s=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,h=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,g=u&63;l||(g=64,o||(f=64)),i.push(n[h],n[d],n[f],n[g])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(zx(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):sM(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<t.length;){const s=n[t.charAt(r++)],a=r<t.length?n[t.charAt(r)]:0;++r;const u=r<t.length?n[t.charAt(r)]:64;++r;const d=r<t.length?n[t.charAt(r)]:64;if(++r,s==null||a==null||u==null||d==null)throw new oM;const f=s<<2|a>>4;if(i.push(f),u!==64){const g=a<<4&240|u>>2;if(i.push(g),d!==64){const y=u<<6&192|d;i.push(y)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class oM extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const aM=function(t){const e=zx(t);return Bx.encodeByteArray(e,!0)},Wh=function(t){return aM(t).replace(/\./g,"")},Wx=function(t){try{return Bx.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lM(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uM=()=>lM().__FIREBASE_DEFAULTS__,cM=()=>{if(typeof process>"u"||typeof kw>"u")return;const t=kw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},hM=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Wx(t[1]);return e&&JSON.parse(e)},Ud=()=>{try{return uM()||cM()||hM()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hx=t=>{var e,n;return(n=(e=Ud())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},dM=t=>{const e=Hx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},$x=()=>{var t;return(t=Ud())===null||t===void 0?void 0:t.config},Yx=t=>{var e;return(e=Ud())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fM{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pM(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",r=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Wh(JSON.stringify(n)),Wh(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gM(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Lt())}function mM(){var t;const e=(t=Ud())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function yM(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function _M(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function vM(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wM(){const t=Lt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function EM(){return!mM()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TM(){try{return typeof indexedDB=="object"}catch{return!1}}function SM(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},r.onupgradeneeded=()=>{n=!1},r.onerror=()=>{var s;e(((s=r.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xM="FirebaseError";class $i extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=xM,Object.setPrototypeOf(this,$i.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gu.prototype.create)}}class gu{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},r=`${this.service}/${e}`,s=this.errors[e],o=s?IM(s,i):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new $i(r,a,i)}}function IM(t,e){return t.replace(kM,(n,i)=>{const r=e[i];return r!=null?String(r):`<${i}?>`})}const kM=/\{\$([^}]+)}/g;function bM(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Hh(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const r of n){if(!i.includes(r))return!1;const s=t[r],o=e[r];if(bw(s)&&bw(o)){if(!Hh(s,o))return!1}else if(s!==o)return!1}for(const r of i)if(!n.includes(r))return!1;return!0}function bw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(r=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(r))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function Wa(t){const e={};return t.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,s]=i.split("=");e[decodeURIComponent(r)]=decodeURIComponent(s)}}),e}function Ha(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function PM(t,e){const n=new CM(t,e);return n.subscribe.bind(n)}class CM{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let r;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");AM(e,["next","error","complete"])?r=e:r={next:e,error:n,complete:i},r.next===void 0&&(r.next=Ep),r.error===void 0&&(r.error=Ep),r.complete===void 0&&(r.complete=Ep);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function AM(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Ep(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(t){return t&&t._delegate?t._delegate:t}class bs{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const as="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new fM;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:n});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(MM(e))try{this.getOrInitializeService({instanceIdentifier:as})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:r});i.resolve(s)}catch{}}}}clearInstance(e=as){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=as){return this.instances.has(e)}getOptions(e=as){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);i===a&&o.resolve(r)}return r}onInit(e,n){var i;const r=this.normalizeInstanceIdentifier(n),s=(i=this.onInitCallbacks.get(r))!==null&&i!==void 0?i:new Set;s.add(e),this.onInitCallbacks.set(r,s);const o=this.instances.get(r);return o&&e(o,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const r of i)try{r(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:DM(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=as){return this.component?this.component.multipleInstances?e:as:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DM(t){return t===as?void 0:t}function MM(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new RM(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(le||(le={}));const NM={debug:le.DEBUG,verbose:le.VERBOSE,info:le.INFO,warn:le.WARN,error:le.ERROR,silent:le.SILENT},LM=le.INFO,VM={[le.DEBUG]:"log",[le.VERBOSE]:"log",[le.INFO]:"info",[le.WARN]:"warn",[le.ERROR]:"error"},FM=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),r=VM[e];if(r)console[r](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Ay{constructor(e){this.name=e,this._logLevel=LM,this._logHandler=FM,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in le))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?NM[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,le.DEBUG,...e),this._logHandler(this,le.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,le.VERBOSE,...e),this._logHandler(this,le.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,le.INFO,...e),this._logHandler(this,le.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,le.WARN,...e),this._logHandler(this,le.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,le.ERROR,...e),this._logHandler(this,le.ERROR,...e)}}const jM=(t,e)=>e.some(n=>t instanceof n);let Pw,Cw;function UM(){return Pw||(Pw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function zM(){return Cw||(Cw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const qx=new WeakMap,Hg=new WeakMap,Gx=new WeakMap,Tp=new WeakMap,Ry=new WeakMap;function BM(t){const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(br(t.result)),r()},o=()=>{i(t.error),r()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&qx.set(n,t)}).catch(()=>{}),Ry.set(e,t),e}function WM(t){if(Hg.has(t))return;const e=new Promise((n,i)=>{const r=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),r()},o=()=>{i(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Hg.set(t,e)}let $g={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Hg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Gx.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return br(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function HM(t){$g=t($g)}function $M(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(Sp(this),e,...n);return Gx.set(i,e.sort?e.sort():[e]),br(i)}:zM().includes(t)?function(...e){return t.apply(Sp(this),e),br(qx.get(this))}:function(...e){return br(t.apply(Sp(this),e))}}function YM(t){return typeof t=="function"?$M(t):(t instanceof IDBTransaction&&WM(t),jM(t,UM())?new Proxy(t,$g):t)}function br(t){if(t instanceof IDBRequest)return BM(t);if(Tp.has(t))return Tp.get(t);const e=YM(t);return e!==t&&(Tp.set(t,e),Ry.set(e,t)),e}const Sp=t=>Ry.get(t);function qM(t,e,{blocked:n,upgrade:i,blocking:r,terminated:s}={}){const o=indexedDB.open(t,e),a=br(o);return i&&o.addEventListener("upgradeneeded",l=>{i(br(o.result),l.oldVersion,l.newVersion,br(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),r&&l.addEventListener("versionchange",u=>r(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const GM=["get","getKey","getAll","getAllKeys","count"],KM=["put","add","delete","clear"],xp=new Map;function Aw(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(xp.get(e))return xp.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,r=KM.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(r||GM.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return i&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),r&&l.done]))[0]};return xp.set(e,s),s}HM(t=>({...t,get:(e,n,i)=>Aw(e,n)||t.get(e,n,i),has:(e,n)=>!!Aw(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QM{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XM(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function XM(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Yg="@firebase/app",Rw="0.10.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ji=new Ay("@firebase/app"),JM="@firebase/app-compat",ZM="@firebase/analytics-compat",eO="@firebase/analytics",tO="@firebase/app-check-compat",nO="@firebase/app-check",iO="@firebase/auth",rO="@firebase/auth-compat",sO="@firebase/database",oO="@firebase/data-connect",aO="@firebase/database-compat",lO="@firebase/functions",uO="@firebase/functions-compat",cO="@firebase/installations",hO="@firebase/installations-compat",dO="@firebase/messaging",fO="@firebase/messaging-compat",pO="@firebase/performance",gO="@firebase/performance-compat",mO="@firebase/remote-config",yO="@firebase/remote-config-compat",_O="@firebase/storage",vO="@firebase/storage-compat",wO="@firebase/firestore",EO="@firebase/vertexai",TO="@firebase/firestore-compat",SO="firebase",xO="11.0.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qg="[DEFAULT]",IO={[Yg]:"fire-core",[JM]:"fire-core-compat",[eO]:"fire-analytics",[ZM]:"fire-analytics-compat",[nO]:"fire-app-check",[tO]:"fire-app-check-compat",[iO]:"fire-auth",[rO]:"fire-auth-compat",[sO]:"fire-rtdb",[oO]:"fire-data-connect",[aO]:"fire-rtdb-compat",[lO]:"fire-fn",[uO]:"fire-fn-compat",[cO]:"fire-iid",[hO]:"fire-iid-compat",[dO]:"fire-fcm",[fO]:"fire-fcm-compat",[pO]:"fire-perf",[gO]:"fire-perf-compat",[mO]:"fire-rc",[yO]:"fire-rc-compat",[_O]:"fire-gcs",[vO]:"fire-gcs-compat",[wO]:"fire-fst",[TO]:"fire-fst-compat",[EO]:"fire-vertex","fire-js":"fire-js",[SO]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $h=new Map,kO=new Map,Gg=new Map;function Dw(t,e){try{t.container.addComponent(e)}catch(n){ji.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function No(t){const e=t.name;if(Gg.has(e))return ji.debug(`There were multiple attempts to register component ${e}.`),!1;Gg.set(e,t);for(const n of $h.values())Dw(n,t);for(const n of kO.values())Dw(n,t);return!0}function Dy(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xi(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bO={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new gu("app","Firebase",bO);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PO{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new bs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xo=xO;function Kx(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:qg,automaticDataCollectionEnabled:!1},e),r=i.name;if(typeof r!="string"||!r)throw Pr.create("bad-app-name",{appName:String(r)});if(n||(n=$x()),!n)throw Pr.create("no-options");const s=$h.get(r);if(s){if(Hh(n,s.options)&&Hh(i,s.config))return s;throw Pr.create("duplicate-app",{appName:r})}const o=new OM(r);for(const l of Gg.values())o.addComponent(l);const a=new PO(n,i,o);return $h.set(r,a),a}function Qx(t=qg){const e=$h.get(t);if(!e&&t===qg&&$x())return Kx();if(!e)throw Pr.create("no-app",{appName:t});return e}function Cr(t,e,n){var i;let r=(i=IO[t])!==null&&i!==void 0?i:t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${r}" with version "${e}":`];s&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ji.warn(a.join(" "));return}No(new bs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CO="firebase-heartbeat-database",AO=1,Ul="firebase-heartbeat-store";let Ip=null;function Xx(){return Ip||(Ip=qM(CO,AO,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(t=>{throw Pr.create("idb-open",{originalErrorMessage:t.message})})),Ip}async function RO(t){try{const n=(await Xx()).transaction(Ul),i=await n.objectStore(Ul).get(Jx(t));return await n.done,i}catch(e){if(e instanceof $i)ji.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ji.warn(n.message)}}}async function Mw(t,e){try{const i=(await Xx()).transaction(Ul,"readwrite");await i.objectStore(Ul).put(e,Jx(t)),await i.done}catch(n){if(n instanceof $i)ji.warn(n.message);else{const i=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ji.warn(i.message)}}}function Jx(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DO=1024,MO=30*24*60*60*1e3;class OO{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new LO(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ow();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=MO}),this._storage.overwrite(this._heartbeatsCache))}catch(i){ji.warn(i)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Ow(),{heartbeatsToSend:i,unsentEntries:r}=NO(this._heartbeatsCache.heartbeats),s=Wh(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return ji.warn(n),""}}}function Ow(){return new Date().toISOString().substring(0,10)}function NO(t,e=DO){const n=[];let i=t.slice();for(const r of t){const s=n.find(o=>o.agent===r.agent);if(s){if(s.dates.push(r.date),Nw(n)>e){s.dates.pop();break}}else if(n.push({agent:r.agent,dates:[r.date]}),Nw(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class LO{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TM()?SM().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await RO(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Mw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const r=await this.read();return Mw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function Nw(t){return Wh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(t){No(new bs("platform-logger",e=>new QM(e),"PRIVATE")),No(new bs("heartbeat",e=>new OO(e),"PRIVATE")),Cr(Yg,Rw,t),Cr(Yg,Rw,"esm2017"),Cr("fire-js","")}VO("");var Lw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ys,Zx;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,E){function k(){}k.prototype=E.prototype,I.D=E.prototype,I.prototype=new k,I.prototype.constructor=I,I.C=function(b,C,D){for(var P=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)P[Ae-2]=arguments[Ae];return E.prototype[C].apply(b,P)}}function n(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(i,n),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(I,E,k){k||(k=0);var b=Array(16);if(typeof E=="string")for(var C=0;16>C;++C)b[C]=E.charCodeAt(k++)|E.charCodeAt(k++)<<8|E.charCodeAt(k++)<<16|E.charCodeAt(k++)<<24;else for(C=0;16>C;++C)b[C]=E[k++]|E[k++]<<8|E[k++]<<16|E[k++]<<24;E=I.g[0],k=I.g[1],C=I.g[2];var D=I.g[3],P=E+(D^k&(C^D))+b[0]+3614090360&4294967295;E=k+(P<<7&4294967295|P>>>25),P=D+(C^E&(k^C))+b[1]+3905402710&4294967295,D=E+(P<<12&4294967295|P>>>20),P=C+(k^D&(E^k))+b[2]+606105819&4294967295,C=D+(P<<17&4294967295|P>>>15),P=k+(E^C&(D^E))+b[3]+3250441966&4294967295,k=C+(P<<22&4294967295|P>>>10),P=E+(D^k&(C^D))+b[4]+4118548399&4294967295,E=k+(P<<7&4294967295|P>>>25),P=D+(C^E&(k^C))+b[5]+1200080426&4294967295,D=E+(P<<12&4294967295|P>>>20),P=C+(k^D&(E^k))+b[6]+2821735955&4294967295,C=D+(P<<17&4294967295|P>>>15),P=k+(E^C&(D^E))+b[7]+4249261313&4294967295,k=C+(P<<22&4294967295|P>>>10),P=E+(D^k&(C^D))+b[8]+1770035416&4294967295,E=k+(P<<7&4294967295|P>>>25),P=D+(C^E&(k^C))+b[9]+2336552879&4294967295,D=E+(P<<12&4294967295|P>>>20),P=C+(k^D&(E^k))+b[10]+4294925233&4294967295,C=D+(P<<17&4294967295|P>>>15),P=k+(E^C&(D^E))+b[11]+2304563134&4294967295,k=C+(P<<22&4294967295|P>>>10),P=E+(D^k&(C^D))+b[12]+1804603682&4294967295,E=k+(P<<7&4294967295|P>>>25),P=D+(C^E&(k^C))+b[13]+4254626195&4294967295,D=E+(P<<12&4294967295|P>>>20),P=C+(k^D&(E^k))+b[14]+2792965006&4294967295,C=D+(P<<17&4294967295|P>>>15),P=k+(E^C&(D^E))+b[15]+1236535329&4294967295,k=C+(P<<22&4294967295|P>>>10),P=E+(C^D&(k^C))+b[1]+4129170786&4294967295,E=k+(P<<5&4294967295|P>>>27),P=D+(k^C&(E^k))+b[6]+3225465664&4294967295,D=E+(P<<9&4294967295|P>>>23),P=C+(E^k&(D^E))+b[11]+643717713&4294967295,C=D+(P<<14&4294967295|P>>>18),P=k+(D^E&(C^D))+b[0]+3921069994&4294967295,k=C+(P<<20&4294967295|P>>>12),P=E+(C^D&(k^C))+b[5]+3593408605&4294967295,E=k+(P<<5&4294967295|P>>>27),P=D+(k^C&(E^k))+b[10]+38016083&4294967295,D=E+(P<<9&4294967295|P>>>23),P=C+(E^k&(D^E))+b[15]+3634488961&4294967295,C=D+(P<<14&4294967295|P>>>18),P=k+(D^E&(C^D))+b[4]+3889429448&4294967295,k=C+(P<<20&4294967295|P>>>12),P=E+(C^D&(k^C))+b[9]+568446438&4294967295,E=k+(P<<5&4294967295|P>>>27),P=D+(k^C&(E^k))+b[14]+3275163606&4294967295,D=E+(P<<9&4294967295|P>>>23),P=C+(E^k&(D^E))+b[3]+4107603335&4294967295,C=D+(P<<14&4294967295|P>>>18),P=k+(D^E&(C^D))+b[8]+1163531501&4294967295,k=C+(P<<20&4294967295|P>>>12),P=E+(C^D&(k^C))+b[13]+2850285829&4294967295,E=k+(P<<5&4294967295|P>>>27),P=D+(k^C&(E^k))+b[2]+4243563512&4294967295,D=E+(P<<9&4294967295|P>>>23),P=C+(E^k&(D^E))+b[7]+1735328473&4294967295,C=D+(P<<14&4294967295|P>>>18),P=k+(D^E&(C^D))+b[12]+2368359562&4294967295,k=C+(P<<20&4294967295|P>>>12),P=E+(k^C^D)+b[5]+4294588738&4294967295,E=k+(P<<4&4294967295|P>>>28),P=D+(E^k^C)+b[8]+2272392833&4294967295,D=E+(P<<11&4294967295|P>>>21),P=C+(D^E^k)+b[11]+1839030562&4294967295,C=D+(P<<16&4294967295|P>>>16),P=k+(C^D^E)+b[14]+4259657740&4294967295,k=C+(P<<23&4294967295|P>>>9),P=E+(k^C^D)+b[1]+2763975236&4294967295,E=k+(P<<4&4294967295|P>>>28),P=D+(E^k^C)+b[4]+1272893353&4294967295,D=E+(P<<11&4294967295|P>>>21),P=C+(D^E^k)+b[7]+4139469664&4294967295,C=D+(P<<16&4294967295|P>>>16),P=k+(C^D^E)+b[10]+3200236656&4294967295,k=C+(P<<23&4294967295|P>>>9),P=E+(k^C^D)+b[13]+681279174&4294967295,E=k+(P<<4&4294967295|P>>>28),P=D+(E^k^C)+b[0]+3936430074&4294967295,D=E+(P<<11&4294967295|P>>>21),P=C+(D^E^k)+b[3]+3572445317&4294967295,C=D+(P<<16&4294967295|P>>>16),P=k+(C^D^E)+b[6]+76029189&4294967295,k=C+(P<<23&4294967295|P>>>9),P=E+(k^C^D)+b[9]+3654602809&4294967295,E=k+(P<<4&4294967295|P>>>28),P=D+(E^k^C)+b[12]+3873151461&4294967295,D=E+(P<<11&4294967295|P>>>21),P=C+(D^E^k)+b[15]+530742520&4294967295,C=D+(P<<16&4294967295|P>>>16),P=k+(C^D^E)+b[2]+3299628645&4294967295,k=C+(P<<23&4294967295|P>>>9),P=E+(C^(k|~D))+b[0]+4096336452&4294967295,E=k+(P<<6&4294967295|P>>>26),P=D+(k^(E|~C))+b[7]+1126891415&4294967295,D=E+(P<<10&4294967295|P>>>22),P=C+(E^(D|~k))+b[14]+2878612391&4294967295,C=D+(P<<15&4294967295|P>>>17),P=k+(D^(C|~E))+b[5]+4237533241&4294967295,k=C+(P<<21&4294967295|P>>>11),P=E+(C^(k|~D))+b[12]+1700485571&4294967295,E=k+(P<<6&4294967295|P>>>26),P=D+(k^(E|~C))+b[3]+2399980690&4294967295,D=E+(P<<10&4294967295|P>>>22),P=C+(E^(D|~k))+b[10]+4293915773&4294967295,C=D+(P<<15&4294967295|P>>>17),P=k+(D^(C|~E))+b[1]+2240044497&4294967295,k=C+(P<<21&4294967295|P>>>11),P=E+(C^(k|~D))+b[8]+1873313359&4294967295,E=k+(P<<6&4294967295|P>>>26),P=D+(k^(E|~C))+b[15]+4264355552&4294967295,D=E+(P<<10&4294967295|P>>>22),P=C+(E^(D|~k))+b[6]+2734768916&4294967295,C=D+(P<<15&4294967295|P>>>17),P=k+(D^(C|~E))+b[13]+1309151649&4294967295,k=C+(P<<21&4294967295|P>>>11),P=E+(C^(k|~D))+b[4]+4149444226&4294967295,E=k+(P<<6&4294967295|P>>>26),P=D+(k^(E|~C))+b[11]+3174756917&4294967295,D=E+(P<<10&4294967295|P>>>22),P=C+(E^(D|~k))+b[2]+718787259&4294967295,C=D+(P<<15&4294967295|P>>>17),P=k+(D^(C|~E))+b[9]+3951481745&4294967295,I.g[0]=I.g[0]+E&4294967295,I.g[1]=I.g[1]+(C+(P<<21&4294967295|P>>>11))&4294967295,I.g[2]=I.g[2]+C&4294967295,I.g[3]=I.g[3]+D&4294967295}i.prototype.u=function(I,E){E===void 0&&(E=I.length);for(var k=E-this.blockSize,b=this.B,C=this.h,D=0;D<E;){if(C==0)for(;D<=k;)r(this,I,D),D+=this.blockSize;if(typeof I=="string"){for(;D<E;)if(b[C++]=I.charCodeAt(D++),C==this.blockSize){r(this,b),C=0;break}}else for(;D<E;)if(b[C++]=I[D++],C==this.blockSize){r(this,b),C=0;break}}this.h=C,this.o+=E},i.prototype.v=function(){var I=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);I[0]=128;for(var E=1;E<I.length-8;++E)I[E]=0;var k=8*this.o;for(E=I.length-8;E<I.length;++E)I[E]=k&255,k/=256;for(this.u(I),I=Array(16),E=k=0;4>E;++E)for(var b=0;32>b;b+=8)I[k++]=this.g[E]>>>b&255;return I};function s(I,E){var k=a;return Object.prototype.hasOwnProperty.call(k,I)?k[I]:k[I]=E(I)}function o(I,E){this.h=E;for(var k=[],b=!0,C=I.length-1;0<=C;C--){var D=I[C]|0;b&&D==E||(k[C]=D,b=!1)}this.g=k}var a={};function l(I){return-128<=I&&128>I?s(I,function(E){return new o([E|0],0>E?-1:0)}):new o([I|0],0>I?-1:0)}function u(I){if(isNaN(I)||!isFinite(I))return d;if(0>I)return T(u(-I));for(var E=[],k=1,b=0;I>=k;b++)E[b]=I/k|0,k*=4294967296;return new o(E,0)}function h(I,E){if(I.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(I.charAt(0)=="-")return T(h(I.substring(1),E));if(0<=I.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(E,8)),b=d,C=0;C<I.length;C+=8){var D=Math.min(8,I.length-C),P=parseInt(I.substring(C,C+D),E);8>D?(D=u(Math.pow(E,D)),b=b.j(D).add(u(P))):(b=b.j(k),b=b.add(u(P)))}return b}var d=l(0),f=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-T(this).m();for(var I=0,E=1,k=0;k<this.g.length;k++){var b=this.i(k);I+=(0<=b?b:4294967296+b)*E,E*=4294967296}return I},t.toString=function(I){if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(y(this))return"0";if(w(this))return"-"+T(this).toString(I);for(var E=u(Math.pow(I,6)),k=this,b="";;){var C=R(k,E).g;k=_(k,C.j(E));var D=((0<k.g.length?k.g[0]:k.h)>>>0).toString(I);if(k=C,y(k))return D+b;for(;6>D.length;)D="0"+D;b=D+b}},t.i=function(I){return 0>I?0:I<this.g.length?this.g[I]:this.h};function y(I){if(I.h!=0)return!1;for(var E=0;E<I.g.length;E++)if(I.g[E]!=0)return!1;return!0}function w(I){return I.h==-1}t.l=function(I){return I=_(this,I),w(I)?-1:y(I)?0:1};function T(I){for(var E=I.g.length,k=[],b=0;b<E;b++)k[b]=~I.g[b];return new o(k,~I.h).add(f)}t.abs=function(){return w(this)?T(this):this},t.add=function(I){for(var E=Math.max(this.g.length,I.g.length),k=[],b=0,C=0;C<=E;C++){var D=b+(this.i(C)&65535)+(I.i(C)&65535),P=(D>>>16)+(this.i(C)>>>16)+(I.i(C)>>>16);b=P>>>16,D&=65535,P&=65535,k[C]=P<<16|D}return new o(k,k[k.length-1]&-2147483648?-1:0)};function _(I,E){return I.add(T(E))}t.j=function(I){if(y(this)||y(I))return d;if(w(this))return w(I)?T(this).j(T(I)):T(T(this).j(I));if(w(I))return T(this.j(T(I)));if(0>this.l(g)&&0>I.l(g))return u(this.m()*I.m());for(var E=this.g.length+I.g.length,k=[],b=0;b<2*E;b++)k[b]=0;for(b=0;b<this.g.length;b++)for(var C=0;C<I.g.length;C++){var D=this.i(b)>>>16,P=this.i(b)&65535,Ae=I.i(C)>>>16,ae=I.i(C)&65535;k[2*b+2*C]+=P*ae,v(k,2*b+2*C),k[2*b+2*C+1]+=D*ae,v(k,2*b+2*C+1),k[2*b+2*C+1]+=P*Ae,v(k,2*b+2*C+1),k[2*b+2*C+2]+=D*Ae,v(k,2*b+2*C+2)}for(b=0;b<E;b++)k[b]=k[2*b+1]<<16|k[2*b];for(b=E;b<2*E;b++)k[b]=0;return new o(k,0)};function v(I,E){for(;(I[E]&65535)!=I[E];)I[E+1]+=I[E]>>>16,I[E]&=65535,E++}function x(I,E){this.g=I,this.h=E}function R(I,E){if(y(E))throw Error("division by zero");if(y(I))return new x(d,d);if(w(I))return E=R(T(I),E),new x(T(E.g),T(E.h));if(w(E))return E=R(I,T(E)),new x(T(E.g),E.h);if(30<I.g.length){if(w(I)||w(E))throw Error("slowDivide_ only works with positive integers.");for(var k=f,b=E;0>=b.l(I);)k=M(k),b=M(b);var C=N(k,1),D=N(b,1);for(b=N(b,2),k=N(k,2);!y(b);){var P=D.add(b);0>=P.l(I)&&(C=C.add(k),D=P),b=N(b,1),k=N(k,1)}return E=_(I,C.j(E)),new x(C,E)}for(C=d;0<=I.l(E);){for(k=Math.max(1,Math.floor(I.m()/E.m())),b=Math.ceil(Math.log(k)/Math.LN2),b=48>=b?1:Math.pow(2,b-48),D=u(k),P=D.j(E);w(P)||0<P.l(I);)k-=b,D=u(k),P=D.j(E);y(D)&&(D=f),C=C.add(D),I=_(I,P)}return new x(C,I)}t.A=function(I){return R(this,I).h},t.and=function(I){for(var E=Math.max(this.g.length,I.g.length),k=[],b=0;b<E;b++)k[b]=this.i(b)&I.i(b);return new o(k,this.h&I.h)},t.or=function(I){for(var E=Math.max(this.g.length,I.g.length),k=[],b=0;b<E;b++)k[b]=this.i(b)|I.i(b);return new o(k,this.h|I.h)},t.xor=function(I){for(var E=Math.max(this.g.length,I.g.length),k=[],b=0;b<E;b++)k[b]=this.i(b)^I.i(b);return new o(k,this.h^I.h)};function M(I){for(var E=I.g.length+1,k=[],b=0;b<E;b++)k[b]=I.i(b)<<1|I.i(b-1)>>>31;return new o(k,I.h)}function N(I,E){var k=E>>5;E%=32;for(var b=I.g.length-k,C=[],D=0;D<b;D++)C[D]=0<E?I.i(D+k)>>>E|I.i(D+k+1)<<32-E:I.i(D+k);return new o(C,I.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,Zx=i,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=h,ys=o}).apply(typeof Lw<"u"?Lw:typeof self<"u"?self:typeof window<"u"?window:{});var mc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eI,$a,tI,Kc,Kg,nI,iI,rI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,m){return c==Array.prototype||c==Object.prototype||(c[p]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof mc=="object"&&mc];for(var p=0;p<c.length;++p){var m=c[p];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var i=n(this);function r(c,p){if(p)e:{var m=i;c=c.split(".");for(var S=0;S<c.length-1;S++){var O=c[S];if(!(O in m))break e;m=m[O]}c=c[c.length-1],S=m[c],p=p(S),p!=S&&p!=null&&e(m,c,{configurable:!0,writable:!0,value:p})}}function s(c,p){c instanceof String&&(c+="");var m=0,S=!1,O={next:function(){if(!S&&m<c.length){var L=m++;return{value:p(L,c[L]),done:!1}}return S=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}r("Array.prototype.values",function(c){return c||function(){return s(this,function(p,m){return m})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function u(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function h(c,p,m){return c.call.apply(c.bind,arguments)}function d(c,p,m){if(!c)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,S),c.apply(p,O)}}return function(){return c.apply(p,arguments)}}function f(c,p,m){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:d,f.apply(null,arguments)}function g(c,p){var m=Array.prototype.slice.call(arguments,1);return function(){var S=m.slice();return S.push.apply(S,arguments),c.apply(this,S)}}function y(c,p){function m(){}m.prototype=p.prototype,c.aa=p.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(S,O,L){for(var W=Array(arguments.length-2),Ce=2;Ce<arguments.length;Ce++)W[Ce-2]=arguments[Ce];return p.prototype[O].apply(S,W)}}function w(c){const p=c.length;if(0<p){const m=Array(p);for(let S=0;S<p;S++)m[S]=c[S];return m}return[]}function T(c,p){for(let m=1;m<arguments.length;m++){const S=arguments[m];if(l(S)){const O=c.length||0,L=S.length||0;c.length=O+L;for(let W=0;W<L;W++)c[O+W]=S[W]}else c.push(S)}}class _{constructor(p,m){this.i=p,this.j=m,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function v(c){return/^[\s\xa0]*$/.test(c)}function x(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function R(c){return R[" "](c),c}R[" "]=function(){};var M=x().indexOf("Gecko")!=-1&&!(x().toLowerCase().indexOf("webkit")!=-1&&x().indexOf("Edge")==-1)&&!(x().indexOf("Trident")!=-1||x().indexOf("MSIE")!=-1)&&x().indexOf("Edge")==-1;function N(c,p,m){for(const S in c)p.call(m,c[S],S,c)}function I(c,p){for(const m in c)p.call(void 0,c[m],m,c)}function E(c){const p={};for(const m in c)p[m]=c[m];return p}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(c,p){let m,S;for(let O=1;O<arguments.length;O++){S=arguments[O];for(m in S)c[m]=S[m];for(let L=0;L<k.length;L++)m=k[L],Object.prototype.hasOwnProperty.call(S,m)&&(c[m]=S[m])}}function C(c){var p=1;c=c.split(":");const m=[];for(;0<p&&c.length;)m.push(c.shift()),p--;return c.length&&m.push(c.join(":")),m}function D(c){a.setTimeout(()=>{throw c},0)}function P(){var c=Q;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class Ae{constructor(){this.h=this.g=null}add(p,m){const S=ae.get();S.set(p,m),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new _(()=>new Ee,c=>c.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(p,m){this.h=p,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let we,B=!1,Q=new Ae,Z=()=>{const c=a.Promise.resolve(void 0);we=()=>{c.then(Ie)}};var Ie=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(m){D(m)}var p=ae;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}B=!1};function he(){this.s=this.s,this.C=this.C}he.prototype.s=!1,he.prototype.ma=function(){this.s||(this.s=!0,this.N())},he.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Pe(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}Pe.prototype.h=function(){this.defaultPrevented=!0};var pt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const m=()=>{};a.addEventListener("test",m,p),a.removeEventListener("test",m,p)}catch{}return c}();function Ft(c,p){if(Pe.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,S=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(M){e:{try{R(p.nodeName);var O=!0;break e}catch{}O=!1}O||(p=null)}}else m=="mouseover"?p=c.fromElement:m=="mouseout"&&(p=c.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:gt[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ft.aa.h.call(this)}}y(Ft,Pe);var gt={2:"touch",3:"pen",4:"mouse"};Ft.prototype.h=function(){Ft.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var hi="closure_listenable_"+(1e6*Math.random()|0),GP=0;function KP(c,p,m,S,O){this.listener=c,this.proxy=null,this.src=p,this.type=m,this.capture=!!S,this.ha=O,this.key=++GP,this.da=this.fa=!1}function Ou(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Nu(c){this.src=c,this.g={},this.h=0}Nu.prototype.add=function(c,p,m,S,O){var L=c.toString();c=this.g[L],c||(c=this.g[L]=[],this.h++);var W=kf(c,p,S,O);return-1<W?(p=c[W],m||(p.fa=!1)):(p=new KP(p,this.src,L,!!S,O),p.fa=m,c.push(p)),p};function If(c,p){var m=p.type;if(m in c.g){var S=c.g[m],O=Array.prototype.indexOf.call(S,p,void 0),L;(L=0<=O)&&Array.prototype.splice.call(S,O,1),L&&(Ou(p),c.g[m].length==0&&(delete c.g[m],c.h--))}}function kf(c,p,m,S){for(var O=0;O<c.length;++O){var L=c[O];if(!L.da&&L.listener==p&&L.capture==!!m&&L.ha==S)return O}return-1}var bf="closure_lm_"+(1e6*Math.random()|0),Pf={};function cv(c,p,m,S,O){if(Array.isArray(p)){for(var L=0;L<p.length;L++)cv(c,p[L],m,S,O);return null}return m=fv(m),c&&c[hi]?c.K(p,m,u(S)?!!S.capture:!!S,O):QP(c,p,m,!1,S,O)}function QP(c,p,m,S,O,L){if(!p)throw Error("Invalid event type");var W=u(O)?!!O.capture:!!O,Ce=Af(c);if(Ce||(c[bf]=Ce=new Nu(c)),m=Ce.add(p,m,S,W,L),m.proxy)return m;if(S=XP(),m.proxy=S,S.src=c,S.listener=m,c.addEventListener)pt||(O=W),O===void 0&&(O=!1),c.addEventListener(p.toString(),S,O);else if(c.attachEvent)c.attachEvent(dv(p.toString()),S);else if(c.addListener&&c.removeListener)c.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return m}function XP(){function c(m){return p.call(c.src,c.listener,m)}const p=JP;return c}function hv(c,p,m,S,O){if(Array.isArray(p))for(var L=0;L<p.length;L++)hv(c,p[L],m,S,O);else S=u(S)?!!S.capture:!!S,m=fv(m),c&&c[hi]?(c=c.i,p=String(p).toString(),p in c.g&&(L=c.g[p],m=kf(L,m,S,O),-1<m&&(Ou(L[m]),Array.prototype.splice.call(L,m,1),L.length==0&&(delete c.g[p],c.h--)))):c&&(c=Af(c))&&(p=c.g[p.toString()],c=-1,p&&(c=kf(p,m,S,O)),(m=-1<c?p[c]:null)&&Cf(m))}function Cf(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[hi])If(p.i,c);else{var m=c.type,S=c.proxy;p.removeEventListener?p.removeEventListener(m,S,c.capture):p.detachEvent?p.detachEvent(dv(m),S):p.addListener&&p.removeListener&&p.removeListener(S),(m=Af(p))?(If(m,c),m.h==0&&(m.src=null,p[bf]=null)):Ou(c)}}}function dv(c){return c in Pf?Pf[c]:Pf[c]="on"+c}function JP(c,p){if(c.da)c=!0;else{p=new Ft(p,this);var m=c.listener,S=c.ha||c.src;c.fa&&Cf(c),c=m.call(S,p)}return c}function Af(c){return c=c[bf],c instanceof Nu?c:null}var Rf="__closure_events_fn_"+(1e9*Math.random()>>>0);function fv(c){return typeof c=="function"?c:(c[Rf]||(c[Rf]=function(p){return c.handleEvent(p)}),c[Rf])}function xt(){he.call(this),this.i=new Nu(this),this.M=this,this.F=null}y(xt,he),xt.prototype[hi]=!0,xt.prototype.removeEventListener=function(c,p,m,S){hv(this,c,p,m,S)};function jt(c,p){var m,S=c.F;if(S)for(m=[];S;S=S.F)m.push(S);if(c=c.M,S=p.type||p,typeof p=="string")p=new Pe(p,c);else if(p instanceof Pe)p.target=p.target||c;else{var O=p;p=new Pe(S,c),b(p,O)}if(O=!0,m)for(var L=m.length-1;0<=L;L--){var W=p.g=m[L];O=Lu(W,S,!0,p)&&O}if(W=p.g=c,O=Lu(W,S,!0,p)&&O,O=Lu(W,S,!1,p)&&O,m)for(L=0;L<m.length;L++)W=p.g=m[L],O=Lu(W,S,!1,p)&&O}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var m=c.g[p],S=0;S<m.length;S++)Ou(m[S]);delete c.g[p],c.h--}}this.F=null},xt.prototype.K=function(c,p,m,S){return this.i.add(String(c),p,!1,m,S)},xt.prototype.L=function(c,p,m,S){return this.i.add(String(c),p,!0,m,S)};function Lu(c,p,m,S){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var O=!0,L=0;L<p.length;++L){var W=p[L];if(W&&!W.da&&W.capture==m){var Ce=W.listener,mt=W.ha||W.src;W.fa&&If(c.i,W),O=Ce.call(mt,S)!==!1&&O}}return O&&!S.defaultPrevented}function pv(c,p,m){if(typeof c=="function")m&&(c=f(c,m));else if(c&&typeof c.handleEvent=="function")c=f(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(c,p||0)}function gv(c){c.g=pv(()=>{c.g=null,c.i&&(c.i=!1,gv(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class ZP extends he{constructor(p,m){super(),this.m=p,this.l=m,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:gv(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ha(c){he.call(this),this.h=c,this.g={}}y(ha,he);var mv=[];function yv(c){N(c.g,function(p,m){this.g.hasOwnProperty(m)&&Cf(p)},c),c.g={}}ha.prototype.N=function(){ha.aa.N.call(this),yv(this)},ha.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Df=a.JSON.stringify,eC=a.JSON.parse,tC=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Mf(){}Mf.prototype.h=null;function _v(c){return c.h||(c.h=c.i())}function vv(){}var da={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Of(){Pe.call(this,"d")}y(Of,Pe);function Nf(){Pe.call(this,"c")}y(Nf,Pe);var Xr={},wv=null;function Vu(){return wv=wv||new xt}Xr.La="serverreachability";function Ev(c){Pe.call(this,Xr.La,c)}y(Ev,Pe);function fa(c){const p=Vu();jt(p,new Ev(p))}Xr.STAT_EVENT="statevent";function Tv(c,p){Pe.call(this,Xr.STAT_EVENT,c),this.stat=p}y(Tv,Pe);function Ut(c){const p=Vu();jt(p,new Tv(p,c))}Xr.Ma="timingevent";function Sv(c,p){Pe.call(this,Xr.Ma,c),this.size=p}y(Sv,Pe);function pa(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},p)}function ga(){this.g=!0}ga.prototype.xa=function(){this.g=!1};function nC(c,p,m,S,O,L){c.info(function(){if(c.g)if(L)for(var W="",Ce=L.split("&"),mt=0;mt<Ce.length;mt++){var ye=Ce[mt].split("=");if(1<ye.length){var It=ye[0];ye=ye[1];var kt=It.split("_");W=2<=kt.length&&kt[1]=="type"?W+(It+"="+ye+"&"):W+(It+"=redacted&")}}else W=null;else W=L;return"XMLHTTP REQ ("+S+") [attempt "+O+"]: "+p+`
`+m+`
`+W})}function iC(c,p,m,S,O,L,W){c.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+O+"]: "+p+`
`+m+`
`+L+" "+W})}function js(c,p,m,S){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+sC(c,m)+(S?" "+S:"")})}function rC(c,p){c.info(function(){return"TIMEOUT: "+p})}ga.prototype.info=function(){};function sC(c,p){if(!c.g)return p;if(!p)return null;try{var m=JSON.parse(p);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var S=m[c];if(!(2>S.length)){var O=S[1];if(Array.isArray(O)&&!(1>O.length)){var L=O[0];if(L!="noop"&&L!="stop"&&L!="close")for(var W=1;W<O.length;W++)O[W]=""}}}}return Df(m)}catch{return p}}var Fu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},xv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Lf;function ju(){}y(ju,Mf),ju.prototype.g=function(){return new XMLHttpRequest},ju.prototype.i=function(){return{}},Lf=new ju;function Gi(c,p,m,S){this.j=c,this.i=p,this.l=m,this.R=S||1,this.U=new ha(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Iv}function Iv(){this.i=null,this.g="",this.h=!1}var kv={},Vf={};function Ff(c,p,m){c.L=1,c.v=Wu(di(p)),c.m=m,c.P=!0,bv(c,null)}function bv(c,p){c.F=Date.now(),Uu(c),c.A=di(c.v);var m=c.A,S=c.R;Array.isArray(S)||(S=[String(S)]),zv(m.i,"t",S),c.C=0,m=c.j.J,c.h=new Iv,c.g=s0(c.j,m?p:null,!c.m),0<c.O&&(c.M=new ZP(f(c.Y,c,c.g),c.O)),p=c.U,m=c.g,S=c.ca;var O="readystatechange";Array.isArray(O)||(O&&(mv[0]=O.toString()),O=mv);for(var L=0;L<O.length;L++){var W=cv(m,O[L],S||p.handleEvent,!1,p.h||p);if(!W)break;p.g[W.key]=W}p=c.H?E(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),fa(),nC(c.i,c.u,c.A,c.l,c.R,c.m)}Gi.prototype.ca=function(c){c=c.target;const p=this.M;p&&fi(c)==3?p.j():this.Y(c)},Gi.prototype.Y=function(c){try{if(c==this.g)e:{const kt=fi(this.g);var p=this.g.Ba();const Bs=this.g.Z();if(!(3>kt)&&(kt!=3||this.g&&(this.h.h||this.g.oa()||Gv(this.g)))){this.J||kt!=4||p==7||(p==8||0>=Bs?fa(3):fa(2)),jf(this);var m=this.g.Z();this.X=m;t:if(Pv(this)){var S=Gv(this.g);c="";var O=S.length,L=fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jr(this),ma(this);var W="";break t}this.h.i=new a.TextDecoder}for(p=0;p<O;p++)this.h.h=!0,c+=this.h.i.decode(S[p],{stream:!(L&&p==O-1)});S.length=0,this.h.g+=c,this.C=0,W=this.h.g}else W=this.g.oa();if(this.o=m==200,iC(this.i,this.u,this.A,this.l,this.R,kt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ce,mt=this.g;if((Ce=mt.g?mt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(Ce)){var ye=Ce;break t}}ye=null}if(m=ye)js(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Uf(this,m);else{this.o=!1,this.s=3,Ut(12),Jr(this),ma(this);break e}}if(this.P){m=!0;let In;for(;!this.J&&this.C<W.length;)if(In=oC(this,W),In==Vf){kt==4&&(this.s=4,Ut(14),m=!1),js(this.i,this.l,null,"[Incomplete Response]");break}else if(In==kv){this.s=4,Ut(15),js(this.i,this.l,W,"[Invalid Chunk]"),m=!1;break}else js(this.i,this.l,In,null),Uf(this,In);if(Pv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||W.length!=0||this.h.h||(this.s=1,Ut(16),m=!1),this.o=this.o&&m,!m)js(this.i,this.l,W,"[Invalid Chunked Response]"),Jr(this),ma(this);else if(0<W.length&&!this.W){this.W=!0;var It=this.j;It.g==this&&It.ba&&!It.M&&(It.j.info("Great, no buffering proxy detected. Bytes received: "+W.length),Yf(It),It.M=!0,Ut(11))}}else js(this.i,this.l,W,null),Uf(this,W);kt==4&&Jr(this),this.o&&!this.J&&(kt==4?t0(this.j,this):(this.o=!1,Uu(this)))}else SC(this.g),m==400&&0<W.indexOf("Unknown SID")?(this.s=3,Ut(12)):(this.s=0,Ut(13)),Jr(this),ma(this)}}}catch{}finally{}};function Pv(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function oC(c,p){var m=c.C,S=p.indexOf(`
`,m);return S==-1?Vf:(m=Number(p.substring(m,S)),isNaN(m)?kv:(S+=1,S+m>p.length?Vf:(p=p.slice(S,S+m),c.C=S+m,p)))}Gi.prototype.cancel=function(){this.J=!0,Jr(this)};function Uu(c){c.S=Date.now()+c.I,Cv(c,c.I)}function Cv(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=pa(f(c.ba,c),p)}function jf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}Gi.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(rC(this.i,this.A),this.L!=2&&(fa(),Ut(17)),Jr(this),this.s=2,ma(this)):Cv(this,this.S-c)};function ma(c){c.j.G==0||c.J||t0(c.j,c)}function Jr(c){jf(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,yv(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function Uf(c,p){try{var m=c.j;if(m.G!=0&&(m.g==c||zf(m.h,c))){if(!c.K&&zf(m.h,c)&&m.G==3){try{var S=m.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var O=S;if(O[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Ku(m),qu(m);else break e;$f(m),Ut(18)}}else m.za=O[1],0<m.za-m.T&&37500>O[2]&&m.F&&m.v==0&&!m.C&&(m.C=pa(f(m.Za,m),6e3));if(1>=Dv(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else es(m,11)}else if((c.K||m.g==c)&&Ku(m),!v(p))for(O=m.Da.g.parse(p),p=0;p<O.length;p++){let ye=O[p];if(m.T=ye[0],ye=ye[1],m.G==2)if(ye[0]=="c"){m.K=ye[1],m.ia=ye[2];const It=ye[3];It!=null&&(m.la=It,m.j.info("VER="+m.la));const kt=ye[4];kt!=null&&(m.Aa=kt,m.j.info("SVER="+m.Aa));const Bs=ye[5];Bs!=null&&typeof Bs=="number"&&0<Bs&&(S=1.5*Bs,m.L=S,m.j.info("backChannelRequestTimeoutMs_="+S)),S=m;const In=c.g;if(In){const Xu=In.g?In.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xu){var L=S.h;L.g||Xu.indexOf("spdy")==-1&&Xu.indexOf("quic")==-1&&Xu.indexOf("h2")==-1||(L.j=L.l,L.g=new Set,L.h&&(Bf(L,L.h),L.h=null))}if(S.D){const qf=In.g?In.g.getResponseHeader("X-HTTP-Session-Id"):null;qf&&(S.ya=qf,Me(S.I,S.D,qf))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),S=m;var W=c;if(S.qa=r0(S,S.J?S.ia:null,S.W),W.K){Mv(S.h,W);var Ce=W,mt=S.L;mt&&(Ce.I=mt),Ce.B&&(jf(Ce),Uu(Ce)),S.g=W}else Zv(S);0<m.i.length&&Gu(m)}else ye[0]!="stop"&&ye[0]!="close"||es(m,7);else m.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?es(m,7):Hf(m):ye[0]!="noop"&&m.l&&m.l.ta(ye),m.v=0)}}fa(4)}catch{}}var aC=class{constructor(c,p){this.g=c,this.map=p}};function Av(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Rv(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Dv(c){return c.h?1:c.g?c.g.size:0}function zf(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Bf(c,p){c.g?c.g.add(p):c.h=p}function Mv(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Av.prototype.cancel=function(){if(this.i=Ov(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Ov(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const m of c.g.values())p=p.concat(m.D);return p}return w(c.i)}function lC(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var p=[],m=c.length,S=0;S<m;S++)p.push(c[S]);return p}p=[],m=0;for(S in c)p[m++]=c[S];return p}function uC(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var p=[];c=c.length;for(var m=0;m<c;m++)p.push(m);return p}p=[],m=0;for(const S in c)p[m++]=S;return p}}}function Nv(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var m=uC(c),S=lC(c),O=S.length,L=0;L<O;L++)p.call(void 0,S[L],m&&m[L],c)}var Lv=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cC(c,p){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var S=c[m].indexOf("="),O=null;if(0<=S){var L=c[m].substring(0,S);O=c[m].substring(S+1)}else L=c[m];p(L,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function Zr(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Zr){this.h=c.h,zu(this,c.j),this.o=c.o,this.g=c.g,Bu(this,c.s),this.l=c.l;var p=c.i,m=new va;m.i=p.i,p.g&&(m.g=new Map(p.g),m.h=p.h),Vv(this,m),this.m=c.m}else c&&(p=String(c).match(Lv))?(this.h=!1,zu(this,p[1]||"",!0),this.o=ya(p[2]||""),this.g=ya(p[3]||"",!0),Bu(this,p[4]),this.l=ya(p[5]||"",!0),Vv(this,p[6]||"",!0),this.m=ya(p[7]||"")):(this.h=!1,this.i=new va(null,this.h))}Zr.prototype.toString=function(){var c=[],p=this.j;p&&c.push(_a(p,Fv,!0),":");var m=this.g;return(m||p=="file")&&(c.push("//"),(p=this.o)&&c.push(_a(p,Fv,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(_a(m,m.charAt(0)=="/"?fC:dC,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",_a(m,gC)),c.join("")};function di(c){return new Zr(c)}function zu(c,p,m){c.j=m?ya(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function Bu(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Vv(c,p,m){p instanceof va?(c.i=p,mC(c.i,c.h)):(m||(p=_a(p,pC)),c.i=new va(p,c.h))}function Me(c,p,m){c.i.set(p,m)}function Wu(c){return Me(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ya(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function _a(c,p,m){return typeof c=="string"?(c=encodeURI(c).replace(p,hC),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function hC(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Fv=/[#\/\?@]/g,dC=/[#\?:]/g,fC=/[#\?]/g,pC=/[#\?@]/g,gC=/#/g;function va(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Ki(c){c.g||(c.g=new Map,c.h=0,c.i&&cC(c.i,function(p,m){c.add(decodeURIComponent(p.replace(/\+/g," ")),m)}))}t=va.prototype,t.add=function(c,p){Ki(this),this.i=null,c=Us(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(p),this.h+=1,this};function jv(c,p){Ki(c),p=Us(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function Uv(c,p){return Ki(c),p=Us(c,p),c.g.has(p)}t.forEach=function(c,p){Ki(this),this.g.forEach(function(m,S){m.forEach(function(O){c.call(p,O,S,this)},this)},this)},t.na=function(){Ki(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),m=[];for(let S=0;S<p.length;S++){const O=c[S];for(let L=0;L<O.length;L++)m.push(p[S])}return m},t.V=function(c){Ki(this);let p=[];if(typeof c=="string")Uv(this,c)&&(p=p.concat(this.g.get(Us(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)p=p.concat(c[m])}return p},t.set=function(c,p){return Ki(this),this.i=null,c=Us(this,c),Uv(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},t.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function zv(c,p,m){jv(c,p),0<m.length&&(c.i=null,c.g.set(Us(c,p),w(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var m=0;m<p.length;m++){var S=p[m];const L=encodeURIComponent(String(S)),W=this.V(S);for(S=0;S<W.length;S++){var O=L;W[S]!==""&&(O+="="+encodeURIComponent(String(W[S]))),c.push(O)}}return this.i=c.join("&")};function Us(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function mC(c,p){p&&!c.j&&(Ki(c),c.i=null,c.g.forEach(function(m,S){var O=S.toLowerCase();S!=O&&(jv(this,S),zv(this,O,m))},c)),c.j=p}function yC(c,p){const m=new ga;if(a.Image){const S=new Image;S.onload=g(Qi,m,"TestLoadImage: loaded",!0,p,S),S.onerror=g(Qi,m,"TestLoadImage: error",!1,p,S),S.onabort=g(Qi,m,"TestLoadImage: abort",!1,p,S),S.ontimeout=g(Qi,m,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=c}else p(!1)}function _C(c,p){const m=new ga,S=new AbortController,O=setTimeout(()=>{S.abort(),Qi(m,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:S.signal}).then(L=>{clearTimeout(O),L.ok?Qi(m,"TestPingServer: ok",!0,p):Qi(m,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(O),Qi(m,"TestPingServer: error",!1,p)})}function Qi(c,p,m,S,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),S(m)}catch{}}function vC(){this.g=new tC}function wC(c,p,m){const S=m||"";try{Nv(c,function(O,L){let W=O;u(O)&&(W=Df(O)),p.push(S+L+"="+encodeURIComponent(W))})}catch(O){throw p.push(S+"type="+encodeURIComponent("_badmap")),O}}function Hu(c){this.l=c.Ub||null,this.j=c.eb||!1}y(Hu,Mf),Hu.prototype.g=function(){return new $u(this.l,this.j)},Hu.prototype.i=function(c){return function(){return c}}({});function $u(c,p){xt.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y($u,xt),t=$u.prototype,t.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,Ea(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,wa(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ea(this)),this.g&&(this.readyState=3,Ea(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Bv(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Bv(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?wa(this):Ea(this),this.readyState==3&&Bv(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,wa(this))},t.Qa=function(c){this.g&&(this.response=c,wa(this))},t.ga=function(){this.g&&wa(this)};function wa(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ea(c)}t.setRequestHeader=function(c,p){this.u.append(c,p)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var m=p.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=p.next();return c.join(`\r
`)};function Ea(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Wv(c){let p="";return N(c,function(m,S){p+=S,p+=":",p+=m,p+=`\r
`}),p}function Wf(c,p,m){e:{for(S in m){var S=!1;break e}S=!0}S||(m=Wv(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Me(c,p,m))}function Ge(c){xt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(Ge,xt);var EC=/^https?$/i,TC=["POST","PUT"];t=Ge.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,p,m,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Lf.g(),this.v=this.o?_v(this.o):_v(Lf),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(L){Hv(this,L);return}if(c=m||"",m=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var O in S)m.set(O,S[O]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const L of S.keys())m.set(L,S.get(L));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(m.keys()).find(L=>L.toLowerCase()=="content-type"),O=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(TC,p,void 0))||S||O||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[L,W]of m)this.g.setRequestHeader(L,W);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qv(this),this.u=!0,this.g.send(c),this.u=!1}catch(L){Hv(this,L)}};function Hv(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,$v(c),Yu(c)}function $v(c){c.A||(c.A=!0,jt(c,"complete"),jt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,jt(this,"complete"),jt(this,"abort"),Yu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yu(this,!0)),Ge.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Yv(this):this.bb())},t.bb=function(){Yv(this)};function Yv(c){if(c.h&&typeof o<"u"&&(!c.v[1]||fi(c)!=4||c.Z()!=2)){if(c.u&&fi(c)==4)pv(c.Ea,0,c);else if(jt(c,"readystatechange"),fi(c)==4){c.h=!1;try{const W=c.Z();e:switch(W){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var m;if(!(m=p)){var S;if(S=W===0){var O=String(c.D).match(Lv)[1]||null;!O&&a.self&&a.self.location&&(O=a.self.location.protocol.slice(0,-1)),S=!EC.test(O?O.toLowerCase():"")}m=S}if(m)jt(c,"complete"),jt(c,"success");else{c.m=6;try{var L=2<fi(c)?c.g.statusText:""}catch{L=""}c.l=L+" ["+c.Z()+"]",$v(c)}}finally{Yu(c)}}}}function Yu(c,p){if(c.g){qv(c);const m=c.g,S=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||jt(c,"ready");try{m.onreadystatechange=S}catch{}}}function qv(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function fi(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),eC(p)}};function Gv(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function SC(c){const p={};c=(c.g&&2<=fi(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<c.length;S++){if(v(c[S]))continue;var m=C(c[S]);const O=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();const L=p[O]||[];p[O]=L,L.push(m)}I(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ta(c,p,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||p}function Kv(c){this.Aa=0,this.i=[],this.j=new ga,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ta("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ta("baseRetryDelayMs",5e3,c),this.cb=Ta("retryDelaySeedMs",1e4,c),this.Wa=Ta("forwardChannelMaxRetries",2,c),this.wa=Ta("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Av(c&&c.concurrentRequestLimit),this.Da=new vC,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Kv.prototype,t.la=8,t.G=1,t.connect=function(c,p,m,S){Ut(0),this.W=c,this.H=p||{},m&&S!==void 0&&(this.H.OSID=m,this.H.OAID=S),this.F=this.X,this.I=r0(this,null,this.W),Gu(this)};function Hf(c){if(Qv(c),c.G==3){var p=c.U++,m=di(c.I);if(Me(m,"SID",c.K),Me(m,"RID",p),Me(m,"TYPE","terminate"),Sa(c,m),p=new Gi(c,c.j,p),p.L=2,p.v=Wu(di(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=p.v,m=!0),m||(p.g=s0(p.j,null),p.g.ea(p.v)),p.F=Date.now(),Uu(p)}i0(c)}function qu(c){c.g&&(Yf(c),c.g.cancel(),c.g=null)}function Qv(c){qu(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ku(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Gu(c){if(!Rv(c.h)&&!c.s){c.s=!0;var p=c.Ga;we||Z(),B||(we(),B=!0),Q.add(p,c),c.B=0}}function xC(c,p){return Dv(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=pa(f(c.Ga,c,p),n0(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const O=new Gi(this,this.j,c);let L=this.o;if(this.S&&(L?(L=E(L),b(L,this.S)):L=this.S),this.m!==null||this.O||(O.H=L,L=null),this.P)e:{for(var p=0,m=0;m<this.i.length;m++){t:{var S=this.i[m];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=m;break e}if(p===4096||m===this.i.length-1){p=m+1;break e}}p=1e3}else p=1e3;p=Jv(this,O,p),m=di(this.I),Me(m,"RID",c),Me(m,"CVER",22),this.D&&Me(m,"X-HTTP-Session-Id",this.D),Sa(this,m),L&&(this.O?p="headers="+encodeURIComponent(String(Wv(L)))+"&"+p:this.m&&Wf(m,this.m,L)),Bf(this.h,O),this.Ua&&Me(m,"TYPE","init"),this.P?(Me(m,"$req",p),Me(m,"SID","null"),O.T=!0,Ff(O,m,null)):Ff(O,m,p),this.G=2}}else this.G==3&&(c?Xv(this,c):this.i.length==0||Rv(this.h)||Xv(this))};function Xv(c,p){var m;p?m=p.l:m=c.U++;const S=di(c.I);Me(S,"SID",c.K),Me(S,"RID",m),Me(S,"AID",c.T),Sa(c,S),c.m&&c.o&&Wf(S,c.m,c.o),m=new Gi(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),p&&(c.i=p.D.concat(c.i)),p=Jv(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Bf(c.h,m),Ff(m,S,p)}function Sa(c,p){c.H&&N(c.H,function(m,S){Me(p,S,m)}),c.l&&Nv({},function(m,S){Me(p,S,m)})}function Jv(c,p,m){m=Math.min(c.i.length,m);var S=c.l?f(c.l.Na,c.l,c):null;e:{var O=c.i;let L=-1;for(;;){const W=["count="+m];L==-1?0<m?(L=O[0].g,W.push("ofs="+L)):L=0:W.push("ofs="+L);let Ce=!0;for(let mt=0;mt<m;mt++){let ye=O[mt].g;const It=O[mt].map;if(ye-=L,0>ye)L=Math.max(0,O[mt].g-100),Ce=!1;else try{wC(It,W,"req"+ye+"_")}catch{S&&S(It)}}if(Ce){S=W.join("&");break e}}}return c=c.i.splice(0,m),p.D=c,S}function Zv(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;we||Z(),B||(we(),B=!0),Q.add(p,c),c.v=0}}function $f(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=pa(f(c.Fa,c),n0(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,e0(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=pa(f(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ut(10),qu(this),e0(this))};function Yf(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function e0(c){c.g=new Gi(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=di(c.qa);Me(p,"RID","rpc"),Me(p,"SID",c.K),Me(p,"AID",c.T),Me(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Me(p,"TO",c.ja),Me(p,"TYPE","xmlhttp"),Sa(c,p),c.m&&c.o&&Wf(p,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Wu(di(p)),m.m=null,m.P=!0,bv(m,c)}t.Za=function(){this.C!=null&&(this.C=null,qu(this),$f(this),Ut(19))};function Ku(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function t0(c,p){var m=null;if(c.g==p){Ku(c),Yf(c),c.g=null;var S=2}else if(zf(c.h,p))m=p.D,Mv(c.h,p),S=1;else return;if(c.G!=0){if(p.o)if(S==1){m=p.m?p.m.length:0,p=Date.now()-p.F;var O=c.B;S=Vu(),jt(S,new Sv(S,m)),Gu(c)}else Zv(c);else if(O=p.s,O==3||O==0&&0<p.X||!(S==1&&xC(c,p)||S==2&&$f(c)))switch(m&&0<m.length&&(p=c.h,p.i=p.i.concat(m)),O){case 1:es(c,5);break;case 4:es(c,10);break;case 3:es(c,6);break;default:es(c,2)}}}function n0(c,p){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*p}function es(c,p){if(c.j.info("Error code "+p),p==2){var m=f(c.fb,c),S=c.Xa;const O=!S;S=new Zr(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||zu(S,"https"),Wu(S),O?yC(S.toString(),m):_C(S.toString(),m)}else Ut(2);c.G=0,c.l&&c.l.sa(p),i0(c),Qv(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Ut(2)):(this.j.info("Failed to ping google.com"),Ut(1))};function i0(c){if(c.G=0,c.ka=[],c.l){const p=Ov(c.h);(p.length!=0||c.i.length!=0)&&(T(c.ka,p),T(c.ka,c.i),c.h.i.length=0,w(c.i),c.i.length=0),c.l.ra()}}function r0(c,p,m){var S=m instanceof Zr?di(m):new Zr(m);if(S.g!="")p&&(S.g=p+"."+S.g),Bu(S,S.s);else{var O=a.location;S=O.protocol,p=p?p+"."+O.hostname:O.hostname,O=+O.port;var L=new Zr(null);S&&zu(L,S),p&&(L.g=p),O&&Bu(L,O),m&&(L.l=m),S=L}return m=c.D,p=c.ya,m&&p&&Me(S,m,p),Me(S,"VER",c.la),Sa(c,S),S}function s0(c,p,m){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Ge(new Hu({eb:m})):new Ge(c.pa),p.Ha(c.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function o0(){}t=o0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Qu(){}Qu.prototype.g=function(c,p){return new sn(c,p)};function sn(c,p){xt.call(this),this.g=new Kv(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!v(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!v(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new zs(this)}y(sn,xt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Hf(this.g)},sn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Df(c),c=m);p.i.push(new aC(p.Ya++,c)),p.G==3&&Gu(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,Hf(this.g),delete this.g,sn.aa.N.call(this)};function a0(c){Of.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const m in p){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}y(a0,Of);function l0(){Nf.call(this),this.status=1}y(l0,Nf);function zs(c){this.g=c}y(zs,o0),zs.prototype.ua=function(){jt(this.g,"a")},zs.prototype.ta=function(c){jt(this.g,new a0(c))},zs.prototype.sa=function(c){jt(this.g,new l0)},zs.prototype.ra=function(){jt(this.g,"b")},Qu.prototype.createWebChannel=Qu.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,rI=function(){return new Qu},iI=function(){return Vu()},nI=Xr,Kg={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Fu.NO_ERROR=0,Fu.TIMEOUT=8,Fu.HTTP_ERROR=6,Kc=Fu,xv.COMPLETE="complete",tI=xv,vv.EventType=da,da.OPEN="a",da.CLOSE="b",da.ERROR="c",da.MESSAGE="d",xt.prototype.listen=xt.prototype.K,$a=vv,Ge.prototype.listenOnce=Ge.prototype.L,Ge.prototype.getLastError=Ge.prototype.Ka,Ge.prototype.getLastErrorCode=Ge.prototype.Ba,Ge.prototype.getStatus=Ge.prototype.Z,Ge.prototype.getResponseJson=Ge.prototype.Oa,Ge.prototype.getResponseText=Ge.prototype.oa,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Ha,eI=Ge}).apply(typeof mc<"u"?mc:typeof self<"u"?self:typeof window<"u"?window:{});const Vw="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Rt.UNAUTHENTICATED=new Rt(null),Rt.GOOGLE_CREDENTIALS=new Rt("google-credentials-uid"),Rt.FIRST_PARTY=new Rt("first-party-uid"),Rt.MOCK_USER=new Rt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jo="11.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new Ay("@firebase/firestore");function qs(){return Ps.logLevel}function $(t,...e){if(Ps.logLevel<=le.DEBUG){const n=e.map(My);Ps.debug(`Firestore (${Jo}): ${t}`,...n)}}function Ui(t,...e){if(Ps.logLevel<=le.ERROR){const n=e.map(My);Ps.error(`Firestore (${Jo}): ${t}`,...n)}}function Lo(t,...e){if(Ps.logLevel<=le.WARN){const n=e.map(My);Ps.warn(`Firestore (${Jo}): ${t}`,...n)}}function My(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function te(t="Unexpected state"){const e=`FIRESTORE (${Jo}) INTERNAL ASSERTION FAILED: `+t;throw Ui(e),new Error(e)}function Te(t,e){t||te()}function ie(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends $i{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Di{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FO{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Rt.UNAUTHENTICATED))}shutdown(){}}class jO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UO{constructor(e){this.t=e,this.currentUser=Rt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Te(this.o===void 0);let i=this.i;const r=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let s=new Di;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Di,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{$("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):($("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Di)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(i=>this.i!==e?($("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Te(typeof i.accessToken=="string"),new sI(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Te(e===null||typeof e=="string"),new Rt(e)}}class zO{constructor(e,n,i){this.l=e,this.h=n,this.P=i,this.type="FirstParty",this.user=Rt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BO{constructor(e,n,i){this.l=e,this.h=n,this.P=i}getToken(){return Promise.resolve(new zO(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Rt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class WO{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HO{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Te(this.o===void 0);const i=s=>{s.error!=null&&$("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,$("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>i(s))};const r=s=>{$("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>r(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?r(s):$("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Te(typeof n.token=="string"),this.R=n.token,new WO(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $O(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let i=0;i<t;i++)n[i]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let i="";for(;i.length<20;){const r=$O(40);for(let s=0;s<r.length;++s)i.length<20&&r[s]<n&&(i+=e.charAt(r[s]%e.length))}return i}}function fe(t,e){return t<e?-1:t>e?1:0}function Vo(t,e,n){return t.length===e.length&&t.every((i,r)=>n(i,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(j.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new K(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(j.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ut.fromMillis(Date.now())}static fromDate(e){return ut.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),i=Math.floor(1e6*(e-1e3*n));return new ut(n,i)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?fe(this.nanoseconds,e.nanoseconds):fe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ne(e)}static min(){return new ne(new ut(0,0))}static max(){return new ne(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n,i){n===void 0?n=0:n>e.length&&te(),i===void 0?i=e.length-n:i>e.length-n&&te(),this.segments=e,this.offset=n,this.len=i}get length(){return this.len}isEqual(e){return zl.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zl?e.forEach(i=>{n.push(i)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,i=this.limit();n<i;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const i=Math.min(e.length,n.length);for(let r=0;r<i;r++){const s=e.get(r),o=n.get(r);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ne extends zl{construct(e,n,i){return new Ne(e,n,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const i of e){if(i.indexOf("//")>=0)throw new K(j.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);n.push(...i.split("/").filter(r=>r.length>0))}return new Ne(n)}static emptyPath(){return new Ne([])}}const YO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vt extends zl{construct(e,n,i){return new vt(e,n,i)}static isValidIdentifier(e){return YO.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vt(["__name__"])}static fromServerFormat(e){const n=[];let i="",r=0;const s=()=>{if(i.length===0)throw new K(j.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(i),i=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new K(j.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(j.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(i+=a,r++):(s(),r++)}if(s(),o)throw new K(j.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vt(n)}static emptyPath(){return new vt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(Ne.fromString(e))}static fromName(e){return new J(Ne.fromString(e).popFirst(5))}static empty(){return new J(Ne.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ne.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ne.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new Ne(e.slice()))}}function qO(t,e){const n=t.toTimestamp().seconds,i=t.toTimestamp().nanoseconds+1,r=ne.fromTimestamp(i===1e9?new ut(n+1,0):new ut(n,i));return new Lr(r,J.empty(),e)}function GO(t){return new Lr(t.readTime,t.key,-1)}class Lr{constructor(e,n,i){this.readTime=e,this.documentKey=n,this.largestBatchId=i}static min(){return new Lr(ne.min(),J.empty(),-1)}static max(){return new Lr(ne.max(),J.empty(),-1)}}function KO(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:fe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QO="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class XO{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zo(t){if(t.code!==j.FAILED_PRECONDITION||t.message!==QO)throw t;$("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new F((i,r)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(i,r)},this.catchCallback=s=>{this.wrapFailure(n,s).next(i,r)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof F?n:F.resolve(n)}catch(n){return F.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):F.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):F.reject(n)}static resolve(e){return new F((n,i)=>{n(e)})}static reject(e){return new F((n,i)=>{i(e)})}static waitFor(e){return new F((n,i)=>{let r=0,s=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++s,o&&s===r&&n()},l=>i(l))}),o=!0,s===r&&n()})}static or(e){let n=F.resolve(!1);for(const i of e)n=n.next(r=>r?F.resolve(r):i());return n}static forEach(e,n){const i=[];return e.forEach((r,s)=>{i.push(n.call(this,r,s))}),this.waitFor(i)}static mapArray(e,n){return new F((i,r)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(h=>{o[u]=h,++a,a===s&&i(o)},h=>r(h))}})}static doWhile(e,n){return new F((i,r)=>{const s=()=>{e()===!0?n().next(()=>{s()},r):i()};s()})}}function JO(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ea(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=i=>this.ie(i),this.se=i=>n.writeSequenceNumber(i))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}zd.oe=-1;function Bd(t){return t==null}function Yh(t){return t===0&&1/t==-1/0}function ZO(t){return typeof t=="number"&&Number.isInteger(t)&&!Yh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eN(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Fw(e)),e=tN(t.get(n),e);return Fw(e)}function tN(t,e){let n=e;const i=t.length;for(let r=0;r<i;r++){const s=t.charAt(r);switch(s){case"\0":n+="";break;case"":n+="";break;default:n+=s}}return n}function Fw(t){return t+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function qr(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function aI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qe{constructor(e,n){this.comparator=e,this.root=n||_t.EMPTY}insert(e,n){return new qe(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_t.BLACK,null,null))}remove(e){return new qe(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return n.value;i<0?n=n.left:i>0&&(n=n.right)}return null}indexOf(e){let n=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(e,i.key);if(r===0)return n+i.left.size;r<0?i=i.left:(n+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,i)=>(e(n,i),!1))}toString(){const e=[];return this.inorderTraversal((n,i)=>(e.push(`${n}:${i}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new yc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new yc(this.root,e,this.comparator,!1)}getReverseIterator(){return new yc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new yc(this.root,e,this.comparator,!0)}}class yc{constructor(e,n,i,r){this.isReverse=r,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?i(e.key,n):1,n&&r&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class _t{constructor(e,n,i,r,s){this.key=e,this.value=n,this.color=i??_t.RED,this.left=r??_t.EMPTY,this.right=s??_t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,i,r,s){return new _t(e??this.key,n??this.value,i??this.color,r??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let r=this;const s=i(e,r.key);return r=s<0?r.copy(null,null,null,r.left.insert(e,n,i),null):s===0?r.copy(null,n,null,null,null):r.copy(null,null,null,null,r.right.insert(e,n,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return _t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let i,r=this;if(n(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),n(e,r.key)===0){if(r.right.isEmpty())return _t.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,_t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,_t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();const e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}}_t.EMPTY=null,_t.RED=!0,_t.BLACK=!1;_t.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,i,r,s){return this}insert(e,n,i){return new _t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ft{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,i)=>(e(n),!1))}forEachInRange(e,n){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,e[1])>=0)return;n(r.key)}}forEachWhile(e,n){let i;for(i=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Uw(this.data.getIterator())}getIteratorFrom(e){return new Uw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(i=>{n=n.add(i)}),n}isEqual(e){if(!(e instanceof ft)||this.size!==e.size)return!1;const n=this.data.getIterator(),i=e.data.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(this.comparator(r,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ft(this.comparator);return n.data=e,n}}class Uw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.fields=e,e.sort(vt.comparator)}static empty(){return new ln([])}unionWith(e){let n=new ft(vt.comparator);for(const i of this.fields)n=n.add(i);for(const i of e)n=n.add(i);return new ln(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Vo(this.fields,e.fields,(n,i)=>n.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new lI("Invalid base64 string: "+s):s}}(e);return new St(n)}static fromUint8Array(e){const n=function(r){let s="";for(let o=0;o<r.length;++o)s+=String.fromCharCode(r[o]);return s}(e);return new St(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const i=new Uint8Array(n.length);for(let r=0;r<n.length;r++)i[r]=n.charCodeAt(r);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}St.EMPTY_BYTE_STRING=new St("");const nN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Vr(t){if(Te(!!t),typeof t=="string"){let e=0;const n=nN.exec(t);if(Te(!!n),n[1]){let r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}const i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:Ze(t.seconds),nanos:Ze(t.nanos)}}function Ze(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Fr(t){return typeof t=="string"?St.fromBase64String(t):St.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oy(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Wd(t){const e=t.mapValue.fields.__previous_value__;return Oy(e)?Wd(e):e}function Bl(t){const e=Vr(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e,n,i,r,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=i,this.host=r,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Wl{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Wl("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _c={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function jr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Oy(t)?4:sN(t)?9007199254740991:rN(t)?10:11:te()}function oi(t,e){if(t===e)return!0;const n=jr(t);if(n!==jr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Bl(t).isEqual(Bl(e));case 3:return function(r,s){if(typeof r.timestampValue=="string"&&typeof s.timestampValue=="string"&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const o=Vr(r.timestampValue),a=Vr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(r,s){return Fr(r.bytesValue).isEqual(Fr(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(r,s){return Ze(r.geoPointValue.latitude)===Ze(s.geoPointValue.latitude)&&Ze(r.geoPointValue.longitude)===Ze(s.geoPointValue.longitude)}(t,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return Ze(r.integerValue)===Ze(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const o=Ze(r.doubleValue),a=Ze(s.doubleValue);return o===a?Yh(o)===Yh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Vo(t.arrayValue.values||[],e.arrayValue.values||[],oi);case 10:case 11:return function(r,s){const o=r.mapValue.fields||{},a=s.mapValue.fields||{};if(jw(o)!==jw(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!oi(o[l],a[l])))return!1;return!0}(t,e);default:return te()}}function Hl(t,e){return(t.values||[]).find(n=>oi(n,e))!==void 0}function Fo(t,e){if(t===e)return 0;const n=jr(t),i=jr(e);if(n!==i)return fe(n,i);switch(n){case 0:case 9007199254740991:return 0;case 1:return fe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Ze(s.integerValue||s.doubleValue),l=Ze(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return zw(t.timestampValue,e.timestampValue);case 4:return zw(Bl(t),Bl(e));case 5:return fe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=Fr(s),l=Fr(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const h=fe(a[u],l[u]);if(h!==0)return h}return fe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=fe(Ze(s.latitude),Ze(o.latitude));return a!==0?a:fe(Ze(s.longitude),Ze(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Bw(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,h;const d=s.fields||{},f=o.fields||{},g=(a=d.value)===null||a===void 0?void 0:a.arrayValue,y=(l=f.value)===null||l===void 0?void 0:l.arrayValue,w=fe(((u=g==null?void 0:g.values)===null||u===void 0?void 0:u.length)||0,((h=y==null?void 0:y.values)===null||h===void 0?void 0:h.length)||0);return w!==0?w:Bw(g,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===_c.mapValue&&o===_c.mapValue)return 0;if(s===_c.mapValue)return 1;if(o===_c.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},h=Object.keys(u);l.sort(),h.sort();for(let d=0;d<l.length&&d<h.length;++d){const f=fe(l[d],h[d]);if(f!==0)return f;const g=Fo(a[l[d]],u[h[d]]);if(g!==0)return g}return fe(l.length,h.length)}(t.mapValue,e.mapValue);default:throw te()}}function zw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return fe(t,e);const n=Vr(t),i=Vr(e),r=fe(n.seconds,i.seconds);return r!==0?r:fe(n.nanos,i.nanos)}function Bw(t,e){const n=t.values||[],i=e.values||[];for(let r=0;r<n.length&&r<i.length;++r){const s=Fo(n[r],i[r]);if(s)return s}return fe(n.length,i.length)}function jo(t){return Qg(t)}function Qg(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const i=Vr(n);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Fr(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let i="[",r=!0;for(const s of n.values||[])r?r=!1:i+=",",i+=Qg(s);return i+"]"}(t.arrayValue):"mapValue"in t?function(n){const i=Object.keys(n.fields||{}).sort();let r="{",s=!0;for(const o of i)s?s=!1:r+=",",r+=`${o}:${Qg(n.fields[o])}`;return r+"}"}(t.mapValue):te()}function Qc(t){switch(jr(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Wd(t);return e?16+Qc(e):16;case 5:return 2*t.stringValue.length;case 6:return Fr(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((r,s)=>r+Qc(s),0)}(t.arrayValue);case 10:case 11:return function(i){let r=0;return qr(i.fields,(s,o)=>{r+=s.length+Qc(o)}),r}(t.mapValue);default:throw te()}}function Ww(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xg(t){return!!t&&"integerValue"in t}function Ny(t){return!!t&&"arrayValue"in t}function Hw(t){return!!t&&"nullValue"in t}function $w(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Xc(t){return!!t&&"mapValue"in t}function rN(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function hl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return qr(t.mapValue.fields,(n,i)=>e.mapValue.fields[n]=hl(i)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=hl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sN(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.value=e}static empty(){return new Qt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let i=0;i<e.length-1;++i)if(n=(n.mapValue.fields||{})[e.get(i)],!Xc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=hl(n)}setAll(e){let n=vt.emptyPath(),i={},r=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,i,r),i={},r=[],n=a.popLast()}o?i[a.lastSegment()]=hl(o):r.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,i,r)}delete(e){const n=this.field(e.popLast());Xc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return oi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let i=0;i<e.length;++i){let r=n.mapValue.fields[e.get(i)];Xc(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},n.mapValue.fields[e.get(i)]=r),n=r}return n.mapValue.fields}applyChanges(e,n,i){qr(n,(r,s)=>e[r]=s);for(const r of i)delete e[r]}clone(){return new Qt(hl(this.value))}}function uI(t){const e=[];return qr(t.fields,(n,i)=>{const r=new vt([n]);if(Xc(i)){const s=uI(i.mapValue).fields;if(s.length===0)e.push(r);else for(const o of s)e.push(r.child(o))}else e.push(r)}),new ln(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e,n,i,r,s,o,a){this.key=e,this.documentType=n,this.version=i,this.readTime=r,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Mt(e,0,ne.min(),ne.min(),ne.min(),Qt.empty(),0)}static newFoundDocument(e,n,i,r){return new Mt(e,1,n,ne.min(),i,r,0)}static newNoDocument(e,n){return new Mt(e,2,n,ne.min(),ne.min(),Qt.empty(),0)}static newUnknownDocument(e,n){return new Mt(e,3,n,ne.min(),ne.min(),Qt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ne.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Qt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Qt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ne.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Mt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Mt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n){this.position=e,this.inclusive=n}}function Yw(t,e,n){let i=0;for(let r=0;r<t.position.length;r++){const s=e[r],o=t.position[r];if(s.field.isKeyField()?i=J.comparator(J.fromName(o.referenceValue),n.key):i=Fo(o,n.data.field(s.field)),s.dir==="desc"&&(i*=-1),i!==0)break}return i}function qw(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!oi(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(e,n="asc"){this.field=e,this.dir=n}}function oN(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{}class rt extends cI{constructor(e,n,i){super(),this.field=e,this.op=n,this.value=i}static create(e,n,i){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,i):new lN(e,n,i):n==="array-contains"?new hN(e,i):n==="in"?new dN(e,i):n==="not-in"?new fN(e,i):n==="array-contains-any"?new pN(e,i):new rt(e,n,i)}static createKeyFieldInFilter(e,n,i){return n==="in"?new uN(e,i):new cN(e,i)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Fo(n,this.value)):n!==null&&jr(this.value)===jr(n)&&this.matchesComparison(Fo(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ln extends cI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Ln(e,n)}matches(e){return hI(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function hI(t){return t.op==="and"}function dI(t){return aN(t)&&hI(t)}function aN(t){for(const e of t.filters)if(e instanceof Ln)return!1;return!0}function Jg(t){if(t instanceof rt)return t.field.canonicalString()+t.op.toString()+jo(t.value);if(dI(t))return t.filters.map(e=>Jg(e)).join(",");{const e=t.filters.map(n=>Jg(n)).join(",");return`${t.op}(${e})`}}function fI(t,e){return t instanceof rt?function(i,r){return r instanceof rt&&i.op===r.op&&i.field.isEqual(r.field)&&oi(i.value,r.value)}(t,e):t instanceof Ln?function(i,r){return r instanceof Ln&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce((s,o,a)=>s&&fI(o,r.filters[a]),!0):!1}(t,e):void te()}function pI(t){return t instanceof rt?function(n){return`${n.field.canonicalString()} ${n.op} ${jo(n.value)}`}(t):t instanceof Ln?function(n){return n.op.toString()+" {"+n.getFilters().map(pI).join(" ,")+"}"}(t):"Filter"}class lN extends rt{constructor(e,n,i){super(e,n,i),this.key=J.fromName(i.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class uN extends rt{constructor(e,n){super(e,"in",n),this.keys=gI("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class cN extends rt{constructor(e,n){super(e,"not-in",n),this.keys=gI("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function gI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(i=>J.fromName(i.referenceValue))}class hN extends rt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ny(n)&&Hl(n.arrayValue,this.value)}}class dN extends rt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Hl(this.value.arrayValue,n)}}class fN extends rt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Hl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Hl(this.value.arrayValue,n)}}class pN extends rt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ny(n)||!n.arrayValue.values)&&n.arrayValue.values.some(i=>Hl(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,n=null,i=[],r=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=i,this.filters=r,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function Gw(t,e=null,n=[],i=[],r=null,s=null,o=null){return new gN(t,e,n,i,r,s,o)}function Ly(t){const e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(i=>Jg(i)).join(","),n+="|ob:",n+=e.orderBy.map(i=>function(s){return s.field.canonicalString()+s.dir}(i)).join(","),Bd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(i=>jo(i)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(i=>jo(i)).join(",")),e.ue=n}return e.ue}function Vy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!oN(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!fI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!qw(t.startAt,e.startAt)&&qw(t.endAt,e.endAt)}function Zg(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,i=[],r=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=i,this.filters=r,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function mN(t,e,n,i,r,s,o,a){return new yu(t,e,n,i,r,s,o,a)}function Fy(t){return new yu(t)}function Kw(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function mI(t){return t.collectionGroup!==null}function dl(t){const e=ie(t);if(e.ce===null){e.ce=[];const n=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new ft(vt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Gh(s,i))}),n.has(vt.keyField().canonicalString())||e.ce.push(new Gh(vt.keyField(),i))}return e.ce}function ti(t){const e=ie(t);return e.le||(e.le=yN(e,dl(t))),e.le}function yN(t,e){if(t.limitType==="F")return Gw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(r=>{const s=r.dir==="desc"?"asc":"desc";return new Gh(r.field,s)});const n=t.endAt?new qh(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new qh(t.startAt.position,t.startAt.inclusive):null;return Gw(t.path,t.collectionGroup,e,t.filters,t.limit,n,i)}}function em(t,e){const n=t.filters.concat([e]);return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function tm(t,e,n){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Hd(t,e){return Vy(ti(t),ti(e))&&t.limitType===e.limitType}function yI(t){return`${Ly(ti(t))}|lt:${t.limitType}`}function Gs(t){return`Query(target=${function(n){let i=n.path.canonicalString();return n.collectionGroup!==null&&(i+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(i+=`, filters: [${n.filters.map(r=>pI(r)).join(", ")}]`),Bd(n.limit)||(i+=", limit: "+n.limit),n.orderBy.length>0&&(i+=`, orderBy: [${n.orderBy.map(r=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(r)).join(", ")}]`),n.startAt&&(i+=", startAt: ",i+=n.startAt.inclusive?"b:":"a:",i+=n.startAt.position.map(r=>jo(r)).join(",")),n.endAt&&(i+=", endAt: ",i+=n.endAt.inclusive?"a:":"b:",i+=n.endAt.position.map(r=>jo(r)).join(",")),`Target(${i})`}(ti(t))}; limitType=${t.limitType})`}function $d(t,e){return e.isFoundDocument()&&function(i,r){const s=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(s):J.isDocumentKey(i.path)?i.path.isEqual(s):i.path.isImmediateParentOf(s)}(t,e)&&function(i,r){for(const s of dl(i))if(!s.field.isKeyField()&&r.data.field(s.field)===null)return!1;return!0}(t,e)&&function(i,r){for(const s of i.filters)if(!s.matches(r))return!1;return!0}(t,e)&&function(i,r){return!(i.startAt&&!function(o,a,l){const u=Yw(o,a,l);return o.inclusive?u<=0:u<0}(i.startAt,dl(i),r)||i.endAt&&!function(o,a,l){const u=Yw(o,a,l);return o.inclusive?u>=0:u>0}(i.endAt,dl(i),r))}(t,e)}function _N(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function _I(t){return(e,n)=>{let i=!1;for(const r of dl(t)){const s=vN(r,e,n);if(s!==0)return s;i=i||r.field.isKeyField()}return 0}}function vN(t,e,n){const i=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Fo(l,u):te()}(t.field,e,n);switch(t.dir){case"asc":return i;case"desc":return-1*i;default:return te()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ns{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i!==void 0){for(const[r,s]of i)if(this.equalsFn(r,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const i=this.mapKeyFn(e),r=this.inner[i];if(r===void 0)return this.inner[i]=[[e,n]],void this.innerSize++;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return void(r[s]=[e,n]);r.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return i.length===1?delete this.inner[n]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(e){qr(this.inner,(n,i)=>{for(const[r,s]of i)e(r,s)})}isEmpty(){return aI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=new qe(J.comparator);function zi(){return wN}const vI=new qe(J.comparator);function Ya(...t){let e=vI;for(const n of t)e=e.insert(n.key,n);return e}function wI(t){let e=vI;return t.forEach((n,i)=>e=e.insert(n,i.overlayedDocument)),e}function fs(){return fl()}function EI(){return fl()}function fl(){return new Ns(t=>t.toString(),(t,e)=>t.isEqual(e))}const EN=new qe(J.comparator),TN=new ft(J.comparator);function ue(...t){let e=TN;for(const n of t)e=e.add(n);return e}const SN=new ft(fe);function xN(){return SN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jy(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yh(e)?"-0":e}}function TI(t){return{integerValue:""+t}}function SI(t,e){return ZO(e)?TI(e):jy(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(){this._=void 0}}function IN(t,e,n){return t instanceof $l?function(r,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&Oy(s)&&(s=Wd(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof Yl?II(t,e):t instanceof ql?kI(t,e):function(r,s){const o=xI(r,s),a=Qw(o)+Qw(r.Pe);return Xg(o)&&Xg(r.Pe)?TI(a):jy(r.serializer,a)}(t,e)}function kN(t,e,n){return t instanceof Yl?II(t,e):t instanceof ql?kI(t,e):n}function xI(t,e){return t instanceof Gl?function(i){return Xg(i)||function(s){return!!s&&"doubleValue"in s}(i)}(e)?e:{integerValue:0}:null}class $l extends Yd{}class Yl extends Yd{constructor(e){super(),this.elements=e}}function II(t,e){const n=bI(e);for(const i of t.elements)n.some(r=>oi(r,i))||n.push(i);return{arrayValue:{values:n}}}class ql extends Yd{constructor(e){super(),this.elements=e}}function kI(t,e){let n=bI(e);for(const i of t.elements)n=n.filter(r=>!oi(r,i));return{arrayValue:{values:n}}}class Gl extends Yd{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Qw(t){return Ze(t.integerValue||t.doubleValue)}function bI(t){return Ny(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PI{constructor(e,n){this.field=e,this.transform=n}}function bN(t,e){return t.field.isEqual(e.field)&&function(i,r){return i instanceof Yl&&r instanceof Yl||i instanceof ql&&r instanceof ql?Vo(i.elements,r.elements,oi):i instanceof Gl&&r instanceof Gl?oi(i.Pe,r.Pe):i instanceof $l&&r instanceof $l}(t.transform,e.transform)}class PN{constructor(e,n){this.version=e,this.transformResults=n}}class On{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new On}static exists(e){return new On(void 0,e)}static updateTime(e){return new On(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jc(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class qd{}function CI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new RI(t.key,On.none()):new _u(t.key,t.data,On.none());{const n=t.data,i=Qt.empty();let r=new ft(vt.comparator);for(let s of e.fields)if(!r.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?i.delete(s):i.set(s,o),r=r.add(s)}return new Gr(t.key,i,new ln(r.toArray()),On.none())}}function CN(t,e,n){t instanceof _u?function(r,s,o){const a=r.value.clone(),l=Jw(r.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Gr?function(r,s,o){if(!Jc(r.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Jw(r.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(AI(r)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(r,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function pl(t,e,n,i){return t instanceof _u?function(s,o,a,l){if(!Jc(s.precondition,o))return a;const u=s.value.clone(),h=Zw(s.fieldTransforms,l,o);return u.setAll(h),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,i):t instanceof Gr?function(s,o,a,l){if(!Jc(s.precondition,o))return a;const u=Zw(s.fieldTransforms,l,o),h=o.data;return h.setAll(AI(s)),h.setAll(u),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,i):function(s,o,a){return Jc(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function AN(t,e){let n=null;for(const i of t.fieldTransforms){const r=e.data.field(i.field),s=xI(i.transform,r||null);s!=null&&(n===null&&(n=Qt.empty()),n.set(i.field,s))}return n||null}function Xw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Vo(i,r,(s,o)=>bN(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class _u extends qd{constructor(e,n,i,r=[]){super(),this.key=e,this.value=n,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Gr extends qd{constructor(e,n,i,r,s=[]){super(),this.key=e,this.data=n,this.fieldMask=i,this.precondition=r,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AI(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const i=t.data.field(n);e.set(n,i)}}),e}function Jw(t,e,n){const i=new Map;Te(t.length===n.length);for(let r=0;r<n.length;r++){const s=t[r],o=s.transform,a=e.data.field(s.field);i.set(s.field,kN(o,a,n[r]))}return i}function Zw(t,e,n){const i=new Map;for(const r of t){const s=r.transform,o=n.data.field(r.field);i.set(r.field,IN(s,o,e))}return i}class RI extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RN extends qd{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,i,r){this.batchId=e,this.localWriteTime=n,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(e,n){const i=n.mutationResults;for(let r=0;r<this.mutations.length;r++){const s=this.mutations[r];s.key.isEqual(e.key)&&CN(s,e,i[r])}}applyToLocalView(e,n){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(n=pl(i,e,n,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(n=pl(i,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const i=EI();return this.mutations.forEach(r=>{const s=e.get(r.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(r.key)?null:a;const l=CI(o,a);l!==null&&i.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(ne.min())}),i}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ue())}isEqual(e){return this.batchId===e.batchId&&Vo(this.mutations,e.mutations,(n,i)=>Xw(n,i))&&Vo(this.baseMutations,e.baseMutations,(n,i)=>Xw(n,i))}}class Uy{constructor(e,n,i,r){this.batch=e,this.commitVersion=n,this.mutationResults=i,this.docVersions=r}static from(e,n,i){Te(e.mutations.length===i.length);let r=function(){return EN}();const s=e.mutations;for(let o=0;o<s.length;o++)r=r.insert(s[o].key,i[o].version);return new Uy(e,n,i,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MN{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nt,de;function NN(t){switch(t){default:return te();case j.CANCELLED:case j.UNKNOWN:case j.DEADLINE_EXCEEDED:case j.RESOURCE_EXHAUSTED:case j.INTERNAL:case j.UNAVAILABLE:case j.UNAUTHENTICATED:return!1;case j.INVALID_ARGUMENT:case j.NOT_FOUND:case j.ALREADY_EXISTS:case j.PERMISSION_DENIED:case j.FAILED_PRECONDITION:case j.ABORTED:case j.OUT_OF_RANGE:case j.UNIMPLEMENTED:case j.DATA_LOSS:return!0}}function DI(t){if(t===void 0)return Ui("GRPC error has no .code"),j.UNKNOWN;switch(t){case nt.OK:return j.OK;case nt.CANCELLED:return j.CANCELLED;case nt.UNKNOWN:return j.UNKNOWN;case nt.DEADLINE_EXCEEDED:return j.DEADLINE_EXCEEDED;case nt.RESOURCE_EXHAUSTED:return j.RESOURCE_EXHAUSTED;case nt.INTERNAL:return j.INTERNAL;case nt.UNAVAILABLE:return j.UNAVAILABLE;case nt.UNAUTHENTICATED:return j.UNAUTHENTICATED;case nt.INVALID_ARGUMENT:return j.INVALID_ARGUMENT;case nt.NOT_FOUND:return j.NOT_FOUND;case nt.ALREADY_EXISTS:return j.ALREADY_EXISTS;case nt.PERMISSION_DENIED:return j.PERMISSION_DENIED;case nt.FAILED_PRECONDITION:return j.FAILED_PRECONDITION;case nt.ABORTED:return j.ABORTED;case nt.OUT_OF_RANGE:return j.OUT_OF_RANGE;case nt.UNIMPLEMENTED:return j.UNIMPLEMENTED;case nt.DATA_LOSS:return j.DATA_LOSS;default:return te()}}(de=nt||(nt={}))[de.OK=0]="OK",de[de.CANCELLED=1]="CANCELLED",de[de.UNKNOWN=2]="UNKNOWN",de[de.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",de[de.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",de[de.NOT_FOUND=5]="NOT_FOUND",de[de.ALREADY_EXISTS=6]="ALREADY_EXISTS",de[de.PERMISSION_DENIED=7]="PERMISSION_DENIED",de[de.UNAUTHENTICATED=16]="UNAUTHENTICATED",de[de.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",de[de.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",de[de.ABORTED=10]="ABORTED",de[de.OUT_OF_RANGE=11]="OUT_OF_RANGE",de[de.UNIMPLEMENTED=12]="UNIMPLEMENTED",de[de.INTERNAL=13]="INTERNAL",de[de.UNAVAILABLE=14]="UNAVAILABLE",de[de.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LN(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VN=new ys([4294967295,4294967295],0);function eE(t){const e=LN().encode(t),n=new Zx;return n.update(e),new Uint8Array(n.digest())}function tE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),i=e.getUint32(4,!0),r=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ys([n,i],0),new ys([r,s],0)]}class zy{constructor(e,n,i){if(this.bitmap=e,this.padding=n,this.hashCount=i,n<0||n>=8)throw new qa(`Invalid padding: ${n}`);if(i<0)throw new qa(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new qa(`Invalid hash count: ${i}`);if(e.length===0&&n!==0)throw new qa(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ys.fromNumber(this.Ie)}Ee(e,n,i){let r=e.add(n.multiply(ys.fromNumber(i)));return r.compare(VN)===1&&(r=new ys([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=eE(e),[i,r]=tE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);if(!this.de(o))return!1}return!0}static create(e,n,i){const r=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new zy(s,r,n);return i.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;const n=eE(e),[i,r]=tE(n);for(let s=0;s<this.hashCount;s++){const o=this.Ee(i,r,s);this.Ae(o)}}Ae(e){const n=Math.floor(e/8),i=e%8;this.bitmap[n]|=1<<i}}class qa extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,n,i,r,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,i){const r=new Map;return r.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,n,i)),new Gd(ne.min(),r,new qe(fe),zi(),ue())}}class vu{constructor(e,n,i,r,s){this.resumeToken=e,this.current=n,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,i){return new vu(i,n,ue(),ue(),ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zc{constructor(e,n,i,r){this.Re=e,this.removedTargetIds=n,this.key=i,this.Ve=r}}class MI{constructor(e,n){this.targetId=e,this.me=n}}class OI{constructor(e,n,i=St.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=n,this.resumeToken=i,this.cause=r}}class nE{constructor(){this.fe=0,this.ge=rE(),this.pe=St.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=ue(),n=ue(),i=ue();return this.ge.forEach((r,s)=>{switch(s){case 0:e=e.add(r);break;case 2:n=n.add(r);break;case 1:i=i.add(r);break;default:te()}}),new vu(this.pe,this.ye,e,n,i)}Ce(){this.we=!1,this.ge=rE()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Te(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class FN{constructor(e){this.Le=e,this.Be=new Map,this.ke=zi(),this.qe=iE(),this.Qe=new qe(fe)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const i=this.Ge(n);switch(e.state){case 0:this.ze(n)&&i.De(e.resumeToken);break;case 1:i.Oe(),i.Se||i.Ce(),i.De(e.resumeToken);break;case 2:i.Oe(),i.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(i.Ne(),i.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),i.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((i,r)=>{this.ze(r)&&n(r)})}He(e){const n=e.targetId,i=e.me.count,r=this.Je(n);if(r){const s=r.target;if(Zg(s))if(i===0){const o=new J(s.path);this.Ue(n,o,Mt.newNoDocument(o,ne.min()))}else Te(i===1);else{const o=this.Ye(n);if(o!==i){const a=this.Ze(e),l=a?this.Xe(a,e,o):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:s=0}=n;let o,a;try{o=Fr(i).toUint8Array()}catch(l){if(l instanceof lI)return Lo("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new zy(o,r,s)}catch(l){return Lo(l instanceof qa?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,i){return n.me.count===i-this.nt(e,n.targetId)?0:2}nt(e,n){const i=this.Le.getRemoteKeysForTarget(n);let r=0;return i.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),r++)}),r}rt(e){const n=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&Zg(a.target)){const l=new J(a.target.path);this.ke.get(l)!==null||this.it(o,l)||this.Ue(o,l,Mt.newNoDocument(l,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let i=ue();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(i=i.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const r=new Gd(e,n,this.Qe,this.ke,i);return this.ke=zi(),this.qe=iE(),this.Qe=new qe(fe),r}$e(e,n){if(!this.ze(e))return;const i=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,i),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,i){if(!this.ze(e))return;const r=this.Ge(e);this.it(e,n)?r.Fe(n,1):r.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),i&&(this.ke=this.ke.insert(n,i))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new nE,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new ft(fe),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||$("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new nE),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function iE(){return new qe(J.comparator)}function rE(){return new qe(J.comparator)}const jN={asc:"ASCENDING",desc:"DESCENDING"},UN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zN={and:"AND",or:"OR"};class BN{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function nm(t,e){return t.useProto3Json||Bd(e)?e:{value:e}}function Kh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function NI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function WN(t,e){return Kh(t,e.toTimestamp())}function ni(t){return Te(!!t),ne.fromTimestamp(function(n){const i=Vr(n);return new ut(i.seconds,i.nanos)}(t))}function By(t,e){return im(t,e).canonicalString()}function im(t,e){const n=function(r){return new Ne(["projects",r.projectId,"databases",r.database])}(t).child("documents");return e===void 0?n:n.child(e)}function LI(t){const e=Ne.fromString(t);return Te(zI(e)),e}function rm(t,e){return By(t.databaseId,e.path)}function kp(t,e){const n=LI(e);if(n.get(1)!==t.databaseId.projectId)throw new K(j.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(j.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(FI(n))}function VI(t,e){return By(t.databaseId,e)}function HN(t){const e=LI(t);return e.length===4?Ne.emptyPath():FI(e)}function sm(t){return new Ne(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function FI(t){return Te(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function sE(t,e,n){return{name:rm(t,e),fields:n.value.mapValue.fields}}function $N(t,e){let n;if("targetChange"in e){e.targetChange;const i=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],s=function(u,h){return u.useProto3Json?(Te(h===void 0||typeof h=="string"),St.fromBase64String(h||"")):(Te(h===void 0||h instanceof Buffer||h instanceof Uint8Array),St.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const h=u.code===void 0?j.UNKNOWN:DI(u.code);return new K(h,u.message||"")}(o);n=new OI(i,r,s,a||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const r=kp(t,i.document.name),s=ni(i.document.updateTime),o=i.document.createTime?ni(i.document.createTime):ne.min(),a=new Qt({mapValue:{fields:i.document.fields}}),l=Mt.newFoundDocument(r,s,o,a),u=i.targetIds||[],h=i.removedTargetIds||[];n=new Zc(u,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const r=kp(t,i.document),s=i.readTime?ni(i.readTime):ne.min(),o=Mt.newNoDocument(r,s),a=i.removedTargetIds||[];n=new Zc([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const r=kp(t,i.document),s=i.removedTargetIds||[];n=new Zc([],s,r,null)}else{if(!("filter"in e))return te();{e.filter;const i=e.filter;i.targetId;const{count:r=0,unchangedNames:s}=i,o=new ON(r,s),a=i.targetId;n=new MI(a,o)}}return n}function YN(t,e){let n;if(e instanceof _u)n={update:sE(t,e.key,e.value)};else if(e instanceof RI)n={delete:rm(t,e.key)};else if(e instanceof Gr)n={update:sE(t,e.key,e.data),updateMask:t2(e.fieldMask)};else{if(!(e instanceof RN))return te();n={verify:rm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(i=>function(s,o){const a=o.transform;if(a instanceof $l)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Yl)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ql)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Gl)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw te()}(0,i))),e.precondition.isNone||(n.currentDocument=function(r,s){return s.updateTime!==void 0?{updateTime:WN(r,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function qN(t,e){return t&&t.length>0?(Te(e!==void 0),t.map(n=>function(r,s){let o=r.updateTime?ni(r.updateTime):ni(s);return o.isEqual(ne.min())&&(o=ni(s)),new PN(o,r.transformResults||[])}(n,e))):[]}function GN(t,e){return{documents:[VI(t,e.path)]}}function KN(t,e){const n={structuredQuery:{}},i=e.path;let r;e.collectionGroup!==null?(r=i,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(r=i.popLast(),n.structuredQuery.from=[{collectionId:i.lastSegment()}]),n.parent=VI(t,r);const s=function(u){if(u.length!==0)return UI(Ln.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(h=>function(f){return{field:Ks(f.field),direction:JN(f.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=nm(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:r}}function QN(t){let e=HN(t.parent);const n=t.structuredQuery,i=n.from?n.from.length:0;let r=null;if(i>0){Te(i===1);const h=n.from[0];h.allDescendants?r=h.collectionId:e=e.child(h.collectionId)}let s=[];n.where&&(s=function(d){const f=jI(d);return f instanceof Ln&&dI(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(f=>function(y){return new Gh(Qs(y.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(d){let f;return f=typeof d=="object"?d.value:d,Bd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(d){const f=!!d.before,g=d.values||[];return new qh(g,f)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const f=!d.before,g=d.values||[];return new qh(g,f)}(n.endAt)),mN(e,r,o,s,a,"F",l,u)}function XN(t,e){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function jI(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const i=Qs(n.unaryFilter.field);return rt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=Qs(n.unaryFilter.field);return rt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Qs(n.unaryFilter.field);return rt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Qs(n.unaryFilter.field);return rt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return rt.create(Qs(n.fieldFilter.field),function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ln.create(n.compositeFilter.filters.map(i=>jI(i)),function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function JN(t){return jN[t]}function ZN(t){return UN[t]}function e2(t){return zN[t]}function Ks(t){return{fieldPath:t.canonicalString()}}function Qs(t){return vt.fromServerFormat(t.fieldPath)}function UI(t){return t instanceof rt?function(n){if(n.op==="=="){if($w(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NAN"}};if(Hw(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if($w(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NAN"}};if(Hw(n.value))return{unaryFilter:{field:Ks(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ks(n.field),op:ZN(n.op),value:n.value}}}(t):t instanceof Ln?function(n){const i=n.getFilters().map(r=>UI(r));return i.length===1?i[0]:{compositeFilter:{op:e2(n.op),filters:i}}}(t):te()}function t2(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function zI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,n,i,r,s=ne.min(),o=ne.min(),a=St.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new dr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new dr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n2{constructor(e){this.ct=e}}function i2(t){const e=QN({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?tm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{constructor(){this.un=new s2}addToCollectionParentIndex(e,n){return this.un.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(Lr.min())}updateCollectionGroup(e,n,i){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}}class s2{constructor(){this.index={}}add(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n]||new ft(Ne.comparator),s=!r.has(i);return this.index[n]=r.add(i),s}has(e){const n=e.lastSegment(),i=e.popLast(),r=this.index[n];return r&&r.has(i)}getEntries(e){return(this.index[e]||new ft(Ne.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Gt{constructor(e,n,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=i}static withCacheSize(e){return new Gt(e,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Gt.DEFAULT_COLLECTION_PERCENTILE=10,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Gt.DEFAULT=new Gt(41943040,Gt.DEFAULT_COLLECTION_PERCENTILE,Gt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Gt.DISABLED=new Gt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new Uo(0)}static kn(){return new Uo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aE([t,e],[n,i]){const r=fe(t,n);return r===0?fe(e,i):r}class o2{constructor(e){this.Un=e,this.buffer=new ft(aE),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const i=this.buffer.last();aE(n,i)<0&&(this.buffer=this.buffer.delete(i).add(n))}}get maxValue(){return this.buffer.last()[0]}}class a2{constructor(e,n,i){this.garbageCollector=e,this.asyncQueue=n,this.localStore=i,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){$("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){ea(n)?$("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Zo(n)}await this.Hn(3e5)})}}class l2{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(i=>Math.floor(n/100*i))}nthSequenceNumber(e,n){if(n===0)return F.resolve(zd.oe);const i=new o2(n);return this.Jn.forEachTarget(e,r=>i.zn(r.sequenceNumber)).next(()=>this.Jn.Zn(e,r=>i.zn(r))).next(()=>i.maxValue)}removeTargets(e,n,i){return this.Jn.removeTargets(e,n,i)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?($("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(oE)):this.getCacheSize(e).next(i=>i<this.params.cacheSizeCollectionThreshold?($("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),oE):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let i,r,s,o,a,l,u;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(d=>(d>this.params.maximumSequenceNumbersToCollect?($("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${d}`),r=this.params.maximumSequenceNumbersToCollect):r=d,o=Date.now(),this.nthSequenceNumber(e,r))).next(d=>(i=d,a=Date.now(),this.removeTargets(e,i,n))).next(d=>(s=d,l=Date.now(),this.removeOrphanedDocuments(e,i))).next(d=>(u=Date.now(),qs()<=le.DEBUG&&$("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${r} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${d} documents in `+(u-l)+`ms
Total Duration: ${u-h}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:s,documentsRemoved:d})))}}function u2(t,e){return new l2(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c2{constructor(){this.changes=new Ns(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const i=this.changes.get(n);return i!==void 0?F.resolve(i):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d2{constructor(e,n,i,r){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=i,this.indexManager=r}getDocument(e,n){let i=null;return this.documentOverlayCache.getOverlay(e,n).next(r=>(i=r,this.remoteDocumentCache.getEntry(e,n))).next(r=>(i!==null&&pl(i.mutation,r,ln.empty(),ut.now()),r))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.getLocalViewOfDocuments(e,i,ue()).next(()=>i))}getLocalViewOfDocuments(e,n,i=ue()){const r=fs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,i).next(s=>{let o=Ya();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const i=fs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,ue()))}populateOverlays(e,n,i){const r=[];return i.forEach(s=>{n.has(s)||r.push(s)}),this.documentOverlayCache.getOverlays(e,r).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,i,r){let s=zi();const o=fl(),a=function(){return fl()}();return n.forEach((l,u)=>{const h=i.get(u.key);r.has(u.key)&&(h===void 0||h.mutation instanceof Gr)?s=s.insert(u.key,u):h!==void 0?(o.set(u.key,h.mutation.getFieldMask()),pl(h.mutation,u,h.mutation.getFieldMask(),ut.now())):o.set(u.key,ln.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,h)=>o.set(u,h)),n.forEach((u,h)=>{var d;return a.set(u,new h2(h,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const i=fl();let r=new qe((o,a)=>o-a),s=ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let h=i.get(l)||ln.empty();h=a.applyToLocalView(u,h),i.set(l,h);const d=(r.get(a.batchId)||ue()).add(l);r=r.insert(a.batchId,d)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,h=l.value,d=EI();h.forEach(f=>{if(!s.has(f)){const g=CI(n.get(f),i.get(f));g!==null&&d.set(f,g),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return F.waitFor(o)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(i=>this.recalculateAndSaveOverlays(e,i))}getDocumentsMatchingQuery(e,n,i,r){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):mI(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,i,r):this.getDocumentsMatchingCollectionQuery(e,n,i,r)}getNextDocuments(e,n,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,i,r).next(s=>{const o=r-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,i.largestBatchId,r-s.size):F.resolve(fs());let a=-1,l=s;return o.next(u=>F.forEach(u,(h,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(h)?F.resolve():this.remoteDocumentCache.getEntry(e,h).next(f=>{l=l.insert(h,f)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,ue())).next(h=>({batchId:a,changes:wI(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(i=>{let r=Ya();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r})}getDocumentsMatchingCollectionGroupQuery(e,n,i,r){const s=n.collectionGroup;let o=Ya();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{const u=function(d,f){return new yu(f,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,i,r).next(h=>{h.forEach((d,f)=>{o=o.insert(d,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,i,r){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,i.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,i,s,r))).next(o=>{s.forEach((l,u)=>{const h=u.getKey();o.get(h)===null&&(o=o.insert(h,Mt.newInvalidDocument(h)))});let a=Ya();return o.forEach((l,u)=>{const h=s.get(l);h!==void 0&&pl(h.mutation,u,ln.empty(),ut.now()),$d(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return F.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(r){return{id:r.id,version:r.version,createTime:ni(r.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(r){return{name:r.name,query:i2(r.bundledQuery),readTime:ni(r.readTime)}}(n)),F.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(){this.overlays=new qe(J.comparator),this.Ir=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){const i=fs();return F.forEach(n,r=>this.getOverlay(e,r).next(s=>{s!==null&&i.set(r,s)})).next(()=>i)}saveOverlays(e,n,i){return i.forEach((r,s)=>{this.ht(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,i){const r=this.Ir.get(i);return r!==void 0&&(r.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(i)),F.resolve()}getOverlaysForCollection(e,n,i){const r=fs(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>i&&r.set(l.getKey(),l)}return F.resolve(r)}getOverlaysForCollectionGroup(e,n,i,r){let s=new qe((u,h)=>u-h);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>i){let h=s.get(u.largestBatchId);h===null&&(h=fs(),s=s.insert(u.largestBatchId,h)),h.set(u.getKey(),u)}}const a=fs(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,h)=>a.set(u,h)),!(a.size()>=r)););return F.resolve(a)}ht(e,n,i){const r=this.overlays.get(i.key);if(r!==null){const o=this.Ir.get(r.largestBatchId).delete(i.key);this.Ir.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(i.key,new MN(n,i));let s=this.Ir.get(n);s===void 0&&(s=ue(),this.Ir.set(n,s)),this.Ir.set(n,s.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.sessionToken=St.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wy{constructor(){this.Tr=new ft(ct.Er),this.dr=new ft(ct.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const i=new ct(e,n);this.Tr=this.Tr.add(i),this.dr=this.dr.add(i)}Rr(e,n){e.forEach(i=>this.addReference(i,n))}removeReference(e,n){this.Vr(new ct(e,n))}mr(e,n){e.forEach(i=>this.removeReference(i,n))}gr(e){const n=new J(new Ne([])),i=new ct(n,e),r=new ct(n,e+1),s=[];return this.dr.forEachInRange([i,r],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new J(new Ne([])),i=new ct(n,e),r=new ct(n,e+1);let s=ue();return this.dr.forEachInRange([i,r],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new ct(e,0),i=this.Tr.firstAfterOrEqual(n);return i!==null&&e.isEqual(i.key)}}class ct{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return J.comparator(e.key,n.key)||fe(e.wr,n.wr)}static Ar(e,n){return fe(e.wr,n.wr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new ft(ct.Er)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,i,r){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new DN(s,n,i,r);this.mutationQueue.push(o);for(const a of r)this.br=this.br.add(new ct(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const i=n+1,r=this.vr(i),s=r<0?0:r;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const i=new ct(n,0),r=new ct(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([i,r],o=>{const a=this.Dr(o.wr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let i=new ft(fe);return n.forEach(r=>{const s=new ct(r,0),o=new ct(r,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{i=i.add(a.wr)})}),F.resolve(this.Cr(i))}getAllMutationBatchesAffectingQuery(e,n){const i=n.path,r=i.length+1;let s=i;J.isDocumentKey(s)||(s=s.child(""));const o=new ct(new J(s),0);let a=new ft(fe);return this.br.forEachWhile(l=>{const u=l.key.path;return!!i.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.wr)),!0)},o),F.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(i=>{const r=this.Dr(i);r!==null&&n.push(r)}),n}removeMutationBatch(e,n){Te(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let i=this.br;return F.forEach(n.mutations,r=>{const s=new ct(r.key,n.batchId);return i=i.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.br=i})}On(e){}containsKey(e,n){const i=new ct(n,0),r=this.br.firstAfterOrEqual(i);return F.resolve(n.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e){this.Mr=e,this.docs=function(){return new qe(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const i=n.key,r=this.docs.get(i),s=r?r.size:0,o=this.Mr(n);return this.docs=this.docs.insert(i,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const i=this.docs.get(n);return F.resolve(i?i.document.mutableCopy():Mt.newInvalidDocument(n))}getEntries(e,n){let i=zi();return n.forEach(r=>{const s=this.docs.get(r);i=i.insert(r,s?s.document.mutableCopy():Mt.newInvalidDocument(r))}),F.resolve(i)}getDocumentsMatchingQuery(e,n,i,r){let s=zi();const o=n.path,a=new J(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:h}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||KO(GO(h),i)<=0||(r.has(h.key)||$d(n,h))&&(s=s.insert(h.key,h.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,i,r){te()}Or(e,n){return F.forEach(this.docs,i=>n(i))}newChangeBuffer(e){return new _2(this)}getSize(e){return F.resolve(this.size)}}class _2 extends c2{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((i,r)=>{r.isValidDocument()?n.push(this.cr.addEntry(e,r)):this.cr.removeEntry(i)}),F.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{constructor(e){this.persistence=e,this.Nr=new Ns(n=>Ly(n),Vy),this.lastRemoteSnapshotVersion=ne.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Wy,this.targetCount=0,this.kr=Uo.Bn()}forEachTarget(e,n){return this.Nr.forEach((i,r)=>n(r)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,i){return i&&(this.lastRemoteSnapshotVersion=i),n>this.Lr&&(this.Lr=n),F.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new Uo(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.Kn(n),F.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,i){let r=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&i.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),F.waitFor(s).next(()=>r)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){const i=this.Nr.get(n)||null;return F.resolve(i)}addMatchingKeys(e,n,i){return this.Br.Rr(n,i),F.resolve()}removeMatchingKeys(e,n,i){this.Br.mr(n,i);const r=this.persistence.referenceDelegate,s=[];return r&&n.forEach(o=>{s.push(r.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),F.resolve()}getMatchingKeysForTargetId(e,n){const i=this.Br.yr(n);return F.resolve(i)}containsKey(e,n){return F.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BI{constructor(e,n){this.qr={},this.overlays={},this.Qr=new zd(0),this.Kr=!1,this.Kr=!0,this.$r=new g2,this.referenceDelegate=e(this),this.Ur=new v2(this),this.indexManager=new r2,this.remoteDocumentCache=function(r){return new y2(r)}(i=>this.referenceDelegate.Wr(i)),this.serializer=new n2(n),this.Gr=new f2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new p2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let i=this.qr[e.toKey()];return i||(i=new m2(n,this.referenceDelegate),this.qr[e.toKey()]=i),i}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,i){$("MemoryPersistence","Starting transaction:",e);const r=new w2(this.Qr.next());return this.referenceDelegate.zr(),i(r).next(s=>this.referenceDelegate.jr(r).next(()=>s)).toPromise().then(s=>(r.raiseOnCommittedEvent(),s))}Hr(e,n){return F.or(Object.values(this.qr).map(i=>()=>i.containsKey(e,n)))}}class w2 extends XO{constructor(e){super(),this.currentSequenceNumber=e}}class Hy{constructor(e){this.persistence=e,this.Jr=new Wy,this.Yr=null}static Zr(e){return new Hy(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,i){return this.Jr.addReference(i,n),this.Xr.delete(i.toString()),F.resolve()}removeReference(e,n,i){return this.Jr.removeReference(i,n),this.Xr.add(i.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),F.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(r=>this.Xr.add(r.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,n.targetId).next(r=>{r.forEach(s=>this.Xr.add(s.toString()))}).next(()=>i.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.Xr,i=>{const r=J.fromPath(i);return this.ei(e,r).next(s=>{s||n.removeEntry(r,ne.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(i=>{i?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return F.or([()=>F.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}class Qh{constructor(e,n){this.persistence=e,this.ti=new Ns(i=>eN(i.path),(i,r)=>i.isEqual(r)),this.garbageCollector=u2(this,n)}static Zr(e,n){return new Qh(e,n)}zr(){}jr(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Yn(e){const n=this.er(e);return this.persistence.getTargetCache().getTargetCount(e).next(i=>n.next(r=>i+r))}er(e){let n=0;return this.Zn(e,i=>{n++}).next(()=>n)}Zn(e,n){return F.forEach(this.ti,(i,r)=>this.nr(e,i,r).next(s=>s?F.resolve():n(r)))}removeTargets(e,n,i){return this.persistence.getTargetCache().removeTargets(e,n,i)}removeOrphanedDocuments(e,n){let i=0;const r=this.persistence.getRemoteDocumentCache(),s=r.newChangeBuffer();return r.Or(e,o=>this.nr(e,o,n).next(a=>{a||(i++,s.removeEntry(o,ne.min()))})).next(()=>s.apply(e)).next(()=>i)}markPotentiallyOrphaned(e,n){return this.ti.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){const i=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,n,i){return this.ti.set(i,e.currentSequenceNumber),F.resolve()}removeReference(e,n,i){return this.ti.set(i,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.ti.set(n,e.currentSequenceNumber),F.resolve()}Wr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Qc(e.data.value)),n}nr(e,n,i){return F.or([()=>this.persistence.Hr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const r=this.ti.get(n);return F.resolve(r!==void 0&&r>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(e,n,i,r){this.targetId=e,this.fromCache=n,this.$i=i,this.Ui=r}static Wi(e,n){let i=ue(),r=ue();for(const s of n.docChanges)switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:r=r.add(s.doc.key)}return new $y(e,n.fromCache,i,r)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return EM()?8:JO(Lt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,i,r){const s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,r,i).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new E2;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,i,r){return i.documentReadCount<this.ji?(qs()<=le.DEBUG&&$("QueryEngine","SDK will not create cache indexes for query:",Gs(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),F.resolve()):(qs()<=le.DEBUG&&$("QueryEngine","Query:",Gs(n),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.Hi*r?(qs()<=le.DEBUG&&$("QueryEngine","The SDK decides to create cache indexes for query:",Gs(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ti(n))):F.resolve())}Yi(e,n){if(Kw(n))return F.resolve(null);let i=ti(n);return this.indexManager.getIndexType(e,i).next(r=>r===0?null:(n.limit!==null&&r===1&&(n=tm(n,null,"F"),i=ti(n)),this.indexManager.getDocumentsMatchingTarget(e,i).next(s=>{const o=ue(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,i).next(l=>{const u=this.ts(n,a);return this.ns(n,u,o,l.readTime)?this.Yi(e,tm(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,i,r){return Kw(n)||r.isEqual(ne.min())?F.resolve(null):this.Ji.getDocuments(e,i).next(s=>{const o=this.ts(n,s);return this.ns(n,o,i,r)?F.resolve(null):(qs()<=le.DEBUG&&$("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Gs(n)),this.rs(e,o,n,qO(r,-1)).next(a=>a))})}ts(e,n){let i=new ft(_I(e));return n.forEach((r,s)=>{$d(e,s)&&(i=i.add(s))}),i}ns(e,n,i,r){if(e.limit===null)return!1;if(i.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(r)>0)}Xi(e,n,i){return qs()<=le.DEBUG&&$("QueryEngine","Using full collection scan to execute query:",Gs(n)),this.Ji.getDocumentsMatchingQuery(e,n,Lr.min(),i)}rs(e,n,i,r){return this.Ji.getDocumentsMatchingQuery(e,i,r).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S2{constructor(e,n,i,r){this.persistence=e,this.ss=n,this.serializer=r,this.os=new qe(fe),this._s=new Ns(s=>Ly(s),Vy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(i)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new d2(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function x2(t,e,n,i){return new S2(t,e,n,i)}async function WI(t,e){const n=ie(t);return await n.persistence.runTransaction("Handle user change","readonly",i=>{let r;return n.mutationQueue.getAllMutationBatches(i).next(s=>(r=s,n.ls(e),n.mutationQueue.getAllMutationBatches(i))).next(s=>{const o=[],a=[];let l=ue();for(const u of r){o.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}for(const u of s){a.push(u.batchId);for(const h of u.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(i,l).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})}function I2(t,e){const n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const r=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,h){const d=u.batch,f=d.keys();let g=F.resolve();return f.forEach(y=>{g=g.next(()=>h.getEntry(l,y)).next(w=>{const T=u.docVersions.get(y);Te(T!==null),w.version.compareTo(T)<0&&(d.applyToRemoteDocument(w,u),w.isValidDocument()&&(w.setReadTime(u.commitVersion),h.addEntry(w)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,i,e,s).next(()=>s.apply(i)).next(()=>n.mutationQueue.performConsistencyCheck(i)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(i,r,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(a){let l=ue();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(i,r))})}function HI(t){const e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function k2(t,e){const n=ie(t),i=e.snapshotVersion;let r=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.cs.newChangeBuffer({trackRemovals:!0});r=n.os;const a=[];e.targetChanges.forEach((h,d)=>{const f=r.get(d);if(!f)return;a.push(n.Ur.removeMatchingKeys(s,h.removedDocuments,d).next(()=>n.Ur.addMatchingKeys(s,h.addedDocuments,d)));let g=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?g=g.withResumeToken(St.EMPTY_BYTE_STRING,ne.min()).withLastLimboFreeSnapshotVersion(ne.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,i)),r=r.insert(d,g),function(w,T,_){return w.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(f,g,h)&&a.push(n.Ur.updateTargetData(s,g))});let l=zi(),u=ue();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,h))}),a.push(b2(s,o,e.documentUpdates).next(h=>{l=h.Ps,u=h.Is})),!i.isEqual(ne.min())){const h=n.Ur.getLastRemoteSnapshotVersion(s).next(d=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,i));a.push(h)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.os=r,s))}function b2(t,e,n){let i=ue(),r=ue();return n.forEach(s=>i=i.add(s)),e.getEntries(t,i).next(s=>{let o=zi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(ne.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):$("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:o,Is:r}})}function P2(t,e){const n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",i=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(i,e)))}function C2(t,e){const n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",i=>{let r;return n.Ur.getTargetData(i,e).next(s=>s?(r=s,F.resolve(r)):n.Ur.allocateTargetId(i).next(o=>(r=new dr(e,o,"TargetPurposeListen",i.currentSequenceNumber),n.Ur.addTargetData(i,r).next(()=>r))))}).then(i=>{const r=n.os.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.os=n.os.insert(i.targetId,i),n._s.set(e,i.targetId)),i})}async function om(t,e,n){const i=ie(t),r=i.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||await i.persistence.runTransaction("Release target",s,o=>i.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!ea(o))throw o;$("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}i.os=i.os.remove(e),i._s.delete(r.target)}function lE(t,e,n){const i=ie(t);let r=ne.min(),s=ue();return i.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,h){const d=ie(l),f=d._s.get(h);return f!==void 0?F.resolve(d.os.get(f)):d.Ur.getTargetData(u,h)}(i,o,ti(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,i.Ur.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>i.ss.getDocumentsMatchingQuery(o,e,n?r:ne.min(),n?s:ue())).next(a=>(A2(i,_N(e),a),{documents:a,Ts:s})))}function A2(t,e,n){let i=t.us.get(e)||ne.min();n.forEach((r,s)=>{s.readTime.compareTo(i)>0&&(i=s.readTime)}),t.us.set(e,i)}class uE{constructor(){this.activeTargetIds=xN()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class R2{constructor(){this.so=new uE,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,i){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,i){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new uE,Promise.resolve()}handleUserChange(e,n,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D2{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){$("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){$("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc=null;function bp(){return vc===null?vc=function(){return 268435456+Math.round(2147483648*Math.random())}():vc++,"0x"+vc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ct="WebChannelConnection";class N2 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const i=n.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=i+"://"+n.host,this.vo=`projects/${r}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${r}`:`project_id=${r}&database_id=${s}`}get Fo(){return!1}Mo(n,i,r,s,o){const a=bp(),l=this.xo(n,i.toUriEncodedString());$("RestConnection",`Sending RPC '${n}' ${a}:`,l,r);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(n,l,u,r).then(h=>($("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw Lo("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",l,"request:",r),h})}Lo(n,i,r,s,o,a){return this.Mo(n,i,r,s,o)}Oo(n,i,r){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Jo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((s,o)=>n[o]=s),r&&r.headers.forEach((s,o)=>n[o]=s)}xo(n,i){const r=M2[n];return`${this.Do}/v1/${i}:${r}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,i,r){const s=bp();return new Promise((o,a)=>{const l=new eI;l.setWithCredentials(!0),l.listenOnce(tI.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Kc.NO_ERROR:const h=l.getResponseJson();$(Ct,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(h)),o(h);break;case Kc.TIMEOUT:$(Ct,`RPC '${e}' ${s} timed out`),a(new K(j.DEADLINE_EXCEEDED,"Request time out"));break;case Kc.HTTP_ERROR:const d=l.getStatus();if($(Ct,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const g=f==null?void 0:f.error;if(g&&g.status&&g.message){const y=function(T){const _=T.toLowerCase().replace(/_/g,"-");return Object.values(j).indexOf(_)>=0?_:j.UNKNOWN}(g.status);a(new K(y,g.message))}else a(new K(j.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(j.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{$(Ct,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(r);$(Ct,`RPC '${e}' ${s} sending request:`,r),l.send(n,"POST",u,i,15)})}Bo(e,n,i){const r=bp(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=rI(),a=iI(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,i),l.encodeInitMessageHeaders=!0;const h=s.join("");$(Ct,`Creating RPC '${e}' stream ${r}: ${h}`,l);const d=o.createWebChannel(h,l);let f=!1,g=!1;const y=new O2({Io:T=>{g?$(Ct,`Not sending because RPC '${e}' stream ${r} is closed:`,T):(f||($(Ct,`Opening RPC '${e}' stream ${r} transport.`),d.open(),f=!0),$(Ct,`RPC '${e}' stream ${r} sending:`,T),d.send(T))},To:()=>d.close()}),w=(T,_,v)=>{T.listen(_,x=>{try{v(x)}catch(R){setTimeout(()=>{throw R},0)}})};return w(d,$a.EventType.OPEN,()=>{g||($(Ct,`RPC '${e}' stream ${r} transport opened.`),y.yo())}),w(d,$a.EventType.CLOSE,()=>{g||(g=!0,$(Ct,`RPC '${e}' stream ${r} transport closed`),y.So())}),w(d,$a.EventType.ERROR,T=>{g||(g=!0,Lo(Ct,`RPC '${e}' stream ${r} transport errored:`,T),y.So(new K(j.UNAVAILABLE,"The operation could not be completed")))}),w(d,$a.EventType.MESSAGE,T=>{var _;if(!g){const v=T.data[0];Te(!!v);const x=v,R=x.error||((_=x[0])===null||_===void 0?void 0:_.error);if(R){$(Ct,`RPC '${e}' stream ${r} received error:`,R);const M=R.status;let N=function(k){const b=nt[k];if(b!==void 0)return DI(b)}(M),I=R.message;N===void 0&&(N=j.INTERNAL,I="Unknown error status: "+M+" with message "+R.message),g=!0,y.So(new K(N,I)),d.close()}else $(Ct,`RPC '${e}' stream ${r} received:`,v),y.bo(v)}}),w(a,nI.STAT_EVENT,T=>{T.stat===Kg.PROXY?$(Ct,`RPC '${e}' stream ${r} detected buffering proxy`):T.stat===Kg.NOPROXY&&$(Ct,`RPC '${e}' stream ${r} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Pp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t){return new BN(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e,n,i=1e3,r=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=i,this.qo=r,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),i=Math.max(0,Date.now()-this.Uo),r=Math.max(0,n-i);r>0&&$("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${i} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,r,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(e,n,i,r,s,o,a,l){this.ui=e,this.Ho=i,this.Jo=r,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new $I(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===j.RESOURCE_EXHAUSTED?(Ui(n.toString()),Ui("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===j.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,r])=>{this.Yo===n&&this.P_(i,r)},i=>{e(()=>{const r=new K(j.UNKNOWN,"Fetching auth token failed: "+i.message);return this.I_(r)})})}P_(e,n){const i=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{i(()=>this.listener.Eo())}),this.stream.Ro(()=>{i(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(r=>{i(()=>this.I_(r))}),this.stream.onMessage(r=>{i(()=>++this.e_==1?this.E_(r):this.onNext(r))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return $("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():($("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class L2 extends YI{constructor(e,n,i,r,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=$N(this.serializer,e),i=function(s){if(!("targetChange"in s))return ne.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ne.min():o.readTime?ni(o.readTime):ne.min()}(e);return this.listener.d_(n,i)}A_(e){const n={};n.database=sm(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Zg(l)?{documents:GN(s,l)}:{query:KN(s,l)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=NI(s,o.resumeToken);const u=nm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ne.min())>0){a.readTime=Kh(s,o.snapshotVersion.toTimestamp());const u=nm(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const i=XN(this.serializer,e);i&&(n.labels=i),this.a_(n)}R_(e){const n={};n.database=sm(this.serializer),n.removeTarget=e,this.a_(n)}}class V2 extends YI{constructor(e,n,i,r,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,i,r,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Te(!!e.streamToken),this.lastStreamToken=e.streamToken,Te(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=qN(e.writeResults,e.commitTime),i=ni(e.commitTime);return this.listener.g_(i,n)}p_(){const e={};e.database=sm(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(i=>YN(this.serializer,i))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2 extends class{}{constructor(e,n,i,r){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=i,this.serializer=r,this.y_=!1}w_(){if(this.y_)throw new K(j.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,i,r){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,im(n,i),r,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(j.UNKNOWN,s.toString())})}Lo(e,n,i,r,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,im(n,i),r,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===j.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(j.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class j2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ui(n),this.D_=!1):$("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e,n,i,r,s){this.localStore=e,this.datastore=n,this.asyncQueue=i,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{i.enqueueAndForget(async()=>{Ls(this)&&($("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=ie(l);u.L_.add(4),await wu(u),u.q_.set("Unknown"),u.L_.delete(4),await Qd(u)}(this))})}),this.q_=new j2(i,r)}}async function Qd(t){if(Ls(t))for(const e of t.B_)await e(!0)}async function wu(t){for(const e of t.B_)await e(!1)}function qI(t,e){const n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Ky(n)?Gy(n):ta(n).r_()&&qy(n,e))}function Yy(t,e){const n=ie(t),i=ta(n);n.N_.delete(e),i.r_()&&GI(n,e),n.N_.size===0&&(i.r_()?i.o_():Ls(n)&&n.q_.set("Unknown"))}function qy(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ne.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ta(t).A_(e)}function GI(t,e){t.Q_.xe(e),ta(t).R_(e)}function Gy(t){t.Q_=new FN({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),ta(t).start(),t.q_.v_()}function Ky(t){return Ls(t)&&!ta(t).n_()&&t.N_.size>0}function Ls(t){return ie(t).L_.size===0}function KI(t){t.Q_=void 0}async function z2(t){t.q_.set("Online")}async function B2(t){t.N_.forEach((e,n)=>{qy(t,e)})}async function W2(t,e){KI(t),Ky(t)?(t.q_.M_(e),Gy(t)):t.q_.set("Unknown")}async function H2(t,e,n){if(t.q_.set("Online"),e instanceof OI&&e.state===2&&e.cause)try{await async function(r,s){const o=s.cause;for(const a of s.targetIds)r.N_.has(a)&&(await r.remoteSyncer.rejectListen(a,o),r.N_.delete(a),r.Q_.removeTarget(a))}(t,e)}catch(i){$("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),i),await Xh(t,i)}else if(e instanceof Zc?t.Q_.Ke(e):e instanceof MI?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ne.min()))try{const i=await HI(t.localStore);n.compareTo(i)>=0&&await function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const h=s.N_.get(u);h&&s.N_.set(u,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const h=s.N_.get(l);if(!h)return;s.N_.set(l,h.withResumeToken(St.EMPTY_BYTE_STRING,h.snapshotVersion)),GI(s,l);const d=new dr(h.target,l,u,h.sequenceNumber);qy(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(i){$("RemoteStore","Failed to raise snapshot:",i),await Xh(t,i)}}async function Xh(t,e,n){if(!ea(e))throw e;t.L_.add(1),await wu(t),t.q_.set("Offline"),n||(n=()=>HI(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{$("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await Qd(t)})}function QI(t,e){return e().catch(n=>Xh(t,n,e))}async function Xd(t){const e=ie(t),n=Ur(e);let i=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;$2(e);)try{const r=await P2(e.localStore,i);if(r===null){e.O_.length===0&&n.o_();break}i=r.batchId,Y2(e,r)}catch(r){await Xh(e,r)}XI(e)&&JI(e)}function $2(t){return Ls(t)&&t.O_.length<10}function Y2(t,e){t.O_.push(e);const n=Ur(t);n.r_()&&n.V_&&n.m_(e.mutations)}function XI(t){return Ls(t)&&!Ur(t).n_()&&t.O_.length>0}function JI(t){Ur(t).start()}async function q2(t){Ur(t).p_()}async function G2(t){const e=Ur(t);for(const n of t.O_)e.m_(n.mutations)}async function K2(t,e,n){const i=t.O_.shift(),r=Uy.from(i,e,n);await QI(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await Xd(t)}async function Q2(t,e){e&&Ur(t).V_&&await async function(i,r){if(function(o){return NN(o)&&o!==j.ABORTED}(r.code)){const s=i.O_.shift();Ur(i).s_(),await QI(i,()=>i.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Xd(i)}}(t,e),XI(t)&&JI(t)}async function hE(t,e){const n=ie(t);n.asyncQueue.verifyOperationInProgress(),$("RemoteStore","RemoteStore received new credentials");const i=Ls(n);n.L_.add(3),await wu(n),i&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await Qd(n)}async function X2(t,e){const n=ie(t);e?(n.L_.delete(2),await Qd(n)):e||(n.L_.add(2),await wu(n),n.q_.set("Unknown"))}function ta(t){return t.K_||(t.K_=function(n,i,r){const s=ie(n);return s.w_(),new L2(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:z2.bind(null,t),Ro:B2.bind(null,t),mo:W2.bind(null,t),d_:H2.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Ky(t)?Gy(t):t.q_.set("Unknown")):(await t.K_.stop(),KI(t))})),t.K_}function Ur(t){return t.U_||(t.U_=function(n,i,r){const s=ie(n);return s.w_(),new V2(i,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,r)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:q2.bind(null,t),mo:Q2.bind(null,t),f_:G2.bind(null,t),g_:K2.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await Xd(t)):(await t.U_.stop(),t.O_.length>0&&($("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qy{constructor(e,n,i,r,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=i,this.op=r,this.removalCallback=s,this.deferred=new Di,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,i,r,s){const o=Date.now()+i,a=new Qy(e,n,o,r,s);return a.start(i),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(j.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xy(t,e){if(Ui("AsyncQueue",`${e}: ${t}`),ea(t))return new K(j.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e){this.comparator=e?(n,i)=>e(n,i)||J.comparator(n.key,i.key):(n,i)=>J.comparator(n.key,i.key),this.keyedMap=Ya(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new vo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,i)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof vo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;n.hasNext();){const r=n.getNext().key,s=i.getNext().key;if(!r.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const i=new vo;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=n,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(){this.W_=new qe(J.comparator)}track(e){const n=e.doc.key,i=this.W_.get(n);i?e.type!==0&&i.type===3?this.W_=this.W_.insert(n,e):e.type===3&&i.type!==1?this.W_=this.W_.insert(n,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.W_=this.W_.remove(n):e.type===1&&i.type===2?this.W_=this.W_.insert(n,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,i)=>{e.push(i)}),e}}class zo{constructor(e,n,i,r,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,i,r,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new zo(e,n,vo.emptySet(n),o,i,r,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,i=e.docChanges;if(n.length!==i.length)return!1;for(let r=0;r<n.length;r++)if(n[r].type!==i[r].type||!n[r].doc.isEqual(i[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J2{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Z2{constructor(){this.queries=fE(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,i){const r=ie(n),s=r.queries;r.queries=fE(),s.forEach((o,a)=>{for(const l of a.j_)l.onError(i)})})(this,new K(j.ABORTED,"Firestore shutting down"))}}function fE(){return new Ns(t=>yI(t),Hd)}async function ZI(t,e){const n=ie(t);let i=3;const r=e.query;let s=n.queries.get(r);s?!s.H_()&&e.J_()&&(i=2):(s=new J2,i=e.J_()?0:1);try{switch(i){case 0:s.z_=await n.onListen(r,!0);break;case 1:s.z_=await n.onListen(r,!1);break;case 2:await n.onFirstRemoteStoreListen(r)}}catch(o){const a=Xy(o,`Initialization of query '${Gs(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&Jy(n)}async function ek(t,e){const n=ie(t),i=e.query;let r=3;const s=n.queries.get(i);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?r=e.J_()?0:1:!s.H_()&&e.J_()&&(r=2))}switch(r){case 0:return n.queries.delete(i),n.onUnlisten(i,!0);case 1:return n.queries.delete(i),n.onUnlisten(i,!1);case 2:return n.onLastRemoteStoreUnlisten(i);default:return}}function eL(t,e){const n=ie(t);let i=!1;for(const r of e){const s=r.query,o=n.queries.get(s);if(o){for(const a of o.j_)a.X_(r)&&(i=!0);o.z_=r}}i&&Jy(n)}function tL(t,e,n){const i=ie(t),r=i.queries.get(e);if(r)for(const s of r.j_)s.onError(n);i.queries.delete(e)}function Jy(t){t.Y_.forEach(e=>{e.next()})}var am,pE;(pE=am||(am={})).ea="default",pE.Cache="cache";class tk{constructor(e,n,i){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=i||{}}X_(e){if(!this.options.includeMetadataChanges){const i=[];for(const r of e.docChanges)r.type!==3&&i.push(r);e=new zo(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const i=n!=="Offline";return(!this.options._a||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=zo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==am.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nk{constructor(e){this.key=e}}class ik{constructor(e){this.key=e}}class nL{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=ue(),this.mutatedKeys=ue(),this.Aa=_I(e),this.Ra=new vo(this.Aa)}get Va(){return this.Ta}ma(e,n){const i=n?n.fa:new dE,r=n?n.Ra:this.Ra;let s=n?n.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((h,d)=>{const f=r.get(h),g=$d(this.query,d)?d:null,y=!!f&&this.mutatedKeys.has(f.key),w=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let T=!1;f&&g?f.data.isEqual(g.data)?y!==w&&(i.track({type:3,doc:g}),T=!0):this.ga(f,g)||(i.track({type:2,doc:g}),T=!0,(l&&this.Aa(g,l)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!f&&g?(i.track({type:0,doc:g}),T=!0):f&&!g&&(i.track({type:1,doc:f}),T=!0,(l||u)&&(a=!0)),T&&(g?(o=o.add(g),s=w?s.add(h):s.delete(h)):(o=o.delete(h),s=s.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),s=s.delete(h.key),i.track({type:1,doc:h})}return{Ra:o,fa:i,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,i,r){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((h,d)=>function(g,y){const w=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return w(g)-w(y)}(h.type,d.type)||this.Aa(h.doc,d.doc)),this.pa(i),r=r!=null&&r;const a=n&&!r?this.ya():[],l=this.da.size===0&&this.current&&!r?1:0,u=l!==this.Ea;return this.Ea=l,o.length!==0||u?{snapshot:new zo(this.query,e.Ra,s,o,e.mutatedKeys,l===0,u,!1,!!i&&i.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new dE,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=ue(),this.Ra.forEach(i=>{this.Sa(i.key)&&(this.da=this.da.add(i.key))});const n=[];return e.forEach(i=>{this.da.has(i)||n.push(new ik(i))}),this.da.forEach(i=>{e.has(i)||n.push(new nk(i))}),n}ba(e){this.Ta=e.Ts,this.da=ue();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return zo.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class iL{constructor(e,n,i){this.query=e,this.targetId=n,this.view=i}}class rL{constructor(e){this.key=e,this.va=!1}}class sL{constructor(e,n,i,r,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=i,this.sharedClientState=r,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Ns(a=>yI(a),Hd),this.Ma=new Map,this.xa=new Set,this.Oa=new qe(J.comparator),this.Na=new Map,this.La=new Wy,this.Ba={},this.ka=new Map,this.qa=Uo.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function oL(t,e,n=!0){const i=uk(t);let r;const s=i.Fa.get(e);return s?(i.sharedClientState.addLocalQueryTarget(s.targetId),r=s.view.Da()):r=await rk(i,e,n,!0),r}async function aL(t,e){const n=uk(t);await rk(n,e,!0,!1)}async function rk(t,e,n,i){const r=await C2(t.localStore,ti(e)),s=r.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return i&&(a=await lL(t,e,s,o==="current",r.resumeToken)),t.isPrimaryClient&&n&&qI(t.remoteStore,r),a}async function lL(t,e,n,i,r){t.Ka=(d,f,g)=>async function(w,T,_,v){let x=T.view.ma(_);x.ns&&(x=await lE(w.localStore,T.query,!1).then(({documents:I})=>T.view.ma(I,x)));const R=v&&v.targetChanges.get(T.targetId),M=v&&v.targetMismatches.get(T.targetId)!=null,N=T.view.applyChanges(x,w.isPrimaryClient,R,M);return mE(w,T.targetId,N.wa),N.snapshot}(t,d,f,g);const s=await lE(t.localStore,e,!0),o=new nL(e,s.Ts),a=o.ma(s.documents),l=vu.createSynthesizedTargetChangeForCurrentChange(n,i&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,l);mE(t,n,u.wa);const h=new iL(e,n,o);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function uL(t,e,n){const i=ie(t),r=i.Fa.get(e),s=i.Ma.get(r.targetId);if(s.length>1)return i.Ma.set(r.targetId,s.filter(o=>!Hd(o,e))),void i.Fa.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await om(i.localStore,r.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(r.targetId),n&&Yy(i.remoteStore,r.targetId),lm(i,r.targetId)}).catch(Zo)):(lm(i,r.targetId),await om(i.localStore,r.targetId,!0))}async function cL(t,e){const n=ie(t),i=n.Fa.get(e),r=n.Ma.get(i.targetId);n.isPrimaryClient&&r.length===1&&(n.sharedClientState.removeLocalQueryTarget(i.targetId),Yy(n.remoteStore,i.targetId))}async function hL(t,e,n){const i=_L(t);try{const r=await function(o,a){const l=ie(o),u=ut.now(),h=a.reduce((g,y)=>g.add(y.key),ue());let d,f;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=zi(),w=ue();return l.cs.getEntries(g,h).next(T=>{y=T,y.forEach((_,v)=>{v.isValidDocument()||(w=w.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,y)).next(T=>{d=T;const _=[];for(const v of a){const x=AN(v,d.get(v.key).overlayedDocument);x!=null&&_.push(new Gr(v.key,x,uI(x.value.mapValue),On.exists(!0)))}return l.mutationQueue.addMutationBatch(g,u,_,a)}).next(T=>{f=T;const _=T.applyToLocalDocumentSet(d,w);return l.documentOverlayCache.saveOverlays(g,T.batchId,_)})}).then(()=>({batchId:f.batchId,changes:wI(d)}))}(i.localStore,e);i.sharedClientState.addPendingMutation(r.batchId),function(o,a,l){let u=o.Ba[o.currentUser.toKey()];u||(u=new qe(fe)),u=u.insert(a,l),o.Ba[o.currentUser.toKey()]=u}(i,r.batchId,n),await Eu(i,r.changes),await Xd(i.remoteStore)}catch(r){const s=Xy(r,"Failed to persist write");n.reject(s)}}async function sk(t,e){const n=ie(t);try{const i=await k2(n.localStore,e);e.targetChanges.forEach((r,s)=>{const o=n.Na.get(s);o&&(Te(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.va=!0:r.modifiedDocuments.size>0?Te(o.va):r.removedDocuments.size>0&&(Te(o.va),o.va=!1))}),await Eu(n,i,e)}catch(i){await Zo(i)}}function gE(t,e,n){const i=ie(t);if(i.isPrimaryClient&&n===0||!i.isPrimaryClient&&n===1){const r=[];i.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&r.push(a.snapshot)}),function(o,a){const l=ie(o);l.onlineState=a;let u=!1;l.queries.forEach((h,d)=>{for(const f of d.j_)f.Z_(a)&&(u=!0)}),u&&Jy(l)}(i.eventManager,e),r.length&&i.Ca.d_(r),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function dL(t,e,n){const i=ie(t);i.sharedClientState.updateQueryState(e,"rejected",n);const r=i.Na.get(e),s=r&&r.key;if(s){let o=new qe(J.comparator);o=o.insert(s,Mt.newNoDocument(s,ne.min()));const a=ue().add(s),l=new Gd(ne.min(),new Map,new qe(fe),o,a);await sk(i,l),i.Oa=i.Oa.remove(s),i.Na.delete(e),Zy(i)}else await om(i.localStore,e,!1).then(()=>lm(i,e,n)).catch(Zo)}async function fL(t,e){const n=ie(t),i=e.batch.batchId;try{const r=await I2(n.localStore,e);ak(n,i,null),ok(n,i),n.sharedClientState.updateMutationState(i,"acknowledged"),await Eu(n,r)}catch(r){await Zo(r)}}async function pL(t,e,n){const i=ie(t);try{const r=await function(o,a){const l=ie(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let h;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(Te(d!==null),h=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,h)).next(()=>l.localDocuments.getDocuments(u,h))})}(i.localStore,e);ak(i,e,n),ok(i,e),i.sharedClientState.updateMutationState(e,"rejected",n),await Eu(i,r)}catch(r){await Zo(r)}}function ok(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function ak(t,e,n){const i=ie(t);let r=i.Ba[i.currentUser.toKey()];if(r){const s=r.get(e);s&&(n?s.reject(n):s.resolve(),r=r.remove(e)),i.Ba[i.currentUser.toKey()]=r}}function lm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const i of t.Ma.get(e))t.Fa.delete(i),n&&t.Ca.$a(i,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(i=>{t.La.containsKey(i)||lk(t,i)})}function lk(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Yy(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Zy(t))}function mE(t,e,n){for(const i of n)i instanceof nk?(t.La.addReference(i.key,e),gL(t,i)):i instanceof ik?($("SyncEngine","Document no longer in limbo: "+i.key),t.La.removeReference(i.key,e),t.La.containsKey(i.key)||lk(t,i.key)):te()}function gL(t,e){const n=e.key,i=n.path.canonicalString();t.Oa.get(n)||t.xa.has(i)||($("SyncEngine","New document in limbo: "+n),t.xa.add(i),Zy(t))}function Zy(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new J(Ne.fromString(e)),i=t.qa.next();t.Na.set(i,new rL(n)),t.Oa=t.Oa.insert(n,i),qI(t.remoteStore,new dr(ti(Fy(n.path)),i,"TargetPurposeLimboResolution",zd.oe))}}async function Eu(t,e,n){const i=ie(t),r=[],s=[],o=[];i.Fa.isEmpty()||(i.Fa.forEach((a,l)=>{o.push(i.Ka(l,e,n).then(u=>{var h;if((u||n)&&i.isPrimaryClient){const d=u?!u.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))===null||h===void 0?void 0:h.current;i.sharedClientState.updateQueryState(l.targetId,d?"current":"not-current")}if(u){r.push(u);const d=$y.Wi(l.targetId,u);s.push(d)}}))}),await Promise.all(o),i.Ca.d_(r),await async function(l,u){const h=ie(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>F.forEach(u,f=>F.forEach(f.$i,g=>h.persistence.referenceDelegate.addReference(d,f.targetId,g)).next(()=>F.forEach(f.Ui,g=>h.persistence.referenceDelegate.removeReference(d,f.targetId,g)))))}catch(d){if(!ea(d))throw d;$("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const f=d.targetId;if(!d.fromCache){const g=h.os.get(f),y=g.snapshotVersion,w=g.withLastLimboFreeSnapshotVersion(y);h.os=h.os.insert(f,w)}}}(i.localStore,s))}async function mL(t,e){const n=ie(t);if(!n.currentUser.isEqual(e)){$("SyncEngine","User change. New user:",e.toKey());const i=await WI(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(l=>{l.reject(new K(j.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await Eu(n,i.hs)}}function yL(t,e){const n=ie(t),i=n.Na.get(e);if(i&&i.va)return ue().add(i.key);{let r=ue();const s=n.Ma.get(e);if(!s)return r;for(const o of s){const a=n.Fa.get(o);r=r.unionWith(a.view.Va)}return r}}function uk(t){const e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sk.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=yL.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dL.bind(null,e),e.Ca.d_=eL.bind(null,e.eventManager),e.Ca.$a=tL.bind(null,e.eventManager),e}function _L(t){const e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fL.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=pL.bind(null,e),e}class Jh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Kd(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return x2(this.persistence,new T2,e.initialUser,this.serializer)}Ga(e){return new BI(Hy.Zr,this.serializer)}Wa(e){return new R2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Jh.provider={build:()=>new Jh};class vL extends Jh{constructor(e){super(),this.cacheSizeBytes=e}ja(e,n){Te(this.persistence.referenceDelegate instanceof Qh);const i=this.persistence.referenceDelegate.garbageCollector;return new a2(i,e.asyncQueue,n)}Ga(e){const n=this.cacheSizeBytes!==void 0?Gt.withCacheSize(this.cacheSizeBytes):Gt.DEFAULT;return new BI(i=>Qh.Zr(i,n),this.serializer)}}class um{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>gE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=mL.bind(null,this.syncEngine),await X2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Z2}()}createDatastore(e){const n=Kd(e.databaseInfo.databaseId),i=function(s){return new N2(s)}(e.databaseInfo);return function(s,o,a,l){return new F2(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,i,n)}createRemoteStore(e){return function(i,r,s,o,a){return new U2(i,r,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>gE(this.syncEngine,n,0),function(){return cE.D()?new cE:new D2}())}createSyncEngine(e,n){return function(r,s,o,a,l,u,h){const d=new sL(r,s,o,a,l,u);return h&&(d.Qa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(r){const s=ie(r);$("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await wu(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}um.provider={build:()=>new um};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Ui("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wL{constructor(e,n,i,r,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=i,this.databaseInfo=r,this.user=Rt.UNAUTHENTICATED,this.clientId=oI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(i,async o=>{$("FirestoreClient","Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(i,o=>($("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Di;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const i=Xy(n,"Failed to shutdown persistence");e.reject(i)}}),e.promise}}async function Cp(t,e){t.asyncQueue.verifyOperationInProgress(),$("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let i=n.initialUser;t.setCredentialChangeListener(async r=>{i.isEqual(r)||(await WI(e.localStore,r),i=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function yE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await EL(t);$("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(i=>hE(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>hE(e.remoteStore,r)),t._onlineComponents=e}async function EL(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){$("FirestoreClient","Using user provided OfflineComponentProvider");try{await Cp(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(r){return r.name==="FirebaseError"?r.code===j.FAILED_PRECONDITION||r.code===j.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11}(n))throw n;Lo("Error using user provided cache. Falling back to memory cache: "+n),await Cp(t,new Jh)}}else $("FirestoreClient","Using default OfflineComponentProvider"),await Cp(t,new vL(void 0));return t._offlineComponents}async function hk(t){return t._onlineComponents||(t._uninitializedComponentsProvider?($("FirestoreClient","Using user provided OnlineComponentProvider"),await yE(t,t._uninitializedComponentsProvider._online)):($("FirestoreClient","Using default OnlineComponentProvider"),await yE(t,new um))),t._onlineComponents}function TL(t){return hk(t).then(e=>e.syncEngine)}async function dk(t){const e=await hk(t),n=e.eventManager;return n.onListen=oL.bind(null,e.syncEngine),n.onUnlisten=uL.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=aL.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cL.bind(null,e.syncEngine),n}function SL(t,e,n={}){const i=new Di;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new ck({next:f=>{h.Za(),o.enqueueAndForget(()=>ek(s,d));const g=f.docs.has(a);!g&&f.fromCache?u.reject(new K(j.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&f.fromCache&&l&&l.source==="server"?u.reject(new K(j.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new tk(Fy(a.path),h,{includeMetadataChanges:!0,_a:!0});return ZI(s,d)}(await dk(t),t.asyncQueue,e,n,i)),i.promise}function xL(t,e,n={}){const i=new Di;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const h=new ck({next:f=>{h.Za(),o.enqueueAndForget(()=>ek(s,d)),f.fromCache&&l.source==="server"?u.reject(new K(j.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(f)},error:f=>u.reject(f)}),d=new tk(a,h,{includeMetadataChanges:!0,_a:!0});return ZI(s,d)}(await dk(t),t.asyncQueue,e,n,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _E=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e,n){if(!n)throw new K(j.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function IL(t,e,n,i){if(e===!0&&i===!0)throw new K(j.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function vE(t){if(!J.isDocumentKey(t))throw new K(j.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function wE(t){if(J.isDocumentKey(t))throw new K(j.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Jd(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(i){return i.constructor?i.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function ai(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(j.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jd(t);throw new K(j.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e){var n,i;if(e.host===void 0){if(e.ssl!==void 0)throw new K(j.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new K(j.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}IL("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fk((i=e.experimentalLongPollingOptions)!==null&&i!==void 0?i:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(j.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(i,r){return i.timeoutSeconds===r.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zd{constructor(e,n,i,r){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new EE({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(j.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(j.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new EE(e),e.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new FO;switch(i.type){case"firstParty":return new BO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new K(j.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const i=_E.get(n);i&&($("ComponentProvider","Removing Datastore"),_E.delete(n),i.terminate())}(this),Promise.resolve()}}function kL(t,e,n,i={}){var r;const s=(t=ai(t,Zd))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Lo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),i.mockUserToken){let a,l;if(typeof i.mockUserToken=="string")a=i.mockUserToken,l=Rt.MOCK_USER;else{a=pM(i.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new K(j.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new Rt(u)}t._authCredentials=new jO(new sI(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{constructor(e,n,i){this.converter=n,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new na(this.firestore,e,this._query)}}class Wt{constructor(e,n,i){this.converter=n,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ar(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Wt(this.firestore,e,this._key)}}class Ar extends na{constructor(e,n,i){super(e,n,Fy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Wt(this.firestore,null,new J(e))}withConverter(e){return new Ar(this.firestore,e,this._path)}}function ia(t,e,...n){if(t=Tt(t),pk("collection","path",e),t instanceof Zd){const i=Ne.fromString(e,...n);return wE(i),new Ar(t,null,i)}{if(!(t instanceof Wt||t instanceof Ar))throw new K(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ne.fromString(e,...n));return wE(i),new Ar(t.firestore,null,i)}}function Bo(t,e,...n){if(t=Tt(t),arguments.length===1&&(e=oI.newId()),pk("doc","path",e),t instanceof Zd){const i=Ne.fromString(e,...n);return vE(i),new Wt(t,null,new J(i))}{if(!(t instanceof Wt||t instanceof Ar))throw new K(j.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=t._path.child(Ne.fromString(e,...n));return vE(i),new Wt(t.firestore,t instanceof Ar?t.converter:null,new J(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TE{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new $I(this,"async_queue_retry"),this.Vu=()=>{const i=Pp();i&&$("AsyncQueue","Visibility state changed to "+i.visibilityState),this.t_.jo()},this.mu=e;const n=Pp();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=Pp();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new Di;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!ea(e))throw e;$("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(i=>{this.Eu=i,this.du=!1;const r=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(i);throw Ui("INTERNAL UNHANDLED ERROR: ",r),i}).then(i=>(this.du=!1,i))));return this.mu=n,n}enqueueAfterDelay(e,n,i){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const r=Qy.createAndSchedule(this,e,n,i,s=>this.yu(s));return this.Tu.push(r),r}fu(){this.Eu&&te()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,i)=>n.targetTimeMs-i.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}class ra extends Zd{constructor(e,n,i,r){super(e,n,i,r),this.type="firestore",this._queue=new TE,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new TE(e),this._firestoreClient=void 0,await e}}}function bL(t,e){const n=typeof t=="object"?t:Qx(),i=typeof t=="string"?t:"(default)",r=Dy(n,"firestore").getImmediate({identifier:i});if(!r._initialized){const s=dM("firestore");s&&kL(r,...s)}return r}function e_(t){if(t._terminated)throw new K(j.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||PL(t),t._firestoreClient}function PL(t){var e,n,i;const r=t._freezeSettings(),s=function(a,l,u,h){return new iN(a,l,u,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,fk(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,r);t._componentsProvider||!((n=r.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((i=r.localCache)===null||i===void 0)&&i._onlineComponentProvider)&&(t._componentsProvider={_offline:r.localCache._offlineComponentProvider,_online:r.localCache._onlineComponentProvider}),t._firestoreClient=new wL(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo(St.fromBase64String(e))}catch(n){throw new K(j.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Wo(St.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(j.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t_{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(j.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(j.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return fe(this._lat,e._lat)||fe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(i,r){if(i.length!==r.length)return!1;for(let s=0;s<i.length;++s)if(i[s]!==r[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CL=/^__.*__$/;class AL{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return this.fieldMask!==null?new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms):new _u(e,this.data,n,this.fieldTransforms)}}class gk{constructor(e,n,i){this.data=e,this.fieldMask=n,this.fieldTransforms=i}toMutation(e,n){return new Gr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function mk(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}class i_{constructor(e,n,i,r,s,o){this.settings=e,this.databaseId=n,this.serializer=i,this.ignoreUndefinedProperties=r,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new i_(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.Ou(e),r}Nu(e){var n;const i=(n=this.path)===null||n===void 0?void 0:n.child(e),r=this.Fu({path:i,xu:!1});return r.vu(),r}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Zh(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(mk(this.Cu)&&CL.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class RL{constructor(e,n,i){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=i||Kd(e)}Qu(e,n,i,r=!1){return new i_({Cu:e,methodName:n,qu:i,path:vt.emptyPath(),xu:!1,ku:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function tf(t){const e=t._freezeSettings(),n=Kd(t._databaseId);return new RL(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yk(t,e,n,i,r,s={}){const o=t.Qu(s.merge||s.mergeFields?2:0,e,n,r);o_("Data must be an object, but it was:",o,i);const a=_k(i,o);let l,u;if(s.merge)l=new ln(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const h=[];for(const d of s.mergeFields){const f=cm(e,d,n);if(!o.contains(f))throw new K(j.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);wk(h,f)||h.push(f)}l=new ln(h),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new AL(new Qt(a),l,u)}class nf extends Tu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof nf}}class r_ extends Tu{_toFieldTransform(e){return new PI(e.path,new $l)}isEqual(e){return e instanceof r_}}class s_ extends Tu{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new Gl(e.serializer,SI(e.serializer,this.$u));return new PI(e.path,n)}isEqual(e){return e instanceof s_&&this.$u===e.$u}}function DL(t,e,n,i){const r=t.Qu(1,e,n);o_("Data must be an object, but it was:",r,i);const s=[],o=Qt.empty();qr(i,(l,u)=>{const h=a_(e,l,n);u=Tt(u);const d=r.Nu(h);if(u instanceof nf)s.push(h);else{const f=Su(u,d);f!=null&&(s.push(h),o.set(h,f))}});const a=new ln(s);return new gk(o,a,r.fieldTransforms)}function ML(t,e,n,i,r,s){const o=t.Qu(1,e,n),a=[cm(e,i,n)],l=[r];if(s.length%2!=0)throw new K(j.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(cm(e,s[f])),l.push(s[f+1]);const u=[],h=Qt.empty();for(let f=a.length-1;f>=0;--f)if(!wk(u,a[f])){const g=a[f];let y=l[f];y=Tt(y);const w=o.Nu(g);if(y instanceof nf)u.push(g);else{const T=Su(y,w);T!=null&&(u.push(g),h.set(g,T))}}const d=new ln(u);return new gk(h,d,o.fieldTransforms)}function OL(t,e,n,i=!1){return Su(n,t.Qu(i?4:3,e))}function Su(t,e){if(vk(t=Tt(t)))return o_("Unsupported field value:",e,t),_k(t,e);if(t instanceof Tu)return function(i,r){if(!mk(r.Cu))throw r.Bu(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Bu(`${i._methodName}() is not currently supported inside arrays`);const s=i._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(i,r){const s=[];let o=0;for(const a of i){let l=Su(a,r.Lu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(i,r){if((i=Tt(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return SI(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const s=ut.fromDate(i);return{timestampValue:Kh(r.serializer,s)}}if(i instanceof ut){const s=new ut(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Kh(r.serializer,s)}}if(i instanceof t_)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Wo)return{bytesValue:NI(r.serializer,i._byteString)};if(i instanceof Wt){const s=r.databaseId,o=i.firestore._databaseId;if(!o.isEqual(s))throw r.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:By(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof n_)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return jy(a.serializer,l)})}}}}}}(i,r);throw r.Bu(`Unsupported field value: ${Jd(i)}`)}(t,e)}function _k(t,e){const n={};return aI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):qr(t,(i,r)=>{const s=Su(r,e.Mu(i));s!=null&&(n[i]=s)}),{mapValue:{fields:n}}}function vk(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof t_||t instanceof Wo||t instanceof Wt||t instanceof Tu||t instanceof n_)}function o_(t,e,n){if(!vk(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const i=Jd(n);throw i==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+i)}}function cm(t,e,n){if((e=Tt(e))instanceof ef)return e._internalPath;if(typeof e=="string")return a_(t,e);throw Zh("Field path arguments must be of type string or ",t,!1,void 0,n)}const NL=new RegExp("[~\\*/\\[\\]]");function a_(t,e,n){if(e.search(NL)>=0)throw Zh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ef(...e.split("."))._internalPath}catch{throw Zh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Zh(t,e,n,i,r){const s=i&&!i.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${i}`),o&&(l+=` in document ${r}`),l+=")"),new K(j.INVALID_ARGUMENT,a+t+l)}function wk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ek{constructor(e,n,i,r,s){this._firestore=e,this._userDataWriter=n,this._key=i,this._document=r,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Wt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new LL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(l_("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class LL extends Ek{data(){return super.data()}}function l_(t,e){return typeof e=="string"?a_(t,e):e instanceof ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VL(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(j.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class u_{}class FL extends u_{}function rf(t,e,...n){let i=[];e instanceof u_&&i.push(e),i=i.concat(n),function(s){const o=s.filter(l=>l instanceof c_).length,a=s.filter(l=>l instanceof sf).length;if(o>1||o>0&&a>0)throw new K(j.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(i);for(const r of i)t=r._apply(t);return t}class sf extends FL{constructor(e,n,i){super(),this._field=e,this._op=n,this._value=i,this.type="where"}static _create(e,n,i){return new sf(e,n,i)}_apply(e){const n=this._parse(e);return Tk(e._query,n),new na(e.firestore,e.converter,em(e._query,n))}_parse(e){const n=tf(e.firestore);return function(s,o,a,l,u,h,d){let f;if(u.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new K(j.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){xE(d,h);const g=[];for(const y of d)g.push(SE(l,s,y));f={arrayValue:{values:g}}}else f=SE(l,s,d)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||xE(d,h),f=OL(a,o,d,h==="in"||h==="not-in");return rt.create(u,h,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Kl(t,e,n){const i=e,r=l_("where",t);return sf._create(r,i,n)}class c_ extends u_{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new c_(e,n)}_parse(e){const n=this._queryConstraints.map(i=>i._parse(e)).filter(i=>i.getFilters().length>0);return n.length===1?n[0]:Ln.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(r,s){let o=r;const a=s.getFlattenedFilters();for(const l of a)Tk(o,l),o=em(o,l)}(e._query,n),new na(e.firestore,e.converter,em(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function SE(t,e,n){if(typeof(n=Tt(n))=="string"){if(n==="")throw new K(j.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!mI(e)&&n.indexOf("/")!==-1)throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const i=e.path.child(Ne.fromString(n));if(!J.isDocumentKey(i))throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return Ww(t,new J(i))}if(n instanceof Wt)return Ww(t,n._key);throw new K(j.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(n)}.`)}function xE(t,e){if(!Array.isArray(t)||t.length===0)throw new K(j.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Tk(t,e){const n=function(r,s){for(const o of r)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(j.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(j.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class jL{convertValue(e,n="none"){switch(jr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ze(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Fr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const i={};return qr(e,(r,s)=>{i[r]=this.convertValue(s,n)}),i}convertVectorValue(e){var n,i,r;const s=(r=(i=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||i===void 0?void 0:i.values)===null||r===void 0?void 0:r.map(o=>Ze(o.doubleValue));return new n_(s)}convertGeoPoint(e){return new t_(Ze(e.latitude),Ze(e.longitude))}convertArray(e,n){return(e.values||[]).map(i=>this.convertValue(i,n))}convertServerTimestamp(e,n){switch(n){case"previous":const i=Wd(e);return i==null?null:this.convertValue(i,n);case"estimate":return this.convertTimestamp(Bl(e));default:return null}}convertTimestamp(e){const n=Vr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){const i=Ne.fromString(e);Te(zI(i));const r=new Wl(i.get(1),i.get(3)),s=new J(i.popFirst(5));return r.isEqual(n)||Ui(`Document ${s} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sk(t,e,n){let i;return i=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class xk extends Ek{constructor(e,n,i,r,s,o){super(e,n,i,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const i=this._document.data.field(l_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,n.serverTimestamps)}}}class eh extends xk{data(e={}){return super.data(e)}}class UL{constructor(e,n,i,r){this._firestore=e,this._userDataWriter=n,this._snapshot=r,this.metadata=new Ga(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(i=>{e.call(n,new eh(this._firestore,this._userDataWriter,i.key,i,new Ga(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(j.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(a=>{const l=new eh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ga(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new eh(r._firestore,r._userDataWriter,a.doc.key,a.doc,new Ga(r._snapshot.mutatedKeys.has(a.doc.key),r._snapshot.fromCache),r.query.converter);let u=-1,h=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:zL(a.type),doc:l,oldIndex:u,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function zL(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ik(t){t=ai(t,Wt);const e=ai(t.firestore,ra);return SL(e_(e),t._key).then(n=>WL(e,t,n))}class kk extends jL{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Wt(this.firestore,null,n)}}function of(t){t=ai(t,na);const e=ai(t.firestore,ra),n=e_(e),i=new kk(e);return VL(t._query),xL(n,t._query).then(r=>new UL(e,i,t,r))}function BL(t,e,n){t=ai(t,Wt);const i=ai(t.firestore,ra),r=Sk(t.converter,e,n);return h_(i,[yk(tf(i),"setDoc",t._key,r,t.converter!==null,n).toMutation(t._key,On.none())])}function bk(t,e,n,...i){t=ai(t,Wt);const r=ai(t.firestore,ra),s=tf(r);let o;return o=typeof(e=Tt(e))=="string"||e instanceof ef?ML(s,"updateDoc",t._key,e,n,i):DL(s,"updateDoc",t._key,e),h_(r,[o.toMutation(t._key,On.exists(!0))])}function Pk(t,e){const n=ai(t.firestore,ra),i=Bo(t),r=Sk(t.converter,e);return h_(n,[yk(tf(t.firestore),"addDoc",i._key,r,t.converter!==null,{}).toMutation(i._key,On.exists(!1))]).then(()=>i)}function h_(t,e){return function(i,r){const s=new Di;return i.asyncQueue.enqueueAndForget(async()=>hL(await TL(i),r,s)),s.promise}(e_(t),e)}function WL(t,e,n){const i=n.docs.get(e._key),r=new kk(t);return new xk(t,r,e._key,i,new Ga(n.hasPendingWrites,n.fromCache),e.converter)}function HL(){return new r_("serverTimestamp")}function $L(t){return new s_("increment",t)}(function(e,n=!0){(function(r){Jo=r})(Xo),No(new bs("firestore",(i,{instanceIdentifier:r,options:s})=>{const o=i.getProvider("app").getImmediate(),a=new ra(new UO(i.getProvider("auth-internal")),new HO(i.getProvider("app-check-internal")),function(u,h){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(j.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wl(u.options.projectId,h)}(o,r),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Cr(Vw,"4.7.4",e),Cr(Vw,"4.7.4","esm2017")})();var YL="firebase",qL="11.0.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cr(YL,qL,"app");function d_(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(t,i[r])&&(n[i[r]]=t[i[r]]);return n}function Ck(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GL=Ck,Ak=new gu("auth","Firebase",Ck());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ed=new Ay("@firebase/auth");function KL(t,...e){ed.logLevel<=le.WARN&&ed.warn(`Auth (${Xo}): ${t}`,...e)}function th(t,...e){ed.logLevel<=le.ERROR&&ed.error(`Auth (${Xo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vn(t,...e){throw f_(t,...e)}function ii(t,...e){return f_(t,...e)}function Rk(t,e,n){const i=Object.assign(Object.assign({},GL()),{[e]:n});return new gu("auth","Firebase",i).create(e,{appName:t.name})}function Rr(t){return Rk(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function f_(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return Ak.create(t,...e)}function ee(t,e,...n){if(!t)throw f_(e,...n)}function Ii(t){const e="INTERNAL ASSERTION FAILED: "+t;throw th(e),new Error(e)}function Bi(t,e){t||Ii(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function QL(){return IE()==="http:"||IE()==="https:"}function IE(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QL()||_M()||"connection"in navigator)?navigator.onLine:!0}function JL(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=gM()||vM()}get(){return XL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p_(t,e){Bi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dk{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ii("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ii("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ii("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eV=new xu(3e4,6e4);function Vs(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Kr(t,e,n,i,r={}){return Mk(t,r,async()=>{let s={},o={};i&&(e==="GET"?o=i:s={body:JSON.stringify(i)});const a=mu(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},s);return yM()||(u.referrerPolicy="no-referrer"),Dk.fetch()(Ok(t,t.config.apiHost,n,a),u)})}async function Mk(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},ZL),e);try{const r=new nV(t),s=await Promise.race([n(),r.promise]);r.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw wc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw wc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw wc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw wc(t,"user-disabled",o);const h=i[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw Rk(t,h,u);Vn(t,h)}}catch(r){if(r instanceof $i)throw r;Vn(t,"network-request-failed",{message:String(r)})}}async function af(t,e,n,i,r={}){const s=await Kr(t,e,n,i,r);return"mfaPendingCredential"in s&&Vn(t,"multi-factor-auth-required",{_serverResponse:s}),s}function Ok(t,e,n,i){const r=`${e}${n}?${i}`;return t.config.emulator?p_(t.config,r):`${t.config.apiScheme}://${r}`}function tV(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class nV{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(ii(this.auth,"network-request-failed")),eV.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function wc(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const r=ii(t,e,i);return r.customData._tokenResponse=n,r}function kE(t){return t!==void 0&&t.enterprise!==void 0}class iV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return tV(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rV(t,e){return Kr(t,"GET","/v2/recaptchaConfig",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sV(t,e){return Kr(t,"POST","/v1/accounts:delete",e)}async function Nk(t,e){return Kr(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oV(t,e=!1){const n=Tt(t),i=await n.getIdToken(e),r=g_(i);ee(r&&r.exp&&r.auth_time&&r.iat,n.auth,"internal-error");const s=typeof r.firebase=="object"?r.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:r,token:i,authTime:gl(Ap(r.auth_time)),issuedAtTime:gl(Ap(r.iat)),expirationTime:gl(Ap(r.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Ap(t){return Number(t)*1e3}function g_(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return th("JWT malformed, contained fewer than 3 sections"),null;try{const r=Wx(n);return r?JSON.parse(r):(th("Failed to decode base64 JWT payload"),null)}catch(r){return th("Caught error parsing JWT payload as JSON",r==null?void 0:r.toString()),null}}function bE(t){const e=g_(t);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof $i&&aV(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function aV({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lV{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const r=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=gl(this.lastLoginAt),this.creationTime=gl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(t){var e;const n=t.auth,i=await t.getIdToken(),r=await Ql(t,Nk(n,{idToken:i}));ee(r==null?void 0:r.users.length,n,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?Lk(s.providerUserInfo):[],a=cV(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),h=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new dm(s.createdAt,s.lastLoginAt),isAnonymous:h};Object.assign(t,d)}async function uV(t){const e=Tt(t);await td(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function cV(t,e){return[...t.filter(i=>!e.some(r=>r.providerId===i.providerId)),...e]}function Lk(t){return t.map(e=>{var{providerId:n}=e,i=d_(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hV(t,e){const n=await Mk(t,{},async()=>{const i=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:r,apiKey:s}=t.config,o=Ok(t,r,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Dk.fetch()(o,{method:"POST",headers:a,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function dV(t,e){return Kr(t,"POST","/v2/accounts:revokeToken",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const n=bE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:r,expiresIn:s}=await hV(e,n);this.updateTokensAndExpiration(i,r,Number(s))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:r,expirationTime:s}=n,o=new wo;return i&&(ee(typeof i=="string","internal-error",{appName:e}),o.refreshToken=i),r&&(ee(typeof r=="string","internal-error",{appName:e}),o.accessToken=r),s&&(ee(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new wo,this.toJSON())}_performRefresh(){return Ii("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ji(t,e){ee(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ki{constructor(e){var{uid:n,auth:i,stsTokenManager:r}=e,s=d_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new lV(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new dm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return ee(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oV(this,e)}reload(){return uV(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ki(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await td(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(xi(this.auth.app))return Promise.reject(Rr(this.auth));const e=await this.getIdToken();return await Ql(this,sV(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,r,s,o,a,l,u,h;const d=(i=n.displayName)!==null&&i!==void 0?i:void 0,f=(r=n.email)!==null&&r!==void 0?r:void 0,g=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,T=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,_=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:x,emailVerified:R,isAnonymous:M,providerData:N,stsTokenManager:I}=n;ee(x&&I,e,"internal-error");const E=wo.fromJSON(this.name,I);ee(typeof x=="string",e,"internal-error"),Ji(d,e.name),Ji(f,e.name),ee(typeof R=="boolean",e,"internal-error"),ee(typeof M=="boolean",e,"internal-error"),Ji(g,e.name),Ji(y,e.name),Ji(w,e.name),Ji(T,e.name),Ji(_,e.name),Ji(v,e.name);const k=new ki({uid:x,auth:e,email:f,emailVerified:R,displayName:d,isAnonymous:M,photoURL:y,phoneNumber:g,tenantId:w,stsTokenManager:E,createdAt:_,lastLoginAt:v});return N&&Array.isArray(N)&&(k.providerData=N.map(b=>Object.assign({},b))),T&&(k._redirectEventId=T),k}static async _fromIdTokenResponse(e,n,i=!1){const r=new wo;r.updateFromServerResponse(n);const s=new ki({uid:n.localId,auth:e,stsTokenManager:r,isAnonymous:i});return await td(s),s}static async _fromGetAccountInfoResponse(e,n,i){const r=n.users[0];ee(r.localId!==void 0,"internal-error");const s=r.providerUserInfo!==void 0?Lk(r.providerUserInfo):[],o=!(r.email&&r.passwordHash)&&!(s!=null&&s.length),a=new wo;a.updateFromIdToken(i);const l=new ki({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:s,metadata:new dm(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=new Map;function bi(t){Bi(t instanceof Function,"Expected a class definition");let e=PE.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,PE.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vk{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Vk.type="NONE";const CE=Vk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nh(t,e,n){return`firebase:${t}:${e}:${n}`}class Eo{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:r,name:s}=this.auth;this.fullUserKey=nh(this.userKey,r.apiKey,s),this.fullPersistenceKey=nh("persistence",r.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ki._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Eo(bi(CE),e,i);const r=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=r[0]||bi(CE);const o=nh(i,e.config.apiKey,e.name);let a=null;for(const u of n)try{const h=await u._get(o);if(h){const d=ki._fromJSON(e,h);u!==s&&(a=d),s=u;break}}catch{}const l=r.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Eo(s,e,i):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Eo(s,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zk(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fk(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Wk(e))return"Blackberry";if(Hk(e))return"Webos";if(jk(e))return"Safari";if((e.includes("chrome/")||Uk(e))&&!e.includes("edge/"))return"Chrome";if(Bk(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function Fk(t=Lt()){return/firefox\//i.test(t)}function jk(t=Lt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Uk(t=Lt()){return/crios\//i.test(t)}function zk(t=Lt()){return/iemobile/i.test(t)}function Bk(t=Lt()){return/android/i.test(t)}function Wk(t=Lt()){return/blackberry/i.test(t)}function Hk(t=Lt()){return/webos/i.test(t)}function m_(t=Lt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function fV(t=Lt()){var e;return m_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pV(){return wM()&&document.documentMode===10}function $k(t=Lt()){return m_(t)||Bk(t)||Hk(t)||Wk(t)||/windows phone/i.test(t)||zk(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yk(t,e=[]){let n;switch(t){case"Browser":n=AE(Lt());break;case"Worker":n=`${AE(Lt())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gV{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});i.onAbort=n,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const r of n)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mV(t,e={}){return Kr(t,"GET","/v2/passwordPolicy",Vs(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV=6;class _V{constructor(e){var n,i,r,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:yV,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(r=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&r!==void 0?r:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,r,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(i=l.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(r=l.containsLowercaseLetter)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),r&&(n.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let r=0;r<e.length;r++)i=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,r,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vV{constructor(e,n,i,r){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new RE(this),this.idTokenSubscription=new RE(this),this.beforeStateQueue=new gV(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ak,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=bi(n)),this._initializationPromise=this.queue(async()=>{var i,r;if(!this._deleted&&(this.persistenceManager=await Eo.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((r=this.currentUser)===null||r===void 0?void 0:r.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Nk(this,{idToken:e}),i=await ki._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(i)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(xi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const i=await this.assertedPersistence.getCurrentUser();let r=i,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await td(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(xi(this.app))return Promise.reject(Rr(this));const n=e?Tt(e):null;return n&&ee(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return xi(this.app)?Promise.reject(Rr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return xi(this.app)?Promise.reject(Rr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(bi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await mV(this),n=new _V(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gu("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await dV(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&bi(e)||this._popupRedirectResolver;ee(n,this,"argument-error"),this.redirectPersistenceManager=await Eo.create(this,[bi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,r){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,i,r);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Yk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const r=await this._getAppCheckToken();return r&&(n["X-Firebase-AppCheck"]=r),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&KL(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function sa(t){return Tt(t)}class RE{constructor(e){this.auth=e,this.observer=null,this.addObserver=PM(n=>this.observer=n)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function wV(t){lf=t}function qk(t){return lf.loadJS(t)}function EV(){return lf.recaptchaEnterpriseScript}function TV(){return lf.gapiScript}function SV(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class xV{constructor(){this.enterprise=new IV}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class IV{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const kV="recaptcha-enterprise",Gk="NO_RECAPTCHA";class bV{constructor(e){this.type=kV,this.auth=sa(e)}async verify(e="verify",n=!1){async function i(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{rV(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new iV(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function r(s,o,a){const l=window.grecaptcha;kE(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(Gk)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xV().execute("siteKey",{action:"verify"}):new Promise((s,o)=>{i(this.auth).then(a=>{if(!n&&kE(window.grecaptcha))r(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=EV();l.length!==0&&(l+=a),qk(l).then(()=>{r(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function DE(t,e,n,i=!1,r=!1){const s=new bV(t);let o;if(r)o=Gk;else try{o=await s.verify(n)}catch{o=await s.verify(n,!0)}const a=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,u=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return i?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function ME(t,e,n,i,r){var s;if(!((s=t._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await DE(t,e,n,n==="getOobCode");return i(t,o)}else return i(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await DE(t,e,n,n==="getOobCode");return i(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PV(t,e){const n=Dy(t,"auth");if(n.isInitialized()){const r=n.getImmediate(),s=n.getOptions();if(Hh(s,e??{}))return r;Vn(r,"already-initialized")}return n.initialize({options:e})}function CV(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(bi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}function AV(t,e,n){const i=sa(t);ee(i._canInitEmulator,i,"emulator-config-failed"),ee(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const r=!1,s=Kk(e),{host:o,port:a}=RV(e),l=a===null?"":`:${a}`;i.config.emulator={url:`${s}//${o}${l}/`},i.settings.appVerificationDisabledForTesting=!0,i.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:r})}),DV()}function Kk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function RV(t){const e=Kk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const i=n[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const s=r[1];return{host:s,port:OE(i.substr(s.length+1))}}else{const[s,o]=i.split(":");return{host:s,port:OE(o)}}}function OE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function DV(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ii("not implemented")}_getIdTokenResponse(e){return Ii("not implemented")}_linkToIdToken(e,n){return Ii("not implemented")}_getReauthenticationResolver(e){return Ii("not implemented")}}async function MV(t,e){return Kr(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OV(t,e){return af(t,"POST","/v1/accounts:signInWithPassword",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NV(t,e){return af(t,"POST","/v1/accounts:signInWithEmailLink",Vs(t,e))}async function LV(t,e){return af(t,"POST","/v1/accounts:signInWithEmailLink",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl extends y_{constructor(e,n,i,r=null){super("password",i),this._email=e,this._password=n,this._tenantId=r}static _fromEmailAndPassword(e,n){return new Xl(e,n,"password")}static _fromEmailAndCode(e,n,i=null){return new Xl(e,n,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ME(e,n,"signInWithPassword",OV);case"emailLink":return NV(e,{email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const i={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return ME(e,i,"signUpPassword",MV);case"emailLink":return LV(e,{idToken:n,email:this._email,oobCode:this._password});default:Vn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function To(t,e){return af(t,"POST","/v1/accounts:signInWithIdp",Vs(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="http://localhost";class Cs extends y_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Cs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vn("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:r}=n,s=d_(n,["providerId","signInMethod"]);if(!i||!r)return null;const o=new Cs(i,r);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return To(e,n)}_linkToIdToken(e,n){const i=this.buildRequest();return i.idToken=n,To(e,i)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,To(e,n)}buildRequest(){const e={requestUri:VV,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=mu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FV(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function jV(t){const e=Wa(Ha(t)).link,n=e?Wa(Ha(e)).deep_link_id:null,i=Wa(Ha(t)).deep_link_id;return(i?Wa(Ha(i)).link:null)||i||n||e||t}class __{constructor(e){var n,i,r,s,o,a;const l=Wa(Ha(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,h=(i=l.oobCode)!==null&&i!==void 0?i:null,d=FV((r=l.mode)!==null&&r!==void 0?r:null);ee(u&&h&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=h,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=jV(e);try{return new __(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.providerId=oa.PROVIDER_ID}static credential(e,n){return Xl._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const i=__.parseLink(n);return ee(i,"argument-error"),Xl._fromEmailAndCode(e,i.code,i.tenantId)}}oa.PROVIDER_ID="password";oa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";oa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qk{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu extends Qk{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr extends Iu{constructor(){super("facebook.com")}static credential(e){return Cs._fromParams({providerId:sr.PROVIDER_ID,signInMethod:sr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return sr.credentialFromTaggedObject(e)}static credentialFromError(e){return sr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return sr.credential(e.oauthAccessToken)}catch{return null}}}sr.FACEBOOK_SIGN_IN_METHOD="facebook.com";sr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class or extends Iu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Cs._fromParams({providerId:or.PROVIDER_ID,signInMethod:or.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return or.credentialFromTaggedObject(e)}static credentialFromError(e){return or.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:i}=e;if(!n&&!i)return null;try{return or.credential(n,i)}catch{return null}}}or.GOOGLE_SIGN_IN_METHOD="google.com";or.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ar extends Iu{constructor(){super("github.com")}static credential(e){return Cs._fromParams({providerId:ar.PROVIDER_ID,signInMethod:ar.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ar.credentialFromTaggedObject(e)}static credentialFromError(e){return ar.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ar.credential(e.oauthAccessToken)}catch{return null}}}ar.GITHUB_SIGN_IN_METHOD="github.com";ar.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lr extends Iu{constructor(){super("twitter.com")}static credential(e,n){return Cs._fromParams({providerId:lr.PROVIDER_ID,signInMethod:lr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return lr.credentialFromTaggedObject(e)}static credentialFromError(e){return lr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:i}=e;if(!n||!i)return null;try{return lr.credential(n,i)}catch{return null}}}lr.TWITTER_SIGN_IN_METHOD="twitter.com";lr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ho{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,i,r=!1){const s=await ki._fromIdTokenResponse(e,i,r),o=NE(i);return new Ho({user:s,providerId:o,_tokenResponse:i,operationType:n})}static async _forOperation(e,n,i){await e._updateTokensIfNecessary(i,!0);const r=NE(i);return new Ho({user:e,providerId:r,_tokenResponse:i,operationType:n})}}function NE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd extends $i{constructor(e,n,i,r){var s;super(n.code,n.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,nd.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,n,i,r){return new nd(e,n,i,r)}}function Xk(t,e,n,i){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nd._fromErrorAndOperation(t,s,e,i):s})}async function UV(t,e,n=!1){const i=await Ql(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ho._forOperation(t,"link",i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zV(t,e,n=!1){const{auth:i}=t;if(xi(i.app))return Promise.reject(Rr(i));const r="reauthenticate";try{const s=await Ql(t,Xk(i,r,e,t),n);ee(s.idToken,i,"internal-error");const o=g_(s.idToken);ee(o,i,"internal-error");const{sub:a}=o;return ee(t.uid===a,i,"user-mismatch"),Ho._forOperation(t,r,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vn(i,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jk(t,e,n=!1){if(xi(t.app))return Promise.reject(Rr(t));const i="signIn",r=await Xk(t,i,e),s=await Ho._fromIdTokenResponse(t,i,r);return n||await t._updateCurrentUser(s.user),s}async function BV(t,e){return Jk(sa(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WV(t){const e=sa(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function HV(t,e,n){return xi(t.app)?Promise.reject(Rr(t)):BV(Tt(t),oa.credential(e,n)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&WV(t),i})}function $V(t,e,n,i){return Tt(t).onIdTokenChanged(e,n,i)}function YV(t,e,n){return Tt(t).beforeAuthStateChanged(e,n)}function Zk(t,e,n,i){return Tt(t).onAuthStateChanged(e,n,i)}const id="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(id,"1"),this.storage.removeItem(id),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=1e3,GV=10;class tb extends eb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=$k(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const i=this.storage.getItem(n),r=this.localCache[n];i!==r&&e(n,r,i)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const i=e.key;n?this.detachListener():this.stopPolling();const r=()=>{const o=this.storage.getItem(i);!n&&this.localCache[i]===o||this.notifyListeners(i,o)},s=this.storage.getItem(i);pV()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,GV):r()}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:i}),!0)})},qV)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}tb.type="LOCAL";const KV=tb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb extends eb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}nb.type="SESSION";const ib=nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QV(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(r=>r.isListeningto(e));if(n)return n;const i=new uf(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:i,eventType:r,data:s}=n.data,o=this.handlersMap[r];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await QV(a);n.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}uf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(t="",e=10){let n="";for(let i=0;i<e;i++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XV{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=v_("",20);r.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},i);o={messageChannel:r,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),r.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[r.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(){return window}function JV(t){ri().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){return typeof ri().WorkerGlobalScope<"u"&&typeof ri().importScripts=="function"}async function ZV(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eF(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function tF(){return rb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="firebaseLocalStorageDb",nF=1,rd="firebaseLocalStorage",ob="fbase_key";class ku{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function cf(t,e){return t.transaction([rd],e?"readwrite":"readonly").objectStore(rd)}function iF(){const t=indexedDB.deleteDatabase(sb);return new ku(t).toPromise()}function fm(){const t=indexedDB.open(sb,nF);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const i=t.result;try{i.createObjectStore(rd,{keyPath:ob})}catch(r){n(r)}}),t.addEventListener("success",async()=>{const i=t.result;i.objectStoreNames.contains(rd)?e(i):(i.close(),await iF(),e(await fm()))})})}async function LE(t,e,n){const i=cf(t,!0).put({[ob]:e,value:n});return new ku(i).toPromise()}async function rF(t,e){const n=cf(t,!1).get(e),i=await new ku(n).toPromise();return i===void 0?null:i.value}function VE(t,e){const n=cf(t,!0).delete(e);return new ku(n).toPromise()}const sF=800,oF=3;class ab{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await fm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(n++>oF)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=uf._getInstance(tF()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await ZV(),!this.activeServiceWorker)return;this.sender=new XV(this.activeServiceWorker);const i=await this.sender._send("ping",{},800);i&&!((e=i[0])===null||e===void 0)&&e.fulfilled&&!((n=i[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||eF()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await fm();return await LE(e,id,"1"),await VE(e,id),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(i=>LE(i,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(i=>rF(i,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>VE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(r=>{const s=cf(r,!1).getAll();return new ku(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],i=new Set;if(e.length!==0)for(const{fbase_key:r,value:s}of e)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(s)&&(this.notifyListeners(r,s),n.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),n.push(r));return n}notifyListeners(e,n){this.localCache[e]=n;const i=this.listeners[e];if(i)for(const r of Array.from(i))r(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sF)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}ab.type="LOCAL";const aF=ab;new xu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lF(t,e){return e?bi(e):(ee(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_ extends y_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return To(e,this._buildIdpRequest())}_linkToIdToken(e,n){return To(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return To(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function uF(t){return Jk(t.auth,new w_(t),t.bypassAuthState)}function cF(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),zV(n,new w_(t),t.bypassAuthState)}async function hF(t){const{auth:e,user:n}=t;return ee(n,e,"internal-error"),UV(n,new w_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,n,i,r,s=!1){this.auth=e,this.resolver=i,this.user=r,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:i,postBody:r,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:i,tenantId:s||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return uF;case"linkViaPopup":case"linkViaRedirect":return hF;case"reauthViaPopup":case"reauthViaRedirect":return cF;default:Vn(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dF=new xu(2e3,1e4);class co extends lb{constructor(e,n,i,r,s){super(e,n,r,s),this.provider=i,this.authWindow=null,this.pollId=null,co.currentPopupAction&&co.currentPopupAction.cancel(),co.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){Bi(this.filter.length===1,"Popup operations only handle one event");const e=v_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(ii(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(ii(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,co.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,i;if(!((i=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(ii(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,dF.get())};e()}}co.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fF="pendingRedirect",ih=new Map;class pF extends lb{constructor(e,n,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,i),this.eventId=null}async execute(){let e=ih.get(this.auth._key());if(!e){try{const i=await gF(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(n){e=()=>Promise.reject(n)}ih.set(this.auth._key(),e)}return this.bypassAuthState||ih.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gF(t,e){const n=_F(e),i=yF(t);if(!await i._isAvailable())return!1;const r=await i._get(n)==="true";return await i._remove(n),r}function mF(t,e){ih.set(t._key(),e)}function yF(t){return bi(t._redirectPersistence)}function _F(t){return nh(fF,t.config.apiKey,t.name)}async function vF(t,e,n=!1){if(xi(t.app))return Promise.reject(Rr(t));const i=sa(t),r=lF(i,e),o=await new pF(i,r,n).execute();return o&&!n&&(delete o.user._redirectEventId,await i._persistUserIfCurrent(o.user),await i._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wF=10*60*1e3;class EF{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(n=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!TF(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var i;if(e.error&&!ub(e)){const r=((i=e.error.code)===null||i===void 0?void 0:i.split("auth/")[1])||"internal-error";n.onError(ii(this.auth,r))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const i=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wF&&this.cachedEventUids.clear(),this.cachedEventUids.has(FE(e))}saveEventToCache(e){this.cachedEventUids.add(FE(e)),this.lastProcessedEventTime=Date.now()}}function FE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ub({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function TF(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ub(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SF(t,e={}){return Kr(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xF=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IF=/^https?/;async function kF(t){if(t.config.emulator)return;const{authorizedDomains:e}=await SF(t);for(const n of e)try{if(bF(n))return}catch{}Vn(t,"unauthorized-domain")}function bF(t){const e=hm(),{protocol:n,hostname:i}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&i===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===i}if(!IF.test(n))return!1;if(xF.test(t))return i===t;const r=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PF=new xu(3e4,6e4);function jE(){const t=ri().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function CF(t){return new Promise((e,n)=>{var i,r,s;function o(){jE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jE(),n(ii(t,"network-request-failed"))},timeout:PF.get()})}if(!((r=(i=ri().gapi)===null||i===void 0?void 0:i.iframes)===null||r===void 0)&&r.Iframe)e(gapi.iframes.getContext());else if(!((s=ri().gapi)===null||s===void 0)&&s.load)o();else{const a=SV("iframefcb");return ri()[a]=()=>{gapi.load?o():n(ii(t,"network-request-failed"))},qk(`${TV()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw rh=null,e})}let rh=null;function AF(t){return rh=rh||CF(t),rh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RF=new xu(5e3,15e3),DF="__/auth/iframe",MF="emulator/auth/iframe",OF={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},NF=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LF(t){const e=t.config;ee(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?p_(e,MF):`https://${t.config.authDomain}/${DF}`,i={apiKey:e.apiKey,appName:t.name,v:Xo},r=NF.get(t.config.apiHost);r&&(i.eid=r);const s=t._getFrameworks();return s.length&&(i.fw=s.join(",")),`${n}?${mu(i).slice(1)}`}async function VF(t){const e=await AF(t),n=ri().gapi;return ee(n,t,"internal-error"),e.open({where:document.body,url:LF(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:OF,dontclear:!0},i=>new Promise(async(r,s)=>{await i.restyle({setHideOnLeave:!1});const o=ii(t,"network-request-failed"),a=ri().setTimeout(()=>{s(o)},RF.get());function l(){ri().clearTimeout(a),r(i)}i.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FF={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},jF=500,UF=600,zF="_blank",BF="http://localhost";class UE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function WF(t,e,n,i=jF,r=UF){const s=Math.max((window.screen.availHeight-r)/2,0).toString(),o=Math.max((window.screen.availWidth-i)/2,0).toString();let a="";const l=Object.assign(Object.assign({},FF),{width:i.toString(),height:r.toString(),top:s,left:o}),u=Lt().toLowerCase();n&&(a=Uk(u)?zF:n),Fk(u)&&(e=e||BF,l.scrollbars="yes");const h=Object.entries(l).reduce((f,[g,y])=>`${f}${g}=${y},`,"");if(fV(u)&&a!=="_self")return HF(e||"",a),new UE(null);const d=window.open(e||"",a,h);ee(d,t,"popup-blocked");try{d.focus()}catch{}return new UE(d)}function HF(t,e){const n=document.createElement("a");n.href=t,n.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $F="__/auth/handler",YF="emulator/auth/handler",qF=encodeURIComponent("fac");async function zE(t,e,n,i,r,s){ee(t.config.authDomain,t,"auth-domain-config-required"),ee(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:i,v:Xo,eventId:r};if(e instanceof Qk){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",bM(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,d]of Object.entries({}))o[h]=d}if(e instanceof Iu){const h=e.getScopes().filter(d=>d!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),u=l?`#${qF}=${encodeURIComponent(l)}`:"";return`${GF(t)}?${mu(a).slice(1)}${u}`}function GF({config:t}){return t.emulator?p_(t,YF):`https://${t.authDomain}/${$F}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp="webStorageSupport";class KF{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ib,this._completeRedirectFn=vF,this._overrideRedirectResult=mF}async _openPopup(e,n,i,r){var s;Bi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await zE(e,n,i,hm(),r);return WF(e,o,v_())}async _openRedirect(e,n,i,r){await this._originValidation(e);const s=await zE(e,n,i,hm(),r);return JV(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:r,promise:s}=this.eventManagers[n];return r?Promise.resolve(r):(Bi(s,"If manager is not set, promise should be"),s)}const i=this.initAndGetManager(e);return this.eventManagers[n]={promise:i},i.catch(()=>{delete this.eventManagers[n]}),i}async initAndGetManager(e){const n=await VF(e),i=new EF(e);return n.register("authEvent",r=>(ee(r==null?void 0:r.authEvent,e,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=n,i}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Rp,{type:Rp},r=>{var s;const o=(s=r==null?void 0:r[0])===null||s===void 0?void 0:s[Rp];o!==void 0&&n(!!o),Vn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=kF(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return $k()||jk()||m_()}}const QF=KF;var BE="@firebase/auth",WE="1.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XF{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JF(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ZF(t){No(new bs("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=i.options;ee(o&&!o.includes(":"),"invalid-api-key",{appName:i.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Yk(t)},u=new vV(i,r,s,l);return CV(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),No(new bs("auth-internal",e=>{const n=sa(e.getProvider("auth").getImmediate());return(i=>new XF(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cr(BE,WE,JF(t)),Cr(BE,WE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=5*60,tj=Yx("authIdTokenMaxAge")||ej;let HE=null;const nj=t=>async e=>{const n=e&&await e.getIdTokenResult(),i=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(i&&i>tj)return;const r=n==null?void 0:n.token;HE!==r&&(HE=r,await fetch(t,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function ij(t=Qx()){const e=Dy(t,"auth");if(e.isInitialized())return e.getImmediate();const n=PV(t,{popupRedirectResolver:QF,persistence:[aF,KV,ib]}),i=Yx("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(i,location.origin);if(location.origin===s.origin){const o=nj(s.toString());YV(n,o,()=>o(n.currentUser)),$V(n,a=>o(a))}}const r=Hx("auth");return r&&AV(n,`http://${r}`),n}function rj(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}wV({loadJS(t){return new Promise((e,n)=>{const i=document.createElement("script");i.setAttribute("src",t),i.onload=e,i.onerror=r=>{const s=ii("internal-error");s.customData=r,n(s)},i.type="text/javascript",i.charset="UTF-8",rj().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ZF("Browser");const sj={apiKey:"AIzaSyAkurzHbySFHJsi3RaHLVPH3bOqEAf9izc",authDomain:"expense-calc-faac9.firebaseapp.com",projectId:"expense-calc-faac9",storageBucket:"expense-calc-faac9.appspot.com",messagingSenderId:"695779095775",appId:"1:695779095775:web:51ed9256dce9635d7f256a"},cb=Kx(sj),Fn=bL(cb),Bn=ij(cb),oj=()=>{const[t,e]=V.useState([]);return V.useEffect(()=>{(async()=>{var a;const i=(a=Bn.currentUser)==null?void 0:a.uid;if(!i)return;const r=rf(ia(Fn,"expenses"),Kl("userId","==",i)),o=(await of(r)).docs.map(l=>({id:l.id,...l.data()}));e(o)})()},[]),A.jsxs("div",{children:[A.jsx("h2",{children:"Expenses List"}),A.jsx("ul",{children:t.map(n=>A.jsxs("li",{children:[n.name,": $",n.amount]},n.id))})]})};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var hb;function H(){return hb.apply(null,arguments)}function aj(t){hb=t}function jn(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function _s(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function _e(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function E_(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(_e(t,e))return!1;return!0}function qt(t){return t===void 0}function Wi(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function bu(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function db(t,e){var n=[],i,r=t.length;for(i=0;i<r;++i)n.push(e(t[i],i));return n}function fr(t,e){for(var n in e)_e(e,n)&&(t[n]=e[n]);return _e(e,"toString")&&(t.toString=e.toString),_e(e,"valueOf")&&(t.valueOf=e.valueOf),t}function ui(t,e,n,i){return Nb(t,e,n,i,!0).utc()}function lj(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function re(t){return t._pf==null&&(t._pf=lj()),t._pf}var pm;Array.prototype.some?pm=Array.prototype.some:pm=function(t){var e=Object(this),n=e.length>>>0,i;for(i=0;i<n;i++)if(i in e&&t.call(this,e[i],i,e))return!0;return!1};function T_(t){var e=null,n=!1,i=t._d&&!isNaN(t._d.getTime());if(i&&(e=re(t),n=pm.call(e.parsedDateParts,function(r){return r!=null}),i=e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n),t._strict&&(i=i&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=i;else return i;return t._isValid}function hf(t){var e=ui(NaN);return t!=null?fr(re(e),t):re(e).userInvalidated=!0,e}var $E=H.momentProperties=[],Dp=!1;function S_(t,e){var n,i,r,s=$E.length;if(qt(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),qt(e._i)||(t._i=e._i),qt(e._f)||(t._f=e._f),qt(e._l)||(t._l=e._l),qt(e._strict)||(t._strict=e._strict),qt(e._tzm)||(t._tzm=e._tzm),qt(e._isUTC)||(t._isUTC=e._isUTC),qt(e._offset)||(t._offset=e._offset),qt(e._pf)||(t._pf=re(e)),qt(e._locale)||(t._locale=e._locale),s>0)for(n=0;n<s;n++)i=$E[n],r=e[i],qt(r)||(t[i]=r);return t}function Pu(t){S_(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Dp===!1&&(Dp=!0,H.updateOffset(this),Dp=!1)}function Un(t){return t instanceof Pu||t!=null&&t._isAMomentObject!=null}function fb(t){H.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Sn(t,e){var n=!0;return fr(function(){if(H.deprecationHandler!=null&&H.deprecationHandler(null,t),n){var i=[],r,s,o,a=arguments.length;for(s=0;s<a;s++){if(r="",typeof arguments[s]=="object"){r+=`
[`+s+"] ";for(o in arguments[0])_e(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[s];i.push(r)}fb(t+`
Arguments: `+Array.prototype.slice.call(i).join("")+`
`+new Error().stack),n=!1}return e.apply(this,arguments)},e)}var YE={};function pb(t,e){H.deprecationHandler!=null&&H.deprecationHandler(t,e),YE[t]||(fb(e),YE[t]=!0)}H.suppressDeprecationWarnings=!1;H.deprecationHandler=null;function ci(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function uj(t){var e,n;for(n in t)_e(t,n)&&(e=t[n],ci(e)?this[n]=e:this["_"+n]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function gm(t,e){var n=fr({},t),i;for(i in e)_e(e,i)&&(_s(t[i])&&_s(e[i])?(n[i]={},fr(n[i],t[i]),fr(n[i],e[i])):e[i]!=null?n[i]=e[i]:delete n[i]);for(i in t)_e(t,i)&&!_e(e,i)&&_s(t[i])&&(n[i]=fr({},n[i]));return n}function x_(t){t!=null&&this.set(t)}var mm;Object.keys?mm=Object.keys:mm=function(t){var e,n=[];for(e in t)_e(t,e)&&n.push(e);return n};var cj={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function hj(t,e,n){var i=this._calendar[t]||this._calendar.sameElse;return ci(i)?i.call(e,n):i}function li(t,e,n){var i=""+Math.abs(t),r=e-i.length,s=t>=0;return(s?n?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+i}var I_=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Ec=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Mp={},So={};function X(t,e,n,i){var r=i;typeof i=="string"&&(r=function(){return this[i]()}),t&&(So[t]=r),e&&(So[e[0]]=function(){return li(r.apply(this,arguments),e[1],e[2])}),n&&(So[n]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function dj(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function fj(t){var e=t.match(I_),n,i;for(n=0,i=e.length;n<i;n++)So[e[n]]?e[n]=So[e[n]]:e[n]=dj(e[n]);return function(r){var s="",o;for(o=0;o<i;o++)s+=ci(e[o])?e[o].call(r,t):e[o];return s}}function sh(t,e){return t.isValid()?(e=gb(e,t.localeData()),Mp[e]=Mp[e]||fj(e),Mp[e](t)):t.localeData().invalidDate()}function gb(t,e){var n=5;function i(r){return e.longDateFormat(r)||r}for(Ec.lastIndex=0;n>=0&&Ec.test(t);)t=t.replace(Ec,i),Ec.lastIndex=0,n-=1;return t}var pj={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function gj(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.match(I_).map(function(i){return i==="MMMM"||i==="MM"||i==="DD"||i==="dddd"?i.slice(1):i}).join(""),this._longDateFormat[t])}var mj="Invalid date";function yj(){return this._invalidDate}var _j="%d",vj=/\d{1,2}/;function wj(t){return this._ordinal.replace("%d",t)}var Ej={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Tj(t,e,n,i){var r=this._relativeTime[n];return ci(r)?r(t,e,n,i):r.replace(/%d/i,t)}function Sj(t,e){var n=this._relativeTime[t>0?"future":"past"];return ci(n)?n(e):n.replace(/%s/i,e)}var qE={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function xn(t){return typeof t=="string"?qE[t]||qE[t.toLowerCase()]:void 0}function k_(t){var e={},n,i;for(i in t)_e(t,i)&&(n=xn(i),n&&(e[n]=t[i]));return e}var xj={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function Ij(t){var e=[],n;for(n in t)_e(t,n)&&e.push({unit:n,priority:xj[n]});return e.sort(function(i,r){return i.priority-r.priority}),e}var mb=/\d/,fn=/\d\d/,yb=/\d{3}/,b_=/\d{4}/,df=/[+-]?\d{6}/,Fe=/\d\d?/,_b=/\d\d\d\d?/,vb=/\d\d\d\d\d\d?/,ff=/\d{1,3}/,P_=/\d{1,4}/,pf=/[+-]?\d{1,6}/,aa=/\d+/,gf=/[+-]?\d+/,kj=/Z|[+-]\d\d:?\d\d/gi,mf=/Z|[+-]\d\d(?::?\d\d)?/gi,bj=/[+-]?\d+(\.\d{1,3})?/,Cu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,la=/^[1-9]\d?/,C_=/^([1-9]\d|\d)/,sd;sd={};function q(t,e,n){sd[t]=ci(e)?e:function(i,r){return i&&n?n:e}}function Pj(t,e){return _e(sd,t)?sd[t](e._strict,e._locale):new RegExp(Cj(t))}function Cj(t){return Mi(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,n,i,r,s){return n||i||r||s}))}function Mi(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function yn(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function ce(t){var e=+t,n=0;return e!==0&&isFinite(e)&&(n=yn(e)),n}var ym={};function be(t,e){var n,i=e,r;for(typeof t=="string"&&(t=[t]),Wi(e)&&(i=function(s,o){o[e]=ce(s)}),r=t.length,n=0;n<r;n++)ym[t[n]]=i}function Au(t,e){be(t,function(n,i,r,s){r._w=r._w||{},e(n,r._w,r,s)})}function Aj(t,e,n){e!=null&&_e(ym,t)&&ym[t](e,n._a,n,t)}function yf(t){return t%4===0&&t%100!==0||t%400===0}var Ot=0,Pi=1,Qn=2,at=3,Rn=4,Ci=5,ps=6,Rj=7,Dj=8;X("Y",0,0,function(){var t=this.year();return t<=9999?li(t,4):"+"+t});X(0,["YY",2],0,function(){return this.year()%100});X(0,["YYYY",4],0,"year");X(0,["YYYYY",5],0,"year");X(0,["YYYYYY",6,!0],0,"year");q("Y",gf);q("YY",Fe,fn);q("YYYY",P_,b_);q("YYYYY",pf,df);q("YYYYYY",pf,df);be(["YYYYY","YYYYYY"],Ot);be("YYYY",function(t,e){e[Ot]=t.length===2?H.parseTwoDigitYear(t):ce(t)});be("YY",function(t,e){e[Ot]=H.parseTwoDigitYear(t)});be("Y",function(t,e){e[Ot]=parseInt(t,10)});function ml(t){return yf(t)?366:365}H.parseTwoDigitYear=function(t){return ce(t)+(ce(t)>68?1900:2e3)};var wb=ua("FullYear",!0);function Mj(){return yf(this.year())}function ua(t,e){return function(n){return n!=null?(Eb(this,t,n),H.updateOffset(this,e),this):Jl(this,t)}}function Jl(t,e){if(!t.isValid())return NaN;var n=t._d,i=t._isUTC;switch(e){case"Milliseconds":return i?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return i?n.getUTCSeconds():n.getSeconds();case"Minutes":return i?n.getUTCMinutes():n.getMinutes();case"Hours":return i?n.getUTCHours():n.getHours();case"Date":return i?n.getUTCDate():n.getDate();case"Day":return i?n.getUTCDay():n.getDay();case"Month":return i?n.getUTCMonth():n.getMonth();case"FullYear":return i?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Eb(t,e,n){var i,r,s,o,a;if(!(!t.isValid()||isNaN(n))){switch(i=t._d,r=t._isUTC,e){case"Milliseconds":return void(r?i.setUTCMilliseconds(n):i.setMilliseconds(n));case"Seconds":return void(r?i.setUTCSeconds(n):i.setSeconds(n));case"Minutes":return void(r?i.setUTCMinutes(n):i.setMinutes(n));case"Hours":return void(r?i.setUTCHours(n):i.setHours(n));case"Date":return void(r?i.setUTCDate(n):i.setDate(n));case"FullYear":break;default:return}s=n,o=t.month(),a=t.date(),a=a===29&&o===1&&!yf(s)?28:a,r?i.setUTCFullYear(s,o,a):i.setFullYear(s,o,a)}}function Oj(t){return t=xn(t),ci(this[t])?this[t]():this}function Nj(t,e){if(typeof t=="object"){t=k_(t);var n=Ij(t),i,r=n.length;for(i=0;i<r;i++)this[n[i].unit](t[n[i].unit])}else if(t=xn(t),ci(this[t]))return this[t](e);return this}function Lj(t,e){return(t%e+e)%e}var Je;Array.prototype.indexOf?Je=Array.prototype.indexOf:Je=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function A_(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=Lj(e,12);return t+=(e-n)/12,n===1?yf(t)?29:28:31-n%7%2}X("M",["MM",2],"Mo",function(){return this.month()+1});X("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});X("MMMM",0,0,function(t){return this.localeData().months(this,t)});q("M",Fe,la);q("MM",Fe,fn);q("MMM",function(t,e){return e.monthsShortRegex(t)});q("MMMM",function(t,e){return e.monthsRegex(t)});be(["M","MM"],function(t,e){e[Pi]=ce(t)-1});be(["MMM","MMMM"],function(t,e,n,i){var r=n._locale.monthsParse(t,i,n._strict);r!=null?e[Pi]=r:re(n).invalidMonth=t});var Vj="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),Tb="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Sb=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Fj=Cu,jj=Cu;function Uj(t,e){return t?jn(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Sb).test(e)?"format":"standalone"][t.month()]:jn(this._months)?this._months:this._months.standalone}function zj(t,e){return t?jn(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Sb.test(e)?"format":"standalone"][t.month()]:jn(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function Bj(t,e,n){var i,r,s,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],i=0;i<12;++i)s=ui([2e3,i]),this._shortMonthsParse[i]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[i]=this.months(s,"").toLocaleLowerCase();return n?e==="MMM"?(r=Je.call(this._shortMonthsParse,o),r!==-1?r:null):(r=Je.call(this._longMonthsParse,o),r!==-1?r:null):e==="MMM"?(r=Je.call(this._shortMonthsParse,o),r!==-1?r:(r=Je.call(this._longMonthsParse,o),r!==-1?r:null)):(r=Je.call(this._longMonthsParse,o),r!==-1?r:(r=Je.call(this._shortMonthsParse,o),r!==-1?r:null))}function Wj(t,e,n){var i,r,s;if(this._monthsParseExact)return Bj.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;i<12;i++){if(r=ui([2e3,i]),n&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!n&&!this._monthsParse[i]&&(s="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[i]=new RegExp(s.replace(".",""),"i")),n&&e==="MMMM"&&this._longMonthsParse[i].test(t))return i;if(n&&e==="MMM"&&this._shortMonthsParse[i].test(t))return i;if(!n&&this._monthsParse[i].test(t))return i}}function xb(t,e){if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=ce(e);else if(e=t.localeData().monthsParse(e),!Wi(e))return t}var n=e,i=t.date();return i=i<29?i:Math.min(i,A_(t.year(),n)),t._isUTC?t._d.setUTCMonth(n,i):t._d.setMonth(n,i),t}function Ib(t){return t!=null?(xb(this,t),H.updateOffset(this,!0),this):Jl(this,"Month")}function Hj(){return A_(this.year(),this.month())}function $j(t){return this._monthsParseExact?(_e(this,"_monthsRegex")||kb.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(_e(this,"_monthsShortRegex")||(this._monthsShortRegex=Fj),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function Yj(t){return this._monthsParseExact?(_e(this,"_monthsRegex")||kb.call(this),t?this._monthsStrictRegex:this._monthsRegex):(_e(this,"_monthsRegex")||(this._monthsRegex=jj),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function kb(){function t(l,u){return u.length-l.length}var e=[],n=[],i=[],r,s,o,a;for(r=0;r<12;r++)s=ui([2e3,r]),o=Mi(this.monthsShort(s,"")),a=Mi(this.months(s,"")),e.push(o),n.push(a),i.push(a),i.push(o);e.sort(t),n.sort(t),i.sort(t),this._monthsRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}function qj(t,e,n,i,r,s,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,n,i,r,s,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,n,i,r,s,o),a}function Zl(t){var e,n;return t<100&&t>=0?(n=Array.prototype.slice.call(arguments),n[0]=t+400,e=new Date(Date.UTC.apply(null,n)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function od(t,e,n){var i=7+e-n,r=(7+Zl(t,0,i).getUTCDay()-e)%7;return-r+i-1}function bb(t,e,n,i,r){var s=(7+n-i)%7,o=od(t,i,r),a=1+7*(e-1)+s+o,l,u;return a<=0?(l=t-1,u=ml(l)+a):a>ml(t)?(l=t+1,u=a-ml(t)):(l=t,u=a),{year:l,dayOfYear:u}}function eu(t,e,n){var i=od(t.year(),e,n),r=Math.floor((t.dayOfYear()-i-1)/7)+1,s,o;return r<1?(o=t.year()-1,s=r+Oi(o,e,n)):r>Oi(t.year(),e,n)?(s=r-Oi(t.year(),e,n),o=t.year()+1):(o=t.year(),s=r),{week:s,year:o}}function Oi(t,e,n){var i=od(t,e,n),r=od(t+1,e,n);return(ml(t)-i+r)/7}X("w",["ww",2],"wo","week");X("W",["WW",2],"Wo","isoWeek");q("w",Fe,la);q("ww",Fe,fn);q("W",Fe,la);q("WW",Fe,fn);Au(["w","ww","W","WW"],function(t,e,n,i){e[i.substr(0,1)]=ce(t)});function Gj(t){return eu(t,this._week.dow,this._week.doy).week}var Kj={dow:0,doy:6};function Qj(){return this._week.dow}function Xj(){return this._week.doy}function Jj(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Zj(t){var e=eu(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}X("d",0,"do","day");X("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});X("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});X("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});X("e",0,0,"weekday");X("E",0,0,"isoWeekday");q("d",Fe);q("e",Fe);q("E",Fe);q("dd",function(t,e){return e.weekdaysMinRegex(t)});q("ddd",function(t,e){return e.weekdaysShortRegex(t)});q("dddd",function(t,e){return e.weekdaysRegex(t)});Au(["dd","ddd","dddd"],function(t,e,n,i){var r=n._locale.weekdaysParse(t,i,n._strict);r!=null?e.d=r:re(n).invalidWeekday=t});Au(["d","e","E"],function(t,e,n,i){e[i]=ce(t)});function eU(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function tU(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function R_(t,e){return t.slice(e,7).concat(t.slice(0,e))}var nU="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Pb="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),iU="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),rU=Cu,sU=Cu,oU=Cu;function aU(t,e){var n=jn(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?R_(n,this._week.dow):t?n[t.day()]:n}function lU(t){return t===!0?R_(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function uU(t){return t===!0?R_(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function cU(t,e,n){var i,r,s,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],i=0;i<7;++i)s=ui([2e3,1]).day(i),this._minWeekdaysParse[i]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[i]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[i]=this.weekdays(s,"").toLocaleLowerCase();return n?e==="dddd"?(r=Je.call(this._weekdaysParse,o),r!==-1?r:null):e==="ddd"?(r=Je.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=Je.call(this._minWeekdaysParse,o),r!==-1?r:null):e==="dddd"?(r=Je.call(this._weekdaysParse,o),r!==-1||(r=Je.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=Je.call(this._minWeekdaysParse,o),r!==-1?r:null)):e==="ddd"?(r=Je.call(this._shortWeekdaysParse,o),r!==-1||(r=Je.call(this._weekdaysParse,o),r!==-1)?r:(r=Je.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=Je.call(this._minWeekdaysParse,o),r!==-1||(r=Je.call(this._weekdaysParse,o),r!==-1)?r:(r=Je.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function hU(t,e,n){var i,r,s;if(this._weekdaysParseExact)return cU.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),i=0;i<7;i++){if(r=ui([2e3,1]).day(i),n&&!this._fullWeekdaysParse[i]&&(this._fullWeekdaysParse[i]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[i]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[i]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[i]||(s="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[i]=new RegExp(s.replace(".",""),"i")),n&&e==="dddd"&&this._fullWeekdaysParse[i].test(t))return i;if(n&&e==="ddd"&&this._shortWeekdaysParse[i].test(t))return i;if(n&&e==="dd"&&this._minWeekdaysParse[i].test(t))return i;if(!n&&this._weekdaysParse[i].test(t))return i}}function dU(t){if(!this.isValid())return t!=null?this:NaN;var e=Jl(this,"Day");return t!=null?(t=eU(t,this.localeData()),this.add(t-e,"d")):e}function fU(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function pU(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=tU(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function gU(t){return this._weekdaysParseExact?(_e(this,"_weekdaysRegex")||D_.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(_e(this,"_weekdaysRegex")||(this._weekdaysRegex=rU),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function mU(t){return this._weekdaysParseExact?(_e(this,"_weekdaysRegex")||D_.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(_e(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=sU),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function yU(t){return this._weekdaysParseExact?(_e(this,"_weekdaysRegex")||D_.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(_e(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=oU),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function D_(){function t(h,d){return d.length-h.length}var e=[],n=[],i=[],r=[],s,o,a,l,u;for(s=0;s<7;s++)o=ui([2e3,1]).day(s),a=Mi(this.weekdaysMin(o,"")),l=Mi(this.weekdaysShort(o,"")),u=Mi(this.weekdays(o,"")),e.push(a),n.push(l),i.push(u),r.push(a),r.push(l),r.push(u);e.sort(t),n.sort(t),i.sort(t),r.sort(t),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function M_(){return this.hours()%12||12}function _U(){return this.hours()||24}X("H",["HH",2],0,"hour");X("h",["hh",2],0,M_);X("k",["kk",2],0,_U);X("hmm",0,0,function(){return""+M_.apply(this)+li(this.minutes(),2)});X("hmmss",0,0,function(){return""+M_.apply(this)+li(this.minutes(),2)+li(this.seconds(),2)});X("Hmm",0,0,function(){return""+this.hours()+li(this.minutes(),2)});X("Hmmss",0,0,function(){return""+this.hours()+li(this.minutes(),2)+li(this.seconds(),2)});function Cb(t,e){X(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}Cb("a",!0);Cb("A",!1);function Ab(t,e){return e._meridiemParse}q("a",Ab);q("A",Ab);q("H",Fe,C_);q("h",Fe,la);q("k",Fe,la);q("HH",Fe,fn);q("hh",Fe,fn);q("kk",Fe,fn);q("hmm",_b);q("hmmss",vb);q("Hmm",_b);q("Hmmss",vb);be(["H","HH"],at);be(["k","kk"],function(t,e,n){var i=ce(t);e[at]=i===24?0:i});be(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t});be(["h","hh"],function(t,e,n){e[at]=ce(t),re(n).bigHour=!0});be("hmm",function(t,e,n){var i=t.length-2;e[at]=ce(t.substr(0,i)),e[Rn]=ce(t.substr(i)),re(n).bigHour=!0});be("hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[at]=ce(t.substr(0,i)),e[Rn]=ce(t.substr(i,2)),e[Ci]=ce(t.substr(r)),re(n).bigHour=!0});be("Hmm",function(t,e,n){var i=t.length-2;e[at]=ce(t.substr(0,i)),e[Rn]=ce(t.substr(i))});be("Hmmss",function(t,e,n){var i=t.length-4,r=t.length-2;e[at]=ce(t.substr(0,i)),e[Rn]=ce(t.substr(i,2)),e[Ci]=ce(t.substr(r))});function vU(t){return(t+"").toLowerCase().charAt(0)==="p"}var wU=/[ap]\.?m?\.?/i,EU=ua("Hours",!0);function TU(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}var Rb={calendar:cj,longDateFormat:pj,invalidDate:mj,ordinal:_j,dayOfMonthOrdinalParse:vj,relativeTime:Ej,months:Vj,monthsShort:Tb,week:Kj,weekdays:nU,weekdaysMin:iU,weekdaysShort:Pb,meridiemParse:wU},je={},Da={},tu;function SU(t,e){var n,i=Math.min(t.length,e.length);for(n=0;n<i;n+=1)if(t[n]!==e[n])return n;return i}function GE(t){return t&&t.toLowerCase().replace("_","-")}function xU(t){for(var e=0,n,i,r,s;e<t.length;){for(s=GE(t[e]).split("-"),n=s.length,i=GE(t[e+1]),i=i?i.split("-"):null;n>0;){if(r=_f(s.slice(0,n).join("-")),r)return r;if(i&&i.length>=n&&SU(s,i)>=n-1)break;n--}e++}return tu}function IU(t){return!!(t&&t.match("^[^/\\\\]*$"))}function _f(t){var e=null,n;if(je[t]===void 0&&typeof ph<"u"&&ph&&ph.exports&&IU(t))try{e=tu._abbr,n=require,n("./locale/"+t),Dr(e)}catch{je[t]=null}return je[t]}function Dr(t,e){var n;return t&&(qt(e)?n=Yi(t):n=O_(t,e),n?tu=n:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),tu._abbr}function O_(t,e){if(e!==null){var n,i=Rb;if(e.abbr=t,je[t]!=null)pb("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=je[t]._config;else if(e.parentLocale!=null)if(je[e.parentLocale]!=null)i=je[e.parentLocale]._config;else if(n=_f(e.parentLocale),n!=null)i=n._config;else return Da[e.parentLocale]||(Da[e.parentLocale]=[]),Da[e.parentLocale].push({name:t,config:e}),null;return je[t]=new x_(gm(i,e)),Da[t]&&Da[t].forEach(function(r){O_(r.name,r.config)}),Dr(t),je[t]}else return delete je[t],null}function kU(t,e){if(e!=null){var n,i,r=Rb;je[t]!=null&&je[t].parentLocale!=null?je[t].set(gm(je[t]._config,e)):(i=_f(t),i!=null&&(r=i._config),e=gm(r,e),i==null&&(e.abbr=t),n=new x_(e),n.parentLocale=je[t],je[t]=n),Dr(t)}else je[t]!=null&&(je[t].parentLocale!=null?(je[t]=je[t].parentLocale,t===Dr()&&Dr(t)):je[t]!=null&&delete je[t]);return je[t]}function Yi(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return tu;if(!jn(t)){if(e=_f(t),e)return e;t=[t]}return xU(t)}function bU(){return mm(je)}function N_(t){var e,n=t._a;return n&&re(t).overflow===-2&&(e=n[Pi]<0||n[Pi]>11?Pi:n[Qn]<1||n[Qn]>A_(n[Ot],n[Pi])?Qn:n[at]<0||n[at]>24||n[at]===24&&(n[Rn]!==0||n[Ci]!==0||n[ps]!==0)?at:n[Rn]<0||n[Rn]>59?Rn:n[Ci]<0||n[Ci]>59?Ci:n[ps]<0||n[ps]>999?ps:-1,re(t)._overflowDayOfYear&&(e<Ot||e>Qn)&&(e=Qn),re(t)._overflowWeeks&&e===-1&&(e=Rj),re(t)._overflowWeekday&&e===-1&&(e=Dj),re(t).overflow=e),t}var PU=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,CU=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,AU=/Z|[+-]\d\d(?::?\d\d)?/,Tc=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Op=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],RU=/^\/?Date\((-?\d+)/i,DU=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,MU={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function Db(t){var e,n,i=t._i,r=PU.exec(i)||CU.exec(i),s,o,a,l,u=Tc.length,h=Op.length;if(r){for(re(t).iso=!0,e=0,n=u;e<n;e++)if(Tc[e][1].exec(r[1])){o=Tc[e][0],s=Tc[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(r[3]){for(e=0,n=h;e<n;e++)if(Op[e][1].exec(r[3])){a=(r[2]||" ")+Op[e][0];break}if(a==null){t._isValid=!1;return}}if(!s&&a!=null){t._isValid=!1;return}if(r[4])if(AU.exec(r[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),V_(t)}else t._isValid=!1}function OU(t,e,n,i,r,s){var o=[NU(t),Tb.indexOf(e),parseInt(n,10),parseInt(i,10),parseInt(r,10)];return s&&o.push(parseInt(s,10)),o}function NU(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function LU(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function VU(t,e,n){if(t){var i=Pb.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(i!==r)return re(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function FU(t,e,n){if(t)return MU[t];if(e)return 0;var i=parseInt(n,10),r=i%100,s=(i-r)/100;return s*60+r}function Mb(t){var e=DU.exec(LU(t._i)),n;if(e){if(n=OU(e[4],e[3],e[2],e[5],e[6],e[7]),!VU(e[1],n,t))return;t._a=n,t._tzm=FU(e[8],e[9],e[10]),t._d=Zl.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),re(t).rfc2822=!0}else t._isValid=!1}function jU(t){var e=RU.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(Db(t),t._isValid===!1)delete t._isValid;else return;if(Mb(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:H.createFromInputFallback(t)}H.createFromInputFallback=Sn("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function Xs(t,e,n){return t??e??n}function UU(t){var e=new Date(H.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function L_(t){var e,n,i=[],r,s,o;if(!t._d){for(r=UU(t),t._w&&t._a[Qn]==null&&t._a[Pi]==null&&zU(t),t._dayOfYear!=null&&(o=Xs(t._a[Ot],r[Ot]),(t._dayOfYear>ml(o)||t._dayOfYear===0)&&(re(t)._overflowDayOfYear=!0),n=Zl(o,0,t._dayOfYear),t._a[Pi]=n.getUTCMonth(),t._a[Qn]=n.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=i[e]=r[e];for(;e<7;e++)t._a[e]=i[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[at]===24&&t._a[Rn]===0&&t._a[Ci]===0&&t._a[ps]===0&&(t._nextDay=!0,t._a[at]=0),t._d=(t._useUTC?Zl:qj).apply(null,i),s=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[at]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==s&&(re(t).weekdayMismatch=!0)}}function zU(t){var e,n,i,r,s,o,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(s=1,o=4,n=Xs(e.GG,t._a[Ot],eu(Ve(),1,4).year),i=Xs(e.W,1),r=Xs(e.E,1),(r<1||r>7)&&(l=!0)):(s=t._locale._week.dow,o=t._locale._week.doy,u=eu(Ve(),s,o),n=Xs(e.gg,t._a[Ot],u.year),i=Xs(e.w,u.week),e.d!=null?(r=e.d,(r<0||r>6)&&(l=!0)):e.e!=null?(r=e.e+s,(e.e<0||e.e>6)&&(l=!0)):r=s),i<1||i>Oi(n,s,o)?re(t)._overflowWeeks=!0:l!=null?re(t)._overflowWeekday=!0:(a=bb(n,i,r,s,o),t._a[Ot]=a.year,t._dayOfYear=a.dayOfYear)}H.ISO_8601=function(){};H.RFC_2822=function(){};function V_(t){if(t._f===H.ISO_8601){Db(t);return}if(t._f===H.RFC_2822){Mb(t);return}t._a=[],re(t).empty=!0;var e=""+t._i,n,i,r,s,o,a=e.length,l=0,u,h;for(r=gb(t._f,t._locale).match(I_)||[],h=r.length,n=0;n<h;n++)s=r[n],i=(e.match(Pj(s,t))||[])[0],i&&(o=e.substr(0,e.indexOf(i)),o.length>0&&re(t).unusedInput.push(o),e=e.slice(e.indexOf(i)+i.length),l+=i.length),So[s]?(i?re(t).empty=!1:re(t).unusedTokens.push(s),Aj(s,i,t)):t._strict&&!i&&re(t).unusedTokens.push(s);re(t).charsLeftOver=a-l,e.length>0&&re(t).unusedInput.push(e),t._a[at]<=12&&re(t).bigHour===!0&&t._a[at]>0&&(re(t).bigHour=void 0),re(t).parsedDateParts=t._a.slice(0),re(t).meridiem=t._meridiem,t._a[at]=BU(t._locale,t._a[at],t._meridiem),u=re(t).era,u!==null&&(t._a[Ot]=t._locale.erasConvertYear(u,t._a[Ot])),L_(t),N_(t)}function BU(t,e,n){var i;return n==null?e:t.meridiemHour!=null?t.meridiemHour(e,n):(t.isPM!=null&&(i=t.isPM(n),i&&e<12&&(e+=12),!i&&e===12&&(e=0)),e)}function WU(t){var e,n,i,r,s,o,a=!1,l=t._f.length;if(l===0){re(t).invalidFormat=!0,t._d=new Date(NaN);return}for(r=0;r<l;r++)s=0,o=!1,e=S_({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[r],V_(e),T_(e)&&(o=!0),s+=re(e).charsLeftOver,s+=re(e).unusedTokens.length*10,re(e).score=s,a?s<i&&(i=s,n=e):(i==null||s<i||o)&&(i=s,n=e,o&&(a=!0));fr(t,n||e)}function HU(t){if(!t._d){var e=k_(t._i),n=e.day===void 0?e.date:e.day;t._a=db([e.year,e.month,n,e.hour,e.minute,e.second,e.millisecond],function(i){return i&&parseInt(i,10)}),L_(t)}}function $U(t){var e=new Pu(N_(Ob(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Ob(t){var e=t._i,n=t._f;return t._locale=t._locale||Yi(t._l),e===null||n===void 0&&e===""?hf({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Un(e)?new Pu(N_(e)):(bu(e)?t._d=e:jn(n)?WU(t):n?V_(t):YU(t),T_(t)||(t._d=null),t))}function YU(t){var e=t._i;qt(e)?t._d=new Date(H.now()):bu(e)?t._d=new Date(e.valueOf()):typeof e=="string"?jU(t):jn(e)?(t._a=db(e.slice(0),function(n){return parseInt(n,10)}),L_(t)):_s(e)?HU(t):Wi(e)?t._d=new Date(e):H.createFromInputFallback(t)}function Nb(t,e,n,i,r){var s={};return(e===!0||e===!1)&&(i=e,e=void 0),(n===!0||n===!1)&&(i=n,n=void 0),(_s(t)&&E_(t)||jn(t)&&t.length===0)&&(t=void 0),s._isAMomentObject=!0,s._useUTC=s._isUTC=r,s._l=n,s._i=t,s._f=e,s._strict=i,$U(s)}function Ve(t,e,n,i){return Nb(t,e,n,i,!1)}var qU=Sn("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ve.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:hf()}),GU=Sn("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ve.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:hf()});function Lb(t,e){var n,i;if(e.length===1&&jn(e[0])&&(e=e[0]),!e.length)return Ve();for(n=e[0],i=1;i<e.length;++i)(!e[i].isValid()||e[i][t](n))&&(n=e[i]);return n}function KU(){var t=[].slice.call(arguments,0);return Lb("isBefore",t)}function QU(){var t=[].slice.call(arguments,0);return Lb("isAfter",t)}var XU=function(){return Date.now?Date.now():+new Date},Ma=["year","quarter","month","week","day","hour","minute","second","millisecond"];function JU(t){var e,n=!1,i,r=Ma.length;for(e in t)if(_e(t,e)&&!(Je.call(Ma,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(i=0;i<r;++i)if(t[Ma[i]]){if(n)return!1;parseFloat(t[Ma[i]])!==ce(t[Ma[i]])&&(n=!0)}return!0}function ZU(){return this._isValid}function e4(){return Wn(NaN)}function vf(t){var e=k_(t),n=e.year||0,i=e.quarter||0,r=e.month||0,s=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,h=e.millisecond||0;this._isValid=JU(e),this._milliseconds=+h+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+s*7,this._months=+r+i*3+n*12,this._data={},this._locale=Yi(),this._bubble()}function oh(t){return t instanceof vf}function _m(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function t4(t,e,n){var i=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),s=0,o;for(o=0;o<i;o++)ce(t[o])!==ce(e[o])&&s++;return s+r}function Vb(t,e){X(t,0,0,function(){var n=this.utcOffset(),i="+";return n<0&&(n=-n,i="-"),i+li(~~(n/60),2)+e+li(~~n%60,2)})}Vb("Z",":");Vb("ZZ","");q("Z",mf);q("ZZ",mf);be(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=F_(mf,t)});var n4=/([\+\-]|\d\d)/gi;function F_(t,e){var n=(e||"").match(t),i,r,s;return n===null?null:(i=n[n.length-1]||[],r=(i+"").match(n4)||["-",0,0],s=+(r[1]*60)+ce(r[2]),s===0?0:r[0]==="+"?s:-s)}function j_(t,e){var n,i;return e._isUTC?(n=e.clone(),i=(Un(t)||bu(t)?t.valueOf():Ve(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),H.updateOffset(n,!1),n):Ve(t).local()}function vm(t){return-Math.round(t._d.getTimezoneOffset())}H.updateOffset=function(){};function i4(t,e,n){var i=this._offset||0,r;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=F_(mf,t),t===null)return this}else Math.abs(t)<16&&!n&&(t=t*60);return!this._isUTC&&e&&(r=vm(this)),this._offset=t,this._isUTC=!0,r!=null&&this.add(r,"m"),i!==t&&(!e||this._changeInProgress?Ub(this,Wn(t-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,H.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?i:vm(this)}function r4(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function s4(t){return this.utcOffset(0,t)}function o4(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(vm(this),"m")),this}function a4(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=F_(kj,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function l4(t){return this.isValid()?(t=t?Ve(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function u4(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function c4(){if(!qt(this._isDSTShifted))return this._isDSTShifted;var t={},e;return S_(t,this),t=Ob(t),t._a?(e=t._isUTC?ui(t._a):Ve(t._a),this._isDSTShifted=this.isValid()&&t4(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function h4(){return this.isValid()?!this._isUTC:!1}function d4(){return this.isValid()?this._isUTC:!1}function Fb(){return this.isValid()?this._isUTC&&this._offset===0:!1}var f4=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,p4=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Wn(t,e){var n=t,i=null,r,s,o;return oh(t)?n={ms:t._milliseconds,d:t._days,M:t._months}:Wi(t)||!isNaN(+t)?(n={},e?n[e]=+t:n.milliseconds=+t):(i=f4.exec(t))?(r=i[1]==="-"?-1:1,n={y:0,d:ce(i[Qn])*r,h:ce(i[at])*r,m:ce(i[Rn])*r,s:ce(i[Ci])*r,ms:ce(_m(i[ps]*1e3))*r}):(i=p4.exec(t))?(r=i[1]==="-"?-1:1,n={y:ts(i[2],r),M:ts(i[3],r),w:ts(i[4],r),d:ts(i[5],r),h:ts(i[6],r),m:ts(i[7],r),s:ts(i[8],r)}):n==null?n={}:typeof n=="object"&&("from"in n||"to"in n)&&(o=g4(Ve(n.from),Ve(n.to)),n={},n.ms=o.milliseconds,n.M=o.months),s=new vf(n),oh(t)&&_e(t,"_locale")&&(s._locale=t._locale),oh(t)&&_e(t,"_isValid")&&(s._isValid=t._isValid),s}Wn.fn=vf.prototype;Wn.invalid=e4;function ts(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function KE(t,e){var n={};return n.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function g4(t,e){var n;return t.isValid()&&e.isValid()?(e=j_(e,t),t.isBefore(e)?n=KE(t,e):(n=KE(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function jb(t,e){return function(n,i){var r,s;return i!==null&&!isNaN(+i)&&(pb(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=n,n=i,i=s),r=Wn(n,i),Ub(this,r,t),this}}function Ub(t,e,n,i){var r=e._milliseconds,s=_m(e._days),o=_m(e._months);t.isValid()&&(i=i??!0,o&&xb(t,Jl(t,"Month")+o*n),s&&Eb(t,"Date",Jl(t,"Date")+s*n),r&&t._d.setTime(t._d.valueOf()+r*n),i&&H.updateOffset(t,s||o))}var m4=jb(1,"add"),y4=jb(-1,"subtract");function zb(t){return typeof t=="string"||t instanceof String}function _4(t){return Un(t)||bu(t)||zb(t)||Wi(t)||w4(t)||v4(t)||t===null||t===void 0}function v4(t){var e=_s(t)&&!E_(t),n=!1,i=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,s,o=i.length;for(r=0;r<o;r+=1)s=i[r],n=n||_e(t,s);return e&&n}function w4(t){var e=jn(t),n=!1;return e&&(n=t.filter(function(i){return!Wi(i)&&zb(t)}).length===0),e&&n}function E4(t){var e=_s(t)&&!E_(t),n=!1,i=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,s;for(r=0;r<i.length;r+=1)s=i[r],n=n||_e(t,s);return e&&n}function T4(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function S4(t,e){arguments.length===1&&(arguments[0]?_4(arguments[0])?(t=arguments[0],e=void 0):E4(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var n=t||Ve(),i=j_(n,this).startOf("day"),r=H.calendarFormat(this,i)||"sameElse",s=e&&(ci(e[r])?e[r].call(this,n):e[r]);return this.format(s||this.localeData().calendar(r,this,Ve(n)))}function x4(){return new Pu(this)}function I4(t,e){var n=Un(t)?t:Ve(t);return this.isValid()&&n.isValid()?(e=xn(e)||"millisecond",e==="millisecond"?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf()):!1}function k4(t,e){var n=Un(t)?t:Ve(t);return this.isValid()&&n.isValid()?(e=xn(e)||"millisecond",e==="millisecond"?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf()):!1}function b4(t,e,n,i){var r=Un(t)?t:Ve(t),s=Un(e)?e:Ve(e);return this.isValid()&&r.isValid()&&s.isValid()?(i=i||"()",(i[0]==="("?this.isAfter(r,n):!this.isBefore(r,n))&&(i[1]===")"?this.isBefore(s,n):!this.isAfter(s,n))):!1}function P4(t,e){var n=Un(t)?t:Ve(t),i;return this.isValid()&&n.isValid()?(e=xn(e)||"millisecond",e==="millisecond"?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf())):!1}function C4(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function A4(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function R4(t,e,n){var i,r,s;if(!this.isValid())return NaN;if(i=j_(t,this),!i.isValid())return NaN;switch(r=(i.utcOffset()-this.utcOffset())*6e4,e=xn(e),e){case"year":s=ah(this,i)/12;break;case"month":s=ah(this,i);break;case"quarter":s=ah(this,i)/3;break;case"second":s=(this-i)/1e3;break;case"minute":s=(this-i)/6e4;break;case"hour":s=(this-i)/36e5;break;case"day":s=(this-i-r)/864e5;break;case"week":s=(this-i-r)/6048e5;break;default:s=this-i}return n?s:yn(s)}function ah(t,e){if(t.date()<e.date())return-ah(e,t);var n=(e.year()-t.year())*12+(e.month()-t.month()),i=t.clone().add(n,"months"),r,s;return e-i<0?(r=t.clone().add(n-1,"months"),s=(e-i)/(i-r)):(r=t.clone().add(n+1,"months"),s=(e-i)/(r-i)),-(n+s)||0}H.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";H.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function D4(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function M4(t){if(!this.isValid())return null;var e=t!==!0,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?sh(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ci(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",sh(n,"Z")):sh(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function O4(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",n,i,r,s;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),n="["+t+'("]',i=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",s=e+'[")]',this.format(n+i+r+s)}function N4(t){t||(t=this.isUtc()?H.defaultFormatUtc:H.defaultFormat);var e=sh(this,t);return this.localeData().postformat(e)}function L4(t,e){return this.isValid()&&(Un(t)&&t.isValid()||Ve(t).isValid())?Wn({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function V4(t){return this.from(Ve(),t)}function F4(t,e){return this.isValid()&&(Un(t)&&t.isValid()||Ve(t).isValid())?Wn({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function j4(t){return this.to(Ve(),t)}function Bb(t){var e;return t===void 0?this._locale._abbr:(e=Yi(t),e!=null&&(this._locale=e),this)}var Wb=Sn("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Hb(){return this._locale}var ad=1e3,xo=60*ad,ld=60*xo,$b=(365*400+97)*24*ld;function Io(t,e){return(t%e+e)%e}function Yb(t,e,n){return t<100&&t>=0?new Date(t+400,e,n)-$b:new Date(t,e,n).valueOf()}function qb(t,e,n){return t<100&&t>=0?Date.UTC(t+400,e,n)-$b:Date.UTC(t,e,n)}function U4(t){var e,n;if(t=xn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?qb:Yb,t){case"year":e=n(this.year(),0,1);break;case"quarter":e=n(this.year(),this.month()-this.month()%3,1);break;case"month":e=n(this.year(),this.month(),1);break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=n(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=Io(e+(this._isUTC?0:this.utcOffset()*xo),ld);break;case"minute":e=this._d.valueOf(),e-=Io(e,xo);break;case"second":e=this._d.valueOf(),e-=Io(e,ad);break}return this._d.setTime(e),H.updateOffset(this,!0),this}function z4(t){var e,n;if(t=xn(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(n=this._isUTC?qb:Yb,t){case"year":e=n(this.year()+1,0,1)-1;break;case"quarter":e=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=n(this.year(),this.month()+1,1)-1;break;case"week":e=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=ld-Io(e+(this._isUTC?0:this.utcOffset()*xo),ld)-1;break;case"minute":e=this._d.valueOf(),e+=xo-Io(e,xo)-1;break;case"second":e=this._d.valueOf(),e+=ad-Io(e,ad)-1;break}return this._d.setTime(e),H.updateOffset(this,!0),this}function B4(){return this._d.valueOf()-(this._offset||0)*6e4}function W4(){return Math.floor(this.valueOf()/1e3)}function H4(){return new Date(this.valueOf())}function $4(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Y4(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function q4(){return this.isValid()?this.toISOString():null}function G4(){return T_(this)}function K4(){return fr({},re(this))}function Q4(){return re(this).overflow}function X4(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}X("N",0,0,"eraAbbr");X("NN",0,0,"eraAbbr");X("NNN",0,0,"eraAbbr");X("NNNN",0,0,"eraName");X("NNNNN",0,0,"eraNarrow");X("y",["y",1],"yo","eraYear");X("y",["yy",2],0,"eraYear");X("y",["yyy",3],0,"eraYear");X("y",["yyyy",4],0,"eraYear");q("N",U_);q("NN",U_);q("NNN",U_);q("NNNN",lz);q("NNNNN",uz);be(["N","NN","NNN","NNNN","NNNNN"],function(t,e,n,i){var r=n._locale.erasParse(t,i,n._strict);r?re(n).era=r:re(n).invalidEra=t});q("y",aa);q("yy",aa);q("yyy",aa);q("yyyy",aa);q("yo",cz);be(["y","yy","yyy","yyyy"],Ot);be(["yo"],function(t,e,n,i){var r;n._locale._eraYearOrdinalRegex&&(r=t.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?e[Ot]=n._locale.eraYearOrdinalParse(t,r):e[Ot]=parseInt(t,10)});function J4(t,e){var n,i,r,s=this._eras||Yi("en")._eras;for(n=0,i=s.length;n<i;++n){switch(typeof s[n].since){case"string":r=H(s[n].since).startOf("day"),s[n].since=r.valueOf();break}switch(typeof s[n].until){case"undefined":s[n].until=1/0;break;case"string":r=H(s[n].until).startOf("day").valueOf(),s[n].until=r.valueOf();break}}return s}function Z4(t,e,n){var i,r,s=this.eras(),o,a,l;for(t=t.toUpperCase(),i=0,r=s.length;i<r;++i)if(o=s[i].name.toUpperCase(),a=s[i].abbr.toUpperCase(),l=s[i].narrow.toUpperCase(),n)switch(e){case"N":case"NN":case"NNN":if(a===t)return s[i];break;case"NNNN":if(o===t)return s[i];break;case"NNNNN":if(l===t)return s[i];break}else if([o,a,l].indexOf(t)>=0)return s[i]}function ez(t,e){var n=t.since<=t.until?1:-1;return e===void 0?H(t.since).year():H(t.since).year()+(e-t.offset)*n}function tz(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].name;return""}function nz(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].narrow;return""}function iz(){var t,e,n,i=this.localeData().eras();for(t=0,e=i.length;t<e;++t)if(n=this.clone().startOf("day").valueOf(),i[t].since<=n&&n<=i[t].until||i[t].until<=n&&n<=i[t].since)return i[t].abbr;return""}function rz(){var t,e,n,i,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(n=r[t].since<=r[t].until?1:-1,i=this.clone().startOf("day").valueOf(),r[t].since<=i&&i<=r[t].until||r[t].until<=i&&i<=r[t].since)return(this.year()-H(r[t].since).year())*n+r[t].offset;return this.year()}function sz(t){return _e(this,"_erasNameRegex")||z_.call(this),t?this._erasNameRegex:this._erasRegex}function oz(t){return _e(this,"_erasAbbrRegex")||z_.call(this),t?this._erasAbbrRegex:this._erasRegex}function az(t){return _e(this,"_erasNarrowRegex")||z_.call(this),t?this._erasNarrowRegex:this._erasRegex}function U_(t,e){return e.erasAbbrRegex(t)}function lz(t,e){return e.erasNameRegex(t)}function uz(t,e){return e.erasNarrowRegex(t)}function cz(t,e){return e._eraYearOrdinalRegex||aa}function z_(){var t=[],e=[],n=[],i=[],r,s,o,a,l,u=this.eras();for(r=0,s=u.length;r<s;++r)o=Mi(u[r].name),a=Mi(u[r].abbr),l=Mi(u[r].narrow),e.push(o),t.push(a),n.push(l),i.push(o),i.push(a),i.push(l);this._erasRegex=new RegExp("^("+i.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+n.join("|")+")","i")}X(0,["gg",2],0,function(){return this.weekYear()%100});X(0,["GG",2],0,function(){return this.isoWeekYear()%100});function wf(t,e){X(0,[t,t.length],0,e)}wf("gggg","weekYear");wf("ggggg","weekYear");wf("GGGG","isoWeekYear");wf("GGGGG","isoWeekYear");q("G",gf);q("g",gf);q("GG",Fe,fn);q("gg",Fe,fn);q("GGGG",P_,b_);q("gggg",P_,b_);q("GGGGG",pf,df);q("ggggg",pf,df);Au(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,i){e[i.substr(0,2)]=ce(t)});Au(["gg","GG"],function(t,e,n,i){e[i]=H.parseTwoDigitYear(t)});function hz(t){return Gb.call(this,t,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function dz(t){return Gb.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function fz(){return Oi(this.year(),1,4)}function pz(){return Oi(this.isoWeekYear(),1,4)}function gz(){var t=this.localeData()._week;return Oi(this.year(),t.dow,t.doy)}function mz(){var t=this.localeData()._week;return Oi(this.weekYear(),t.dow,t.doy)}function Gb(t,e,n,i,r){var s;return t==null?eu(this,i,r).year:(s=Oi(t,i,r),e>s&&(e=s),yz.call(this,t,e,n,i,r))}function yz(t,e,n,i,r){var s=bb(t,e,n,i,r),o=Zl(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}X("Q",0,"Qo","quarter");q("Q",mb);be("Q",function(t,e){e[Pi]=(ce(t)-1)*3});function _z(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}X("D",["DD",2],"Do","date");q("D",Fe,la);q("DD",Fe,fn);q("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});be(["D","DD"],Qn);be("Do",function(t,e){e[Qn]=ce(t.match(Fe)[0])});var Kb=ua("Date",!0);X("DDD",["DDDD",3],"DDDo","dayOfYear");q("DDD",ff);q("DDDD",yb);be(["DDD","DDDD"],function(t,e,n){n._dayOfYear=ce(t)});function vz(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}X("m",["mm",2],0,"minute");q("m",Fe,C_);q("mm",Fe,fn);be(["m","mm"],Rn);var wz=ua("Minutes",!1);X("s",["ss",2],0,"second");q("s",Fe,C_);q("ss",Fe,fn);be(["s","ss"],Ci);var Ez=ua("Seconds",!1);X("S",0,0,function(){return~~(this.millisecond()/100)});X(0,["SS",2],0,function(){return~~(this.millisecond()/10)});X(0,["SSS",3],0,"millisecond");X(0,["SSSS",4],0,function(){return this.millisecond()*10});X(0,["SSSSS",5],0,function(){return this.millisecond()*100});X(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});X(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});X(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});X(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});q("S",ff,mb);q("SS",ff,fn);q("SSS",ff,yb);var pr,Qb;for(pr="SSSS";pr.length<=9;pr+="S")q(pr,aa);function Tz(t,e){e[ps]=ce(("0."+t)*1e3)}for(pr="S";pr.length<=9;pr+="S")be(pr,Tz);Qb=ua("Milliseconds",!1);X("z",0,0,"zoneAbbr");X("zz",0,0,"zoneName");function Sz(){return this._isUTC?"UTC":""}function xz(){return this._isUTC?"Coordinated Universal Time":""}var z=Pu.prototype;z.add=m4;z.calendar=S4;z.clone=x4;z.diff=R4;z.endOf=z4;z.format=N4;z.from=L4;z.fromNow=V4;z.to=F4;z.toNow=j4;z.get=Oj;z.invalidAt=Q4;z.isAfter=I4;z.isBefore=k4;z.isBetween=b4;z.isSame=P4;z.isSameOrAfter=C4;z.isSameOrBefore=A4;z.isValid=G4;z.lang=Wb;z.locale=Bb;z.localeData=Hb;z.max=GU;z.min=qU;z.parsingFlags=K4;z.set=Nj;z.startOf=U4;z.subtract=y4;z.toArray=$4;z.toObject=Y4;z.toDate=H4;z.toISOString=M4;z.inspect=O4;typeof Symbol<"u"&&Symbol.for!=null&&(z[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});z.toJSON=q4;z.toString=D4;z.unix=W4;z.valueOf=B4;z.creationData=X4;z.eraName=tz;z.eraNarrow=nz;z.eraAbbr=iz;z.eraYear=rz;z.year=wb;z.isLeapYear=Mj;z.weekYear=hz;z.isoWeekYear=dz;z.quarter=z.quarters=_z;z.month=Ib;z.daysInMonth=Hj;z.week=z.weeks=Jj;z.isoWeek=z.isoWeeks=Zj;z.weeksInYear=gz;z.weeksInWeekYear=mz;z.isoWeeksInYear=fz;z.isoWeeksInISOWeekYear=pz;z.date=Kb;z.day=z.days=dU;z.weekday=fU;z.isoWeekday=pU;z.dayOfYear=vz;z.hour=z.hours=EU;z.minute=z.minutes=wz;z.second=z.seconds=Ez;z.millisecond=z.milliseconds=Qb;z.utcOffset=i4;z.utc=s4;z.local=o4;z.parseZone=a4;z.hasAlignedHourOffset=l4;z.isDST=u4;z.isLocal=h4;z.isUtcOffset=d4;z.isUtc=Fb;z.isUTC=Fb;z.zoneAbbr=Sz;z.zoneName=xz;z.dates=Sn("dates accessor is deprecated. Use date instead.",Kb);z.months=Sn("months accessor is deprecated. Use month instead",Ib);z.years=Sn("years accessor is deprecated. Use year instead",wb);z.zone=Sn("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",r4);z.isDSTShifted=Sn("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",c4);function Iz(t){return Ve(t*1e3)}function kz(){return Ve.apply(null,arguments).parseZone()}function Xb(t){return t}var ve=x_.prototype;ve.calendar=hj;ve.longDateFormat=gj;ve.invalidDate=yj;ve.ordinal=wj;ve.preparse=Xb;ve.postformat=Xb;ve.relativeTime=Tj;ve.pastFuture=Sj;ve.set=uj;ve.eras=J4;ve.erasParse=Z4;ve.erasConvertYear=ez;ve.erasAbbrRegex=oz;ve.erasNameRegex=sz;ve.erasNarrowRegex=az;ve.months=Uj;ve.monthsShort=zj;ve.monthsParse=Wj;ve.monthsRegex=Yj;ve.monthsShortRegex=$j;ve.week=Gj;ve.firstDayOfYear=Xj;ve.firstDayOfWeek=Qj;ve.weekdays=aU;ve.weekdaysMin=uU;ve.weekdaysShort=lU;ve.weekdaysParse=hU;ve.weekdaysRegex=gU;ve.weekdaysShortRegex=mU;ve.weekdaysMinRegex=yU;ve.isPM=vU;ve.meridiem=TU;function ud(t,e,n,i){var r=Yi(),s=ui().set(i,e);return r[n](s,t)}function Jb(t,e,n){if(Wi(t)&&(e=t,t=void 0),t=t||"",e!=null)return ud(t,e,n,"month");var i,r=[];for(i=0;i<12;i++)r[i]=ud(t,i,n,"month");return r}function B_(t,e,n,i){typeof t=="boolean"?(Wi(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,Wi(e)&&(n=e,e=void 0),e=e||"");var r=Yi(),s=t?r._week.dow:0,o,a=[];if(n!=null)return ud(e,(n+s)%7,i,"day");for(o=0;o<7;o++)a[o]=ud(e,(o+s)%7,i,"day");return a}function bz(t,e){return Jb(t,e,"months")}function Pz(t,e){return Jb(t,e,"monthsShort")}function Cz(t,e,n){return B_(t,e,n,"weekdays")}function Az(t,e,n){return B_(t,e,n,"weekdaysShort")}function Rz(t,e,n){return B_(t,e,n,"weekdaysMin")}Dr("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=ce(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+n}});H.lang=Sn("moment.lang is deprecated. Use moment.locale instead.",Dr);H.langData=Sn("moment.langData is deprecated. Use moment.localeData instead.",Yi);var pi=Math.abs;function Dz(){var t=this._data;return this._milliseconds=pi(this._milliseconds),this._days=pi(this._days),this._months=pi(this._months),t.milliseconds=pi(t.milliseconds),t.seconds=pi(t.seconds),t.minutes=pi(t.minutes),t.hours=pi(t.hours),t.months=pi(t.months),t.years=pi(t.years),this}function Zb(t,e,n,i){var r=Wn(e,n);return t._milliseconds+=i*r._milliseconds,t._days+=i*r._days,t._months+=i*r._months,t._bubble()}function Mz(t,e){return Zb(this,t,e,1)}function Oz(t,e){return Zb(this,t,e,-1)}function QE(t){return t<0?Math.floor(t):Math.ceil(t)}function Nz(){var t=this._milliseconds,e=this._days,n=this._months,i=this._data,r,s,o,a,l;return t>=0&&e>=0&&n>=0||t<=0&&e<=0&&n<=0||(t+=QE(wm(n)+e)*864e5,e=0,n=0),i.milliseconds=t%1e3,r=yn(t/1e3),i.seconds=r%60,s=yn(r/60),i.minutes=s%60,o=yn(s/60),i.hours=o%24,e+=yn(o/24),l=yn(eP(e)),n+=l,e-=QE(wm(l)),a=yn(n/12),n%=12,i.days=e,i.months=n,i.years=a,this}function eP(t){return t*4800/146097}function wm(t){return t*146097/4800}function Lz(t){if(!this.isValid())return NaN;var e,n,i=this._milliseconds;if(t=xn(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+i/864e5,n=this._months+eP(e),t){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(e=this._days+Math.round(wm(this._months)),t){case"week":return e/7+i/6048e5;case"day":return e+i/864e5;case"hour":return e*24+i/36e5;case"minute":return e*1440+i/6e4;case"second":return e*86400+i/1e3;case"millisecond":return Math.floor(e*864e5)+i;default:throw new Error("Unknown unit "+t)}}function qi(t){return function(){return this.as(t)}}var tP=qi("ms"),Vz=qi("s"),Fz=qi("m"),jz=qi("h"),Uz=qi("d"),zz=qi("w"),Bz=qi("M"),Wz=qi("Q"),Hz=qi("y"),$z=tP;function Yz(){return Wn(this)}function qz(t){return t=xn(t),this.isValid()?this[t+"s"]():NaN}function Fs(t){return function(){return this.isValid()?this._data[t]:NaN}}var Gz=Fs("milliseconds"),Kz=Fs("seconds"),Qz=Fs("minutes"),Xz=Fs("hours"),Jz=Fs("days"),Zz=Fs("months"),eB=Fs("years");function tB(){return yn(this.days()/7)}var vi=Math.round,ho={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function nB(t,e,n,i,r){return r.relativeTime(e||1,!!n,t,i)}function iB(t,e,n,i){var r=Wn(t).abs(),s=vi(r.as("s")),o=vi(r.as("m")),a=vi(r.as("h")),l=vi(r.as("d")),u=vi(r.as("M")),h=vi(r.as("w")),d=vi(r.as("y")),f=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return n.w!=null&&(f=f||h<=1&&["w"]||h<n.w&&["ww",h]),f=f||u<=1&&["M"]||u<n.M&&["MM",u]||d<=1&&["y"]||["yy",d],f[2]=e,f[3]=+t>0,f[4]=i,nB.apply(null,f)}function rB(t){return t===void 0?vi:typeof t=="function"?(vi=t,!0):!1}function sB(t,e){return ho[t]===void 0?!1:e===void 0?ho[t]:(ho[t]=e,t==="s"&&(ho.ss=e-1),!0)}function oB(t,e){if(!this.isValid())return this.localeData().invalidDate();var n=!1,i=ho,r,s;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(n=t),typeof e=="object"&&(i=Object.assign({},ho,e),e.s!=null&&e.ss==null&&(i.ss=e.s-1)),r=this.localeData(),s=iB(this,!n,i,r),n&&(s=r.pastFuture(+this,s)),r.postformat(s)}var Np=Math.abs;function Hs(t){return(t>0)-(t<0)||+t}function Ef(){if(!this.isValid())return this.localeData().invalidDate();var t=Np(this._milliseconds)/1e3,e=Np(this._days),n=Np(this._months),i,r,s,o,a=this.asSeconds(),l,u,h,d;return a?(i=yn(t/60),r=yn(i/60),t%=60,i%=60,s=yn(n/12),n%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=Hs(this._months)!==Hs(a)?"-":"",h=Hs(this._days)!==Hs(a)?"-":"",d=Hs(this._milliseconds)!==Hs(a)?"-":"",l+"P"+(s?u+s+"Y":"")+(n?u+n+"M":"")+(e?h+e+"D":"")+(r||i||t?"T":"")+(r?d+r+"H":"")+(i?d+i+"M":"")+(t?d+o+"S":"")):"P0D"}var pe=vf.prototype;pe.isValid=ZU;pe.abs=Dz;pe.add=Mz;pe.subtract=Oz;pe.as=Lz;pe.asMilliseconds=tP;pe.asSeconds=Vz;pe.asMinutes=Fz;pe.asHours=jz;pe.asDays=Uz;pe.asWeeks=zz;pe.asMonths=Bz;pe.asQuarters=Wz;pe.asYears=Hz;pe.valueOf=$z;pe._bubble=Nz;pe.clone=Yz;pe.get=qz;pe.milliseconds=Gz;pe.seconds=Kz;pe.minutes=Qz;pe.hours=Xz;pe.days=Jz;pe.weeks=tB;pe.months=Zz;pe.years=eB;pe.humanize=oB;pe.toISOString=Ef;pe.toString=Ef;pe.toJSON=Ef;pe.locale=Bb;pe.localeData=Hb;pe.toIsoString=Sn("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ef);pe.lang=Wb;X("X",0,0,"unix");X("x",0,0,"valueOf");q("x",gf);q("X",bj);be("X",function(t,e,n){n._d=new Date(parseFloat(t)*1e3)});be("x",function(t,e,n){n._d=new Date(ce(t))});//! moment.js
H.version="2.30.1";aj(Ve);H.fn=z;H.min=KU;H.max=QU;H.now=XU;H.utc=ui;H.unix=Iz;H.months=bz;H.isDate=bu;H.locale=Dr;H.invalid=hf;H.duration=Wn;H.isMoment=Un;H.weekdays=Cz;H.parseZone=kz;H.localeData=Yi;H.isDuration=oh;H.monthsShort=Pz;H.weekdaysMin=Rz;H.defineLocale=O_;H.updateLocale=kU;H.locales=bU;H.weekdaysShort=Az;H.normalizeUnits=xn;H.relativeTimeRounding=rB;H.relativeTimeThreshold=sB;H.calendarFormat=T4;H.prototype=z;H.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const aB=async()=>{var r;const t=(r=Bn.currentUser)==null?void 0:r.uid;if(console.log("User ID from auth:",t),!t)throw new Error("User is not authenticated");const e=ia(Fn,"expenses"),n=rf(e,Kl("userId","==",t)),i=await of(n);return console.log("Expenses snapshot:",i),i.empty?(console.log("No expenses found"),[]):i.docs.map(s=>({id:s.id,...s.data()}))},lB=()=>Bn.currentUser,uB=async t=>{var n;const e=(n=Bn.currentUser)==null?void 0:n.uid;if(!e)throw new Error("User is not authenticated");await Pk(ia(Fn,"expenses"),{...t,userId:e,createdAt:HL()})},cB=t=>{const e={};return!Array.isArray(t)||t.length===0?(console.warn("No expenses found."),e):(t.forEach(n=>{var r;if(!n.amount||!n.createdAt){console.error("Invalid expense data:",n);return}const i=H((r=n.createdAt)==null?void 0:r.toDate()).format("YYYY-MM");e[i]||(e[i]=0),e[i]+=n.amount}),e)},hB=async()=>{try{const t=await aB();return console.log("Fetched Expenses:",t),t}catch(t){throw console.error("Error fetching expenses:",t),t}},XE=async()=>{var r;const t=(r=Bn.currentUser)==null?void 0:r.uid;if(!t)throw new Error("User is not authenticated. Please sign in.");const e=ia(Fn,"budgets"),n=rf(e,Kl("userId","==",t)),i=await of(n);return i.empty?[]:i.docs.map(s=>({id:s.id,...s.data()}))},dB=async(t,e)=>{var o;const n=(o=Bn.currentUser)==null?void 0:o.uid;if(!n)throw new Error("User is not authenticated");const i=ia(Fn,"budgets"),r=rf(i,Kl("userId","==",n),Kl("category","==",t)),s=await of(r);if(!s.empty){const a=s.docs[0],l=Bo(Fn,"budgets",a.id);await bk(l,{currentExpenses:$L(e)})}},fB=async(t,e)=>{var i;const n=(i=Bn.currentUser)==null?void 0:i.uid;if(!n)throw new Error("User is not authenticated");await Pk(ia(Fn,"budgets"),{userId:n,category:t,totalBudget:e,currentExpenses:0})},pB=async t=>{const e=Bo(Fn,"users",t),n=await Ik(e);if(n.exists())return n.data();throw new Error("User profile not found")},gB=async(t,e)=>{const n=Bo(Fn,"users",t);await BL(n,e,{merge:!0})},nP=({onClose:t})=>{const[e,n]=V.useState(""),[i,r]=V.useState(""),[s,o]=V.useState(""),[a,l]=V.useState(""),u=async()=>{if(!e||!i||!s){l("Please fill all fields");return}try{const h=parseFloat(i);await uB({name:e,amount:h,category:s}),await dB(s,h),n(""),r(""),o(""),l(""),alert("Expense added successfully!"),t()}catch(h){l(h.message)}};return A.jsx("div",{className:"modal-overlay",children:A.jsxs("div",{className:"modal",children:[A.jsx("h2",{children:"Add Expense"}),a&&A.jsx("p",{className:"error-message",children:a}),A.jsx("input",{type:"text",placeholder:"Expense Name",value:e,onChange:h=>n(h.target.value),className:"input-field"}),A.jsx("input",{type:"number",placeholder:"Amount",value:i,onChange:h=>r(h.target.value),className:"input-field"}),A.jsxs("select",{value:s,onChange:h=>o(h.target.value),className:"select-field",children:[A.jsx("option",{value:"",children:"Select Category"}),A.jsx("option",{value:"Food",children:"Food"}),A.jsx("option",{value:"Transport",children:"Transport"}),A.jsx("option",{value:"Utilities",children:"Utilities"}),A.jsx("option",{value:"Entertainment",children:"Entertainment"}),A.jsx("option",{value:"Electronics",children:"Electronics"}),A.jsx("option",{value:"Grocery",children:"Grocery"}),A.jsx("option",{value:"Shopping",children:"Shopping"}),A.jsx("option",{value:"Vehicle",children:"Vehicle"}),A.jsx("option",{value:"EMI/Loan",children:"EMI/Loan"}),A.jsx("option",{value:"Others",children:"Others"})]}),A.jsxs("div",{className:"button-container",children:[A.jsx("button",{onClick:u,className:"add-btn",children:"Add Expense"}),A.jsx("button",{onClick:t,className:"close-btn",children:"Cancel"})]})]})})};var iP={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},JE=Jn.createContext&&Jn.createContext(iP),mB=["attr","size","title"];function yB(t,e){if(t==null)return{};var n=_B(t,e),i,r;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)i=s[r],!(e.indexOf(i)>=0)&&Object.prototype.propertyIsEnumerable.call(t,i)&&(n[i]=t[i])}return n}function _B(t,e){if(t==null)return{};var n={};for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(e.indexOf(i)>=0)continue;n[i]=t[i]}return n}function cd(){return cd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},cd.apply(this,arguments)}function ZE(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable})),n.push.apply(n,i)}return n}function hd(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZE(Object(n),!0).forEach(function(i){vB(t,i,n[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZE(Object(n)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(n,i))})}return t}function vB(t,e,n){return e=wB(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function wB(t){var e=EB(t,"string");return typeof e=="symbol"?e:e+""}function EB(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rP(t){return t&&t.map((e,n)=>Jn.createElement(e.tag,hd({key:n},e.attr),rP(e.child)))}function Ru(t){return e=>Jn.createElement(TB,cd({attr:hd({},t.attr)},e),rP(t.child))}function TB(t){var e=n=>{var{attr:i,size:r,title:s}=t,o=yB(t,mB),a=r||n.size||"1em",l;return n.className&&(l=n.className),t.className&&(l=(l?l+" ":"")+t.className),Jn.createElement("svg",cd({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,o,{className:l,style:hd(hd({color:t.color||n.color},n.style),t.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Jn.createElement("title",null,s),t.children)};return JE!==void 0?Jn.createElement(JE.Consumer,null,n=>e(n)):e(iP)}function SB(t){return Ru({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"18",y1:"20",x2:"18",y2:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"20",x2:"12",y2:"4"},child:[]},{tag:"line",attr:{x1:"6",y1:"20",x2:"6",y2:"14"},child:[]}]})(t)}function xB(t){return Ru({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function IB(t){return Ru({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function kB(t){return Ru({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"16"},child:[]},{tag:"line",attr:{x1:"8",y1:"12",x2:"16",y2:"12"},child:[]}]})(t)}function bB(t){return Ru({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"12",cy:"7",r:"4"},child:[]}]})(t)}const W_=()=>A.jsxs("div",{className:"sidebar",children:[A.jsx("div",{className:"sidebar-logo",children:A.jsx("h2",{children:"ExpenseTracker"})}),A.jsxs("nav",{className:"sidebar-nav",children:[A.jsxs(gc,{to:"/home",className:"sidebar-link",activeClassName:"active-link",children:[A.jsx(xB,{className:"icon"})," Home"]}),A.jsxs(gc,{to:"/stats",className:"sidebar-link",activeClassName:"active-link",children:[A.jsx(SB,{className:"icon"})," Stats"]}),A.jsxs(gc,{to:"/add-expense",className:"sidebar-link",activeClassName:"active-link",children:[A.jsx(kB,{className:"icon"})," Add Expense"]}),A.jsxs(gc,{to:"/profile",className:"sidebar-link",activeClassName:"active-link",children:[A.jsx(bB,{className:"icon"})," Profile"]})]}),A.jsxs("button",{className:"logout-btn",children:[A.jsx(IB,{className:"icon"})," Logout"]})]}),PB=()=>{const[t,e]=V.useState(!1),[n,i]=V.useState([]),[r,s]=V.useState([]),[o,a]=V.useState(!0),[l,u]=V.useState({category:"",totalBudget:""}),h=()=>e(!0),d=()=>e(!1);V.useEffect(()=>{const g=Zk(Bn,async y=>{if(y)try{const w=await XE();i(w);const T=w.filter(_=>_.currentExpenses>_.totalBudget).map(_=>`Budget for "${_.category}" exceeded!`);s(T)}catch(w){console.error("Error fetching budgets:",w)}else console.warn("User is not authenticated");a(!1)});return()=>g()},[]);const f=async()=>{const{category:g,totalBudget:y}=l;if(!g||!y){alert("Please fill in all fields to add a budget");return}try{await fB(g,parseFloat(y));const w=await XE();i(w),u({category:"",totalBudget:""}),alert("Budget added successfully!")}catch(w){console.error("Error adding budget:",w)}};return o?A.jsx("p",{children:"Loading..."}):A.jsxs("div",{className:"home-screen",children:[A.jsx(W_,{}),A.jsxs("div",{className:"main-content",children:[A.jsx("h1",{children:"Expense Tracker"}),r.length>0&&r.map((g,y)=>A.jsx("p",{className:"alert",children:g},y)),A.jsx("h2",{children:"Add Budget"}),A.jsxs("div",{className:"add-budget-form",children:[A.jsxs("select",{value:l.category,onChange:g=>u({...l,category:g.target.value}),children:[A.jsx("option",{value:"",children:"Select Category"}),A.jsx("option",{value:"Food",children:"Food"}),A.jsx("option",{value:"Transport",children:"Transport"}),A.jsx("option",{value:"Utilities",children:"Utilities"}),A.jsx("option",{value:"Entertainment",children:"Entertainment"}),A.jsx("option",{value:"Electronics",children:"Electronics"}),A.jsx("option",{value:"Grocery",children:"Grocery"}),A.jsx("option",{value:"Shopping",children:"Shopping"}),A.jsx("option",{value:"Vehicle",children:"Vehicle"}),A.jsx("option",{value:"EMI/Loan",children:"EMI/Loan"}),A.jsx("option",{value:"Others",children:"Others"})]}),A.jsx("input",{type:"number",placeholder:"Total Budget",value:l.totalBudget,onChange:g=>u({...l,totalBudget:g.target.value})}),A.jsx("button",{onClick:f,children:"Add Budget"})]}),A.jsx("h2",{children:"Budgets"}),A.jsx("ul",{children:n.map(g=>A.jsxs("li",{children:[g.category,": ",g.currentExpenses," / ",g.totalBudget]},g.id))}),A.jsx("button",{onClick:h,className:"open-modal-btn",children:"Add Expense"}),t&&A.jsx(nP,{onClose:d}),A.jsx(oj,{budgets:n})]})]})},CB=()=>{const[t,e]=V.useState(!1),n=()=>e(!1);return A.jsxs("div",{children:[A.jsx("h2",{children:"Add Expense"}),t&&A.jsx(nP,{onClose:n})]})};/*!
 * @kurkle/color v0.3.2
 * https://github.com/kurkle/color#readme
 * (c) 2023 Jukka Kurkela
 * Released under the MIT License
 */function Du(t){return t+.5|0}const gr=(t,e,n)=>Math.max(Math.min(t,n),e);function Ka(t){return gr(Du(t*2.55),0,255)}function Mr(t){return gr(Du(t*255),0,255)}function Ei(t){return gr(Du(t/2.55)/100,0,1)}function eT(t){return gr(Du(t*100),0,100)}const pn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Em=[..."0123456789ABCDEF"],AB=t=>Em[t&15],RB=t=>Em[(t&240)>>4]+Em[t&15],Sc=t=>(t&240)>>4===(t&15),DB=t=>Sc(t.r)&&Sc(t.g)&&Sc(t.b)&&Sc(t.a);function MB(t){var e=t.length,n;return t[0]==="#"&&(e===4||e===5?n={r:255&pn[t[1]]*17,g:255&pn[t[2]]*17,b:255&pn[t[3]]*17,a:e===5?pn[t[4]]*17:255}:(e===7||e===9)&&(n={r:pn[t[1]]<<4|pn[t[2]],g:pn[t[3]]<<4|pn[t[4]],b:pn[t[5]]<<4|pn[t[6]],a:e===9?pn[t[7]]<<4|pn[t[8]]:255})),n}const OB=(t,e)=>t<255?e(t):"";function NB(t){var e=DB(t)?AB:RB;return t?"#"+e(t.r)+e(t.g)+e(t.b)+OB(t.a,e):void 0}const LB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function sP(t,e,n){const i=e*Math.min(n,1-n),r=(s,o=(s+t/30)%12)=>n-i*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function VB(t,e,n){const i=(r,s=(r+t/60)%6)=>n-n*e*Math.max(Math.min(s,4-s,1),0);return[i(5),i(3),i(1)]}function FB(t,e,n){const i=sP(t,1,.5);let r;for(e+n>1&&(r=1/(e+n),e*=r,n*=r),r=0;r<3;r++)i[r]*=1-e-n,i[r]+=e;return i}function jB(t,e,n,i,r){return t===r?(e-n)/i+(e<n?6:0):e===r?(n-t)/i+2:(t-e)/i+4}function H_(t){const n=t.r/255,i=t.g/255,r=t.b/255,s=Math.max(n,i,r),o=Math.min(n,i,r),a=(s+o)/2;let l,u,h;return s!==o&&(h=s-o,u=a>.5?h/(2-s-o):h/(s+o),l=jB(n,i,r,h,s),l=l*60+.5),[l|0,u||0,a]}function $_(t,e,n,i){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,n,i)).map(Mr)}function Y_(t,e,n){return $_(sP,t,e,n)}function UB(t,e,n){return $_(FB,t,e,n)}function zB(t,e,n){return $_(VB,t,e,n)}function oP(t){return(t%360+360)%360}function BB(t){const e=LB.exec(t);let n=255,i;if(!e)return;e[5]!==i&&(n=e[6]?Ka(+e[5]):Mr(+e[5]));const r=oP(+e[2]),s=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?i=UB(r,s,o):e[1]==="hsv"?i=zB(r,s,o):i=Y_(r,s,o),{r:i[0],g:i[1],b:i[2],a:n}}function WB(t,e){var n=H_(t);n[0]=oP(n[0]+e),n=Y_(n),t.r=n[0],t.g=n[1],t.b=n[2]}function HB(t){if(!t)return;const e=H_(t),n=e[0],i=eT(e[1]),r=eT(e[2]);return t.a<255?`hsla(${n}, ${i}%, ${r}%, ${Ei(t.a)})`:`hsl(${n}, ${i}%, ${r}%)`}const tT={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},nT={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $B(){const t={},e=Object.keys(nT),n=Object.keys(tT);let i,r,s,o,a;for(i=0;i<e.length;i++){for(o=a=e[i],r=0;r<n.length;r++)s=n[r],a=a.replace(s,tT[s]);s=parseInt(nT[o],16),t[a]=[s>>16&255,s>>8&255,s&255]}return t}let xc;function YB(t){xc||(xc=$B(),xc.transparent=[0,0,0,0]);const e=xc[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const qB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function GB(t){const e=qB.exec(t);let n=255,i,r,s;if(e){if(e[7]!==i){const o=+e[7];n=e[8]?Ka(o):gr(o*255,0,255)}return i=+e[1],r=+e[3],s=+e[5],i=255&(e[2]?Ka(i):gr(i,0,255)),r=255&(e[4]?Ka(r):gr(r,0,255)),s=255&(e[6]?Ka(s):gr(s,0,255)),{r:i,g:r,b:s,a:n}}}function KB(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ei(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Lp=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,$s=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function QB(t,e,n){const i=$s(Ei(t.r)),r=$s(Ei(t.g)),s=$s(Ei(t.b));return{r:Mr(Lp(i+n*($s(Ei(e.r))-i))),g:Mr(Lp(r+n*($s(Ei(e.g))-r))),b:Mr(Lp(s+n*($s(Ei(e.b))-s))),a:t.a+n*(e.a-t.a)}}function Ic(t,e,n){if(t){let i=H_(t);i[e]=Math.max(0,Math.min(i[e]+i[e]*n,e===0?360:1)),i=Y_(i),t.r=i[0],t.g=i[1],t.b=i[2]}}function aP(t,e){return t&&Object.assign(e||{},t)}function iT(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Mr(t[3]))):(e=aP(t,{r:0,g:0,b:0,a:1}),e.a=Mr(e.a)),e}function XB(t){return t.charAt(0)==="r"?GB(t):BB(t)}class nu{constructor(e){if(e instanceof nu)return e;const n=typeof e;let i;n==="object"?i=iT(e):n==="string"&&(i=MB(e)||YB(e)||XB(e)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var e=aP(this._rgb);return e&&(e.a=Ei(e.a)),e}set rgb(e){this._rgb=iT(e)}rgbString(){return this._valid?KB(this._rgb):void 0}hexString(){return this._valid?NB(this._rgb):void 0}hslString(){return this._valid?HB(this._rgb):void 0}mix(e,n){if(e){const i=this.rgb,r=e.rgb;let s;const o=n===s?.5:n,a=2*o-1,l=i.a-r.a,u=((a*l===-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,i.r=255&u*i.r+s*r.r+.5,i.g=255&u*i.g+s*r.g+.5,i.b=255&u*i.b+s*r.b+.5,i.a=o*i.a+(1-o)*r.a,this.rgb=i}return this}interpolate(e,n){return e&&(this._rgb=QB(this._rgb,e._rgb,n)),this}clone(){return new nu(this.rgb)}alpha(e){return this._rgb.a=Mr(e),this}clearer(e){const n=this._rgb;return n.a*=1-e,this}greyscale(){const e=this._rgb,n=Du(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=n,this}opaquer(e){const n=this._rgb;return n.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Ic(this._rgb,2,e),this}darken(e){return Ic(this._rgb,2,-e),this}saturate(e){return Ic(this._rgb,1,e),this}desaturate(e){return Ic(this._rgb,1,-e),this}rotate(e){return WB(this._rgb,e),this}}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */function gi(){}const JB=(()=>{let t=0;return()=>t++})();function ke(t){return t===null||typeof t>"u"}function He(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function me(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function rn(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function $n(t,e){return rn(t)?t:e}function se(t,e){return typeof t>"u"?e:t}const ZB=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,lP=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Re(t,e,n){if(t&&typeof t.call=="function")return t.apply(n,e)}function Se(t,e,n,i){let r,s,o;if(He(t))for(s=t.length,r=0;r<s;r++)e.call(n,t[r],r);else if(me(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)e.call(n,t[o[r]],o[r])}function dd(t,e){let n,i,r,s;if(!t||!e||t.length!==e.length)return!1;for(n=0,i=t.length;n<i;++n)if(r=t[n],s=e[n],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function fd(t){if(He(t))return t.map(fd);if(me(t)){const e=Object.create(null),n=Object.keys(t),i=n.length;let r=0;for(;r<i;++r)e[n[r]]=fd(t[n[r]]);return e}return t}function uP(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function e9(t,e,n,i){if(!uP(t))return;const r=e[t],s=n[t];me(r)&&me(s)?iu(r,s,i):e[t]=fd(s)}function iu(t,e,n){const i=He(e)?e:[e],r=i.length;if(!me(t))return t;n=n||{};const s=n.merger||e9;let o;for(let a=0;a<r;++a){if(o=i[a],!me(o))continue;const l=Object.keys(o);for(let u=0,h=l.length;u<h;++u)s(l[u],t,o,n)}return t}function yl(t,e){return iu(t,e,{merger:t9})}function t9(t,e,n){if(!uP(t))return;const i=e[t],r=n[t];me(i)&&me(r)?yl(i,r):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=fd(r))}const rT={"":t=>t,x:t=>t.x,y:t=>t.y};function n9(t){const e=t.split("."),n=[];let i="";for(const r of e)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(n.push(i),i="");return n}function i9(t){const e=n9(t);return n=>{for(const i of e){if(i==="")break;n=n&&n[i]}return n}}function zr(t,e){return(rT[e]||(rT[e]=i9(e)))(t)}function q_(t){return t.charAt(0).toUpperCase()+t.slice(1)}const ru=t=>typeof t<"u",Br=t=>typeof t=="function",sT=(t,e)=>{if(t.size!==e.size)return!1;for(const n of t)if(!e.has(n))return!1;return!0};function r9(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Be=Math.PI,ze=2*Be,s9=ze+Be,pd=Number.POSITIVE_INFINITY,o9=Be/180,tt=Be/2,ns=Be/4,oT=Be*2/3,Tm=Math.log10,si=Math.sign;function _l(t,e,n){return Math.abs(t-e)<n}function aT(t){const e=Math.round(t);t=_l(t,e,t/1e3)?e:t;const n=Math.pow(10,Math.floor(Tm(t))),i=t/n;return(i<=1?1:i<=2?2:i<=5?5:10)*n}function a9(t){const e=[],n=Math.sqrt(t);let i;for(i=1;i<n;i++)t%i===0&&(e.push(i),e.push(t/i));return n===(n|0)&&e.push(n),e.sort((r,s)=>r-s).pop(),e}function gd(t){return!isNaN(parseFloat(t))&&isFinite(t)}function l9(t,e){const n=Math.round(t);return n-e<=t&&n+e>=t}function u9(t,e,n){let i,r,s;for(i=0,r=t.length;i<r;i++)s=t[i][n],isNaN(s)||(e.min=Math.min(e.min,s),e.max=Math.max(e.max,s))}function Xn(t){return t*(Be/180)}function G_(t){return t*(180/Be)}function lT(t){if(!rn(t))return;let e=1,n=0;for(;Math.round(t*e)/e!==t;)e*=10,n++;return n}function cP(t,e){const n=e.x-t.x,i=e.y-t.y,r=Math.sqrt(n*n+i*i);let s=Math.atan2(i,n);return s<-.5*Be&&(s+=ze),{angle:s,distance:r}}function Sm(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function c9(t,e){return(t-e+s9)%ze-Be}function Cn(t){return(t%ze+ze)%ze}function su(t,e,n,i){const r=Cn(t),s=Cn(e),o=Cn(n),a=Cn(s-r),l=Cn(o-r),u=Cn(r-s),h=Cn(r-o);return r===s||r===o||i&&s===o||a>l&&u<h}function Zt(t,e,n){return Math.max(e,Math.min(n,t))}function h9(t){return Zt(t,-32768,32767)}function mr(t,e,n,i=1e-6){return t>=Math.min(e,n)-i&&t<=Math.max(e,n)+i}function K_(t,e,n){n=n||(o=>t[o]<e);let i=t.length-1,r=0,s;for(;i-r>1;)s=r+i>>1,n(s)?r=s:i=s;return{lo:r,hi:i}}const xm=(t,e,n,i)=>K_(t,n,i?r=>{const s=t[r][e];return s<n||s===n&&t[r+1][e]===n}:r=>t[r][e]<n),d9=(t,e,n)=>K_(t,n,i=>t[i][e]>=n);function f9(t,e,n){let i=0,r=t.length;for(;i<r&&t[i]<e;)i++;for(;r>i&&t[r-1]>n;)r--;return i>0||r<t.length?t.slice(i,r):t}const hP=["push","pop","shift","splice","unshift"];function p9(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),hP.forEach(n=>{const i="_onData"+q_(n),r=t[n];Object.defineProperty(t,n,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{typeof a[i]=="function"&&a[i](...s)}),o}})})}function uT(t,e){const n=t._chartjs;if(!n)return;const i=n.listeners,r=i.indexOf(e);r!==-1&&i.splice(r,1),!(i.length>0)&&(hP.forEach(s=>{delete t[s]}),delete t._chartjs)}function dP(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const fP=function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame}();function pP(t,e){let n=[],i=!1;return function(...r){n=r,i||(i=!0,fP.call(window,()=>{i=!1,t.apply(e,n)}))}}function g9(t,e){let n;return function(...i){return e?(clearTimeout(n),n=setTimeout(t,e,i)):t.apply(this,i),e}}const Q_=t=>t==="start"?"left":t==="end"?"right":"center",At=(t,e,n)=>t==="start"?e:t==="end"?n:(e+n)/2,m9=(t,e,n,i)=>t===(i?"left":"right")?n:t==="center"?(e+n)/2:e,kc=t=>t===0||t===1,cT=(t,e,n)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*ze/n)),hT=(t,e,n)=>Math.pow(2,-10*t)*Math.sin((t-e)*ze/n)+1,vl={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*tt)+1,easeOutSine:t=>Math.sin(t*tt),easeInOutSine:t=>-.5*(Math.cos(Be*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>kc(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>kc(t)?t:cT(t,.075,.3),easeOutElastic:t=>kc(t)?t:hT(t,.075,.3),easeInOutElastic(t){return kc(t)?t:t<.5?.5*cT(t*2,.1125,.45):.5+.5*hT(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-vl.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?vl.easeInBounce(t*2)*.5:vl.easeOutBounce(t*2-1)*.5+.5};function X_(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function dT(t){return X_(t)?t:new nu(t)}function Vp(t){return X_(t)?t:new nu(t).saturate(.5).darken(.1).hexString()}const y9=["x","y","borderWidth","radius","tension"],_9=["color","borderColor","backgroundColor"];function v9(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:_9},numbers:{type:"number",properties:y9}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function w9(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const fT=new Map;function E9(t,e){e=e||{};const n=t+JSON.stringify(e);let i=fT.get(n);return i||(i=new Intl.NumberFormat(t,e),fT.set(n,i)),i}function J_(t,e,n){return E9(e,n).format(t)}const gP={values(t){return He(t)?t:""+t},numeric(t,e,n){if(t===0)return"0";const i=this.chart.options.locale;let r,s=t;if(n.length>1){const u=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=T9(t,n)}const o=Tm(Math.abs(s)),a=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),J_(t,i,l)},logarithmic(t,e,n){if(t===0)return"0";const i=n[e].significand||t/Math.pow(10,Math.floor(Tm(t)));return[1,2,3,5,10,15].includes(i)||e>.8*n.length?gP.numeric.call(this,t,e,n):""}};function T9(t,e){let n=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(n)>=1&&t!==Math.floor(t)&&(n=t-Math.floor(t)),n}var Z_={formatters:gP};function S9(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,n)=>n.lineWidth,tickColor:(e,n)=>n.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Z_.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const As=Object.create(null),Im=Object.create(null);function wl(t,e){if(!e)return t;const n=e.split(".");for(let i=0,r=n.length;i<r;++i){const s=n[i];t=t[s]||(t[s]=Object.create(null))}return t}function Fp(t,e,n){return typeof e=="string"?iu(wl(t,e),n):iu(wl(t,""),e)}class x9{constructor(e,n){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Vp(r.backgroundColor),this.hoverBorderColor=(i,r)=>Vp(r.borderColor),this.hoverColor=(i,r)=>Vp(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(n)}set(e,n){return Fp(this,e,n)}get(e){return wl(this,e)}describe(e,n){return Fp(Im,e,n)}override(e,n){return Fp(As,e,n)}route(e,n,i,r){const s=wl(this,e),o=wl(this,i),a="_"+n;Object.defineProperties(s,{[a]:{value:s[n],writable:!0},[n]:{enumerable:!0,get(){const l=this[a],u=o[r];return me(l)?Object.assign({},u,l):se(l,u)},set(l){this[a]=l}}})}apply(e){e.forEach(n=>n(this))}}var Qe=new x9({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[v9,w9,S9]);function I9(t){return!t||ke(t.size)||ke(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function md(t,e,n,i,r){let s=e[r];return s||(s=e[r]=t.measureText(r).width,n.push(r)),s>i&&(i=s),i}function k9(t,e,n,i){i=i||{};let r=i.data=i.data||{},s=i.garbageCollect=i.garbageCollect||[];i.font!==e&&(r=i.data={},s=i.garbageCollect=[],i.font=e),t.save(),t.font=e;let o=0;const a=n.length;let l,u,h,d,f;for(l=0;l<a;l++)if(d=n[l],d!=null&&!He(d))o=md(t,r,s,o,d);else if(He(d))for(u=0,h=d.length;u<h;u++)f=d[u],f!=null&&!He(f)&&(o=md(t,r,s,o,f));t.restore();const g=s.length/2;if(g>n.length){for(l=0;l<g;l++)delete r[s[l]];s.splice(0,g)}return o}function is(t,e,n){const i=t.currentDevicePixelRatio,r=n!==0?Math.max(n/2,.5):0;return Math.round((e-r)*i)/i+r}function pT(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function km(t,e,n,i){mP(t,e,n,i,null)}function mP(t,e,n,i,r){let s,o,a,l,u,h,d,f;const g=e.pointStyle,y=e.rotation,w=e.radius;let T=(y||0)*o9;if(g&&typeof g=="object"&&(s=g.toString(),s==="[object HTMLImageElement]"||s==="[object HTMLCanvasElement]")){t.save(),t.translate(n,i),t.rotate(T),t.drawImage(g,-g.width/2,-g.height/2,g.width,g.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),g){default:r?t.ellipse(n,i,r/2,w,0,0,ze):t.arc(n,i,w,0,ze),t.closePath();break;case"triangle":h=r?r/2:w,t.moveTo(n+Math.sin(T)*h,i-Math.cos(T)*w),T+=oT,t.lineTo(n+Math.sin(T)*h,i-Math.cos(T)*w),T+=oT,t.lineTo(n+Math.sin(T)*h,i-Math.cos(T)*w),t.closePath();break;case"rectRounded":u=w*.516,l=w-u,o=Math.cos(T+ns)*l,d=Math.cos(T+ns)*(r?r/2-u:l),a=Math.sin(T+ns)*l,f=Math.sin(T+ns)*(r?r/2-u:l),t.arc(n-d,i-a,u,T-Be,T-tt),t.arc(n+f,i-o,u,T-tt,T),t.arc(n+d,i+a,u,T,T+tt),t.arc(n-f,i+o,u,T+tt,T+Be),t.closePath();break;case"rect":if(!y){l=Math.SQRT1_2*w,h=r?r/2:l,t.rect(n-h,i-l,2*h,2*l);break}T+=ns;case"rectRot":d=Math.cos(T)*(r?r/2:w),o=Math.cos(T)*w,a=Math.sin(T)*w,f=Math.sin(T)*(r?r/2:w),t.moveTo(n-d,i-a),t.lineTo(n+f,i-o),t.lineTo(n+d,i+a),t.lineTo(n-f,i+o),t.closePath();break;case"crossRot":T+=ns;case"cross":d=Math.cos(T)*(r?r/2:w),o=Math.cos(T)*w,a=Math.sin(T)*w,f=Math.sin(T)*(r?r/2:w),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"star":d=Math.cos(T)*(r?r/2:w),o=Math.cos(T)*w,a=Math.sin(T)*w,f=Math.sin(T)*(r?r/2:w),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o),T+=ns,d=Math.cos(T)*(r?r/2:w),o=Math.cos(T)*w,a=Math.sin(T)*w,f=Math.sin(T)*(r?r/2:w),t.moveTo(n-d,i-a),t.lineTo(n+d,i+a),t.moveTo(n+f,i-o),t.lineTo(n-f,i+o);break;case"line":o=r?r/2:Math.cos(T)*w,a=Math.sin(T)*w,t.moveTo(n-o,i-a),t.lineTo(n+o,i+a);break;case"dash":t.moveTo(n,i),t.lineTo(n+Math.cos(T)*(r?r/2:w),i+Math.sin(T)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Ai(t,e,n){return n=n||.5,!e||t&&t.x>e.left-n&&t.x<e.right+n&&t.y>e.top-n&&t.y<e.bottom+n}function ev(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function tv(t){t.restore()}function b9(t,e,n,i,r){if(!e)return t.lineTo(n.x,n.y);if(r==="middle"){const s=(e.x+n.x)/2;t.lineTo(s,e.y),t.lineTo(s,n.y)}else r==="after"!=!!i?t.lineTo(e.x,n.y):t.lineTo(n.x,e.y);t.lineTo(n.x,n.y)}function P9(t,e,n,i){if(!e)return t.lineTo(n.x,n.y);t.bezierCurveTo(i?e.cp1x:e.cp2x,i?e.cp1y:e.cp2y,i?n.cp2x:n.cp1x,i?n.cp2y:n.cp1y,n.x,n.y)}function C9(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ke(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function A9(t,e,n,i,r){if(r.strikethrough||r.underline){const s=t.measureText(i),o=e-s.actualBoundingBoxLeft,a=e+s.actualBoundingBoxRight,l=n-s.actualBoundingBoxAscent,u=n+s.actualBoundingBoxDescent,h=r.strikethrough?(l+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,h),t.lineTo(a,h),t.stroke()}}function R9(t,e){const n=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=n}function Rs(t,e,n,i,r,s={}){const o=He(e)?e:[e],a=s.strokeWidth>0&&s.strokeColor!=="";let l,u;for(t.save(),t.font=r.string,C9(t,s),l=0;l<o.length;++l)u=o[l],s.backdrop&&R9(t,s.backdrop),a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),ke(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,n,i,s.maxWidth)),t.fillText(u,n,i,s.maxWidth),A9(t,n,i,u,s),i+=Number(r.lineHeight);t.restore()}function ou(t,e){const{x:n,y:i,w:r,h:s,radius:o}=e;t.arc(n+o.topLeft,i+o.topLeft,o.topLeft,1.5*Be,Be,!0),t.lineTo(n,i+s-o.bottomLeft),t.arc(n+o.bottomLeft,i+s-o.bottomLeft,o.bottomLeft,Be,tt,!0),t.lineTo(n+r-o.bottomRight,i+s),t.arc(n+r-o.bottomRight,i+s-o.bottomRight,o.bottomRight,tt,0,!0),t.lineTo(n+r,i+o.topRight),t.arc(n+r-o.topRight,i+o.topRight,o.topRight,0,-tt,!0),t.lineTo(n+o.topLeft,i)}const D9=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,M9=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function O9(t,e){const n=(""+t).match(D9);if(!n||n[1]==="normal")return e*1.2;switch(t=+n[2],n[3]){case"px":return t;case"%":t/=100;break}return e*t}const N9=t=>+t||0;function nv(t,e){const n={},i=me(e),r=i?Object.keys(e):e,s=me(t)?i?o=>se(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of r)n[o]=N9(s(o));return n}function yP(t){return nv(t,{top:"y",right:"x",bottom:"y",left:"x"})}function vs(t){return nv(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Vt(t){const e=yP(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function lt(t,e){t=t||{},e=e||Qe.font;let n=se(t.size,e.size);typeof n=="string"&&(n=parseInt(n,10));let i=se(t.style,e.style);i&&!(""+i).match(M9)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:se(t.family,e.family),lineHeight:O9(se(t.lineHeight,e.lineHeight),n),size:n,style:i,weight:se(t.weight,e.weight),string:""};return r.string=I9(r),r}function bc(t,e,n,i){let r,s,o;for(r=0,s=t.length;r<s;++r)if(o=t[r],o!==void 0&&o!==void 0)return o}function L9(t,e,n){const{min:i,max:r}=t,s=lP(e,(r-i)/2),o=(a,l)=>n&&a===0?0:a+l;return{min:o(i,-Math.abs(s)),max:o(r,s)}}function Qr(t,e){return Object.assign(Object.create(t),e)}function iv(t,e=[""],n,i,r=()=>t[0]){const s=n||t;typeof i>"u"&&(i=EP("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:s,_fallback:i,_getTarget:r,override:a=>iv([a,...t],e,s,i)};return new Proxy(o,{deleteProperty(a,l){return delete a[l],delete a._keys,delete t[0][l],!0},get(a,l){return vP(a,l,()=>H9(l,e,t,a))},getOwnPropertyDescriptor(a,l){return Reflect.getOwnPropertyDescriptor(a._scopes[0],l)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(a,l){return mT(a).includes(l)},ownKeys(a){return mT(a)},set(a,l,u){const h=a._storage||(a._storage=r());return a[l]=h[l]=u,delete a._keys,!0}})}function $o(t,e,n,i){const r={_cacheable:!1,_proxy:t,_context:e,_subProxy:n,_stack:new Set,_descriptors:_P(t,i),setContext:s=>$o(t,s,n,i),override:s=>$o(t.override(s),e,n,i)};return new Proxy(r,{deleteProperty(s,o){return delete s[o],delete t[o],!0},get(s,o,a){return vP(s,o,()=>F9(s,o,a))},getOwnPropertyDescriptor(s,o){return s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(s,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(s,o,a){return t[o]=a,delete s[o],!0}})}function _P(t,e={scriptable:!0,indexable:!0}){const{_scriptable:n=e.scriptable,_indexable:i=e.indexable,_allKeys:r=e.allKeys}=t;return{allKeys:r,scriptable:n,indexable:i,isScriptable:Br(n)?n:()=>n,isIndexable:Br(i)?i:()=>i}}const V9=(t,e)=>t?t+q_(e):e,rv=(t,e)=>me(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function vP(t,e,n){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const i=n();return t[e]=i,i}function F9(t,e,n){const{_proxy:i,_context:r,_subProxy:s,_descriptors:o}=t;let a=i[e];return Br(a)&&o.isScriptable(e)&&(a=j9(e,a,t,n)),He(a)&&a.length&&(a=U9(e,a,t,o.isIndexable)),rv(e,a)&&(a=$o(a,r,s&&s[e],o)),a}function j9(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=n;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);a.add(t);let l=e(s,o||i);return a.delete(t),rv(t,l)&&(l=sv(r._scopes,r,t,l)),l}function U9(t,e,n,i){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=n;if(typeof s.index<"u"&&i(t))return e[s.index%e.length];if(me(e[0])){const l=e,u=r._scopes.filter(h=>h!==l);e=[];for(const h of l){const d=sv(u,r,t,h);e.push($o(d,s,o&&o[t],a))}}return e}function wP(t,e,n){return Br(t)?t(e,n):t}const z9=(t,e)=>t===!0?e:typeof t=="string"?zr(e,t):void 0;function B9(t,e,n,i,r){for(const s of e){const o=z9(n,s);if(o){t.add(o);const a=wP(o._fallback,n,r);if(typeof a<"u"&&a!==n&&a!==i)return a}else if(o===!1&&typeof i<"u"&&n!==i)return null}return!1}function sv(t,e,n,i){const r=e._rootScopes,s=wP(e._fallback,n,i),o=[...t,...r],a=new Set;a.add(i);let l=gT(a,o,n,s||n,i);return l===null||typeof s<"u"&&s!==n&&(l=gT(a,o,s,l,i),l===null)?!1:iv(Array.from(a),[""],r,s,()=>W9(e,n,i))}function gT(t,e,n,i,r){for(;n;)n=B9(t,e,n,i,r);return n}function W9(t,e,n){const i=t._getTarget();e in i||(i[e]={});const r=i[e];return He(r)&&me(n)?n:r||{}}function H9(t,e,n,i){let r;for(const s of e)if(r=EP(V9(s,t),n),typeof r<"u")return rv(t,r)?sv(n,i,t,r):r}function EP(t,e){for(const n of e){if(!n)continue;const i=n[t];if(typeof i<"u")return i}}function mT(t){let e=t._keys;return e||(e=t._keys=$9(t._scopes)),e}function $9(t){const e=new Set;for(const n of t)for(const i of Object.keys(n).filter(r=>!r.startsWith("_")))e.add(i);return Array.from(e)}function Y9(t,e,n,i){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(i);let a,l,u,h;for(a=0,l=i;a<l;++a)u=a+n,h=e[u],o[a]={r:r.parse(zr(h,s),u)};return o}const q9=Number.EPSILON||1e-14,Yo=(t,e)=>e<t.length&&!t[e].skip&&t[e],TP=t=>t==="x"?"y":"x";function G9(t,e,n,i){const r=t.skip?e:t,s=e,o=n.skip?e:n,a=Sm(s,r),l=Sm(o,s);let u=a/(a+l),h=l/(a+l);u=isNaN(u)?0:u,h=isNaN(h)?0:h;const d=i*u,f=i*h;return{previous:{x:s.x-d*(o.x-r.x),y:s.y-d*(o.y-r.y)},next:{x:s.x+f*(o.x-r.x),y:s.y+f*(o.y-r.y)}}}function K9(t,e,n){const i=t.length;let r,s,o,a,l,u=Yo(t,0);for(let h=0;h<i-1;++h)if(l=u,u=Yo(t,h+1),!(!l||!u)){if(_l(e[h],0,q9)){n[h]=n[h+1]=0;continue}r=n[h]/e[h],s=n[h+1]/e[h],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),n[h]=r*o*e[h],n[h+1]=s*o*e[h])}}function Q9(t,e,n="x"){const i=TP(n),r=t.length;let s,o,a,l=Yo(t,0);for(let u=0;u<r;++u){if(o=a,a=l,l=Yo(t,u+1),!a)continue;const h=a[n],d=a[i];o&&(s=(h-o[n])/3,a[`cp1${n}`]=h-s,a[`cp1${i}`]=d-s*e[u]),l&&(s=(l[n]-h)/3,a[`cp2${n}`]=h+s,a[`cp2${i}`]=d+s*e[u])}}function X9(t,e="x"){const n=TP(e),i=t.length,r=Array(i).fill(0),s=Array(i);let o,a,l,u=Yo(t,0);for(o=0;o<i;++o)if(a=l,l=u,u=Yo(t,o+1),!!l){if(u){const h=u[e]-l[e];r[o]=h!==0?(u[n]-l[n])/h:0}s[o]=a?u?si(r[o-1])!==si(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}K9(t,r,s),Q9(t,s,e)}function Pc(t,e,n){return Math.max(Math.min(t,n),e)}function J9(t,e){let n,i,r,s,o,a=Ai(t[0],e);for(n=0,i=t.length;n<i;++n)o=s,s=a,a=n<i-1&&Ai(t[n+1],e),s&&(r=t[n],o&&(r.cp1x=Pc(r.cp1x,e.left,e.right),r.cp1y=Pc(r.cp1y,e.top,e.bottom)),a&&(r.cp2x=Pc(r.cp2x,e.left,e.right),r.cp2y=Pc(r.cp2y,e.top,e.bottom)))}function Z9(t,e,n,i,r){let s,o,a,l;if(e.spanGaps&&(t=t.filter(u=>!u.skip)),e.cubicInterpolationMode==="monotone")X9(t,r);else{let u=i?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=G9(u,a,t[Math.min(s+1,o-(i?0:1))%o],e.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}e.capBezierPoints&&J9(t,n)}function ov(){return typeof window<"u"&&typeof document<"u"}function av(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function yd(t,e,n){let i;return typeof t=="string"?(i=parseInt(t,10),t.indexOf("%")!==-1&&(i=i/100*e.parentNode[n])):i=t,i}const Tf=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function e5(t,e){return Tf(t).getPropertyValue(e)}const t5=["top","right","bottom","left"];function ws(t,e,n){const i={};n=n?"-"+n:"";for(let r=0;r<4;r++){const s=t5[r];i[s]=parseFloat(t[e+"-"+s+n])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const n5=(t,e,n)=>(t>0||e>0)&&(!n||!n.shadowRoot);function i5(t,e){const n=t.touches,i=n&&n.length?n[0]:t,{offsetX:r,offsetY:s}=i;let o=!1,a,l;if(n5(r,s,t.target))a=r,l=s;else{const u=e.getBoundingClientRect();a=i.clientX-u.left,l=i.clientY-u.top,o=!0}return{x:a,y:l,box:o}}function ls(t,e){if("native"in t)return t;const{canvas:n,currentDevicePixelRatio:i}=e,r=Tf(n),s=r.boxSizing==="border-box",o=ws(r,"padding"),a=ws(r,"border","width"),{x:l,y:u,box:h}=i5(t,n),d=o.left+(h&&a.left),f=o.top+(h&&a.top);let{width:g,height:y}=e;return s&&(g-=o.width+a.width,y-=o.height+a.height),{x:Math.round((l-d)/g*n.width/i),y:Math.round((u-f)/y*n.height/i)}}function r5(t,e,n){let i,r;if(e===void 0||n===void 0){const s=t&&av(t);if(!s)e=t.clientWidth,n=t.clientHeight;else{const o=s.getBoundingClientRect(),a=Tf(s),l=ws(a,"border","width"),u=ws(a,"padding");e=o.width-u.width-l.width,n=o.height-u.height-l.height,i=yd(a.maxWidth,s,"clientWidth"),r=yd(a.maxHeight,s,"clientHeight")}}return{width:e,height:n,maxWidth:i||pd,maxHeight:r||pd}}const Cc=t=>Math.round(t*10)/10;function s5(t,e,n,i){const r=Tf(t),s=ws(r,"margin"),o=yd(r.maxWidth,t,"clientWidth")||pd,a=yd(r.maxHeight,t,"clientHeight")||pd,l=r5(t,e,n);let{width:u,height:h}=l;if(r.boxSizing==="content-box"){const f=ws(r,"border","width"),g=ws(r,"padding");u-=g.width+f.width,h-=g.height+f.height}return u=Math.max(0,u-s.width),h=Math.max(0,i?u/i:h-s.height),u=Cc(Math.min(u,o,l.maxWidth)),h=Cc(Math.min(h,a,l.maxHeight)),u&&!h&&(h=Cc(u/2)),(e!==void 0||n!==void 0)&&i&&l.height&&h>l.height&&(h=l.height,u=Cc(Math.floor(h*i))),{width:u,height:h}}function yT(t,e,n){const i=e||1,r=Math.floor(t.height*i),s=Math.floor(t.width*i);t.height=Math.floor(t.height),t.width=Math.floor(t.width);const o=t.canvas;return o.style&&(n||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==i||o.height!==r||o.width!==s?(t.currentDevicePixelRatio=i,o.height=r,o.width=s,t.ctx.setTransform(i,0,0,i,0,0),!0):!1}const o5=function(){let t=!1;try{const e={get passive(){return t=!0,!1}};ov()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t}();function _T(t,e){const n=e5(t,e),i=n&&n.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function us(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:t.y+n*(e.y-t.y)}}function a5(t,e,n,i){return{x:t.x+n*(e.x-t.x),y:i==="middle"?n<.5?t.y:e.y:i==="after"?n<1?t.y:e.y:n>0?e.y:t.y}}function l5(t,e,n,i){const r={x:t.cp2x,y:t.cp2y},s={x:e.cp1x,y:e.cp1y},o=us(t,r,n),a=us(r,s,n),l=us(s,e,n),u=us(o,a,n),h=us(a,l,n);return us(u,h,n)}const u5=function(t,e){return{x(n){return t+t+e-n},setWidth(n){e=n},textAlign(n){return n==="center"?n:n==="right"?"left":"right"},xPlus(n,i){return n-i},leftForLtr(n,i){return n-i}}},c5=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function ko(t,e,n){return t?u5(e,n):c5()}function SP(t,e){let n,i;(e==="ltr"||e==="rtl")&&(n=t.canvas.style,i=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",e,"important"),t.prevTextDirection=i)}function xP(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function IP(t){return t==="angle"?{between:su,compare:c9,normalize:Cn}:{between:mr,compare:(e,n)=>e-n,normalize:e=>e}}function vT({start:t,end:e,count:n,loop:i,style:r}){return{start:t%n,end:e%n,loop:i&&(e-t+1)%n===0,style:r}}function h5(t,e,n){const{property:i,start:r,end:s}=n,{between:o,normalize:a}=IP(i),l=e.length;let{start:u,end:h,loop:d}=t,f,g;if(d){for(u+=l,h+=l,f=0,g=l;f<g&&o(a(e[u%l][i]),r,s);++f)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:d,style:t.style}}function d5(t,e,n){if(!n)return[t];const{property:i,start:r,end:s}=n,o=e.length,{compare:a,between:l,normalize:u}=IP(i),{start:h,end:d,loop:f,style:g}=h5(t,e,n),y=[];let w=!1,T=null,_,v,x;const R=()=>l(r,x,_)&&a(r,x)!==0,M=()=>a(s,_)===0||l(s,x,_),N=()=>w||R(),I=()=>!w||M();for(let E=h,k=h;E<=d;++E)v=e[E%o],!v.skip&&(_=u(v[i]),_!==x&&(w=l(_,r,s),T===null&&N()&&(T=a(_,r)===0?E:k),T!==null&&I()&&(y.push(vT({start:T,end:E,loop:f,count:o,style:g})),T=null),k=E,x=_));return T!==null&&y.push(vT({start:T,end:d,loop:f,count:o,style:g})),y}function f5(t,e){const n=[],i=t.segments;for(let r=0;r<i.length;r++){const s=d5(i[r],t.points,e);s.length&&n.push(...s)}return n}function p5(t,e,n,i){let r=0,s=e-1;if(n&&!i)for(;r<e&&!t[r].skip;)r++;for(;r<e&&t[r].skip;)r++;for(r%=e,n&&(s+=r);s>r&&t[s%e].skip;)s--;return s%=e,{start:r,end:s}}function g5(t,e,n,i){const r=t.length,s=[];let o=e,a=t[e],l;for(l=e+1;l<=n;++l){const u=t[l%r];u.skip||u.stop?a.skip||(i=!1,s.push({start:e%r,end:(l-1)%r,loop:i}),e=o=u.stop?l:null):(o=l,a.skip&&(e=l)),a=u}return o!==null&&s.push({start:e%r,end:o%r,loop:i}),s}function m5(t,e){const n=t.points,i=t.options.spanGaps,r=n.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=p5(n,r,s,i);if(i===!0)return wT(t,[{start:o,end:a,loop:s}],n,e);const l=a<o?a+r:a,u=!!t._fullLoop&&o===0&&a===r-1;return wT(t,g5(n,o,l,u),n,e)}function wT(t,e,n,i){return!i||!i.setContext||!n?e:y5(t,e,n,i)}function y5(t,e,n,i){const r=t._chart.getContext(),s=ET(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=n.length,u=[];let h=s,d=e[0].start,f=d;function g(y,w,T,_){const v=a?-1:1;if(y!==w){for(y+=l;n[y%l].skip;)y-=v;for(;n[w%l].skip;)w+=v;y%l!==w%l&&(u.push({start:y%l,end:w%l,loop:T,style:_}),h=_,d=w%l)}}for(const y of e){d=a?d:y.start;let w=n[d%l],T;for(f=d+1;f<=y.end;f++){const _=n[f%l];T=ET(i.setContext(Qr(r,{type:"segment",p0:w,p1:_,p0DataIndex:(f-1)%l,p1DataIndex:f%l,datasetIndex:o}))),_5(T,h)&&g(d,f-1,y.loop,h),w=_,h=T}d<f-1&&g(d,f-1,y.loop,h)}return u}function ET(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function _5(t,e){if(!e)return!1;const n=[],i=function(r,s){return X_(s)?(n.includes(s)||n.push(s),n.indexOf(s)):s};return JSON.stringify(t,i)!==JSON.stringify(e,i)}/*!
 * Chart.js v4.4.6
 * https://www.chartjs.org
 * (c) 2024 Chart.js Contributors
 * Released under the MIT License
 */class v5{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,n,i,r){const s=n.listeners[r],o=n.duration;s.forEach(a=>a({chart:e,initial:n.initial,numSteps:o,currentStep:Math.min(i-n.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=fP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let n=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const s=i.items;let o=s.length-1,a=!1,l;for(;o>=0;--o)l=s[o],l._active?(l._total>i.duration&&(i.duration=l._total),l.tick(e),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,i,e,"progress")),s.length||(i.running=!1,this._notify(r,i,e,"complete"),i.initial=!1),n+=s.length}),this._lastDate=e,n===0&&(this._running=!1)}_getAnims(e){const n=this._charts;let i=n.get(e);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},n.set(e,i)),i}listen(e,n,i){this._getAnims(e).listeners[n].push(i)}add(e,n){!n||!n.length||this._getAnims(e).items.push(...n)}has(e){return this._getAnims(e).items.length>0}start(e){const n=this._charts.get(e);n&&(n.running=!0,n.start=Date.now(),n.duration=n.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(e){if(!this._running)return!1;const n=this._charts.get(e);return!(!n||!n.running||!n.items.length)}stop(e){const n=this._charts.get(e);if(!n||!n.items.length)return;const i=n.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();n.items=[],this._notify(e,n,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var mi=new v5;const TT="transparent",w5={boolean(t,e,n){return n>.5?e:t},color(t,e,n){const i=dT(t||TT),r=i.valid&&dT(e||TT);return r&&r.valid?r.mix(i,n).hexString():e},number(t,e,n){return t+(e-t)*n}};class E5{constructor(e,n,i,r){const s=n[i];r=bc([e.to,r,s,e.from]);const o=bc([e.from,s,r]);this._active=!0,this._fn=e.fn||w5[e.type||typeof o],this._easing=vl[e.easing]||vl.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=n,this._prop=i,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(e,n,i){if(this._active){this._notify(!1);const r=this._target[this._prop],s=i-this._start,o=this._duration-s;this._start=i,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=bc([e.to,n,r,e.from]),this._from=bc([e.from,r,n])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const n=e-this._start,i=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||n<i),!this._active){this._target[r]=a,this._notify(!0);return}if(n<0){this._target[r]=s;return}l=n/i%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l)}wait(){const e=this._promises||(this._promises=[]);return new Promise((n,i)=>{e.push({res:n,rej:i})})}_notify(e){const n=e?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][n]()}}class kP{constructor(e,n){this._chart=e,this._properties=new Map,this.configure(n)}configure(e){if(!me(e))return;const n=Object.keys(Qe.animation),i=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!me(s))return;const o={};for(const a of n)o[a]=s[a];(He(s.properties)&&s.properties||[r]).forEach(a=>{(a===r||!i.has(a))&&i.set(a,o)})})}_animateOptions(e,n){const i=n.options,r=S5(e,i);if(!r)return[];const s=this._createAnimations(r,i);return i.$shared&&T5(e.options.$animations,i).then(()=>{e.options=i},()=>{}),s}_createAnimations(e,n){const i=this._properties,r=[],s=e.$animations||(e.$animations={}),o=Object.keys(n),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if(u.charAt(0)==="$")continue;if(u==="options"){r.push(...this._animateOptions(e,n));continue}const h=n[u];let d=s[u];const f=i.get(u);if(d)if(f&&d.active()){d.update(f,h,a);continue}else d.cancel();if(!f||!f.duration){e[u]=h;continue}s[u]=d=new E5(f,e,u,h),r.push(d)}return r}update(e,n){if(this._properties.size===0){Object.assign(e,n);return}const i=this._createAnimations(e,n);if(i.length)return mi.add(this._chart,i),!0}}function T5(t,e){const n=[],i=Object.keys(e);for(let r=0;r<i.length;r++){const s=t[i[r]];s&&s.active()&&n.push(s.wait())}return Promise.all(n)}function S5(t,e){if(!e)return;let n=t.options;if(!n){t.options=e;return}return n.$shared&&(t.options=n=Object.assign({},n,{$shared:!1,$animations:{}})),n}function ST(t,e){const n=t&&t.options||{},i=n.reverse,r=n.min===void 0?e:0,s=n.max===void 0?e:0;return{start:i?s:r,end:i?r:s}}function x5(t,e,n){if(n===!1)return!1;const i=ST(t,n),r=ST(e,n);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function I5(t){let e,n,i,r;return me(t)?(e=t.top,n=t.right,i=t.bottom,r=t.left):e=n=i=r=t,{top:e,right:n,bottom:i,left:r,disabled:t===!1}}function bP(t,e){const n=[],i=t._getSortedDatasetMetas(e);let r,s;for(r=0,s=i.length;r<s;++r)n.push(i[r].index);return n}function xT(t,e,n,i={}){const r=t.keys,s=i.mode==="single";let o,a,l,u;if(e===null)return;let h=!1;for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===n){if(h=!0,i.all)continue;break}u=t.values[l],rn(u)&&(s||e===0||si(e)===si(u))&&(e+=u)}return!h&&!i.all?0:e}function k5(t,e){const{iScale:n,vScale:i}=e,r=n.axis==="x"?"x":"y",s=i.axis==="x"?"x":"y",o=Object.keys(t),a=new Array(o.length);let l,u,h;for(l=0,u=o.length;l<u;++l)h=o[l],a[l]={[r]:h,[s]:t[h]};return a}function jp(t,e){const n=t&&t.options.stacked;return n||n===void 0&&e.stack!==void 0}function b5(t,e,n){return`${t.id}.${e.id}.${n.stack||n.type}`}function P5(t){const{min:e,max:n,minDefined:i,maxDefined:r}=t.getUserBounds();return{min:i?e:Number.NEGATIVE_INFINITY,max:r?n:Number.POSITIVE_INFINITY}}function C5(t,e,n){const i=t[e]||(t[e]={});return i[n]||(i[n]={})}function IT(t,e,n,i){for(const r of e.getMatchingVisibleMetas(i).reverse()){const s=t[r.index];if(n&&s>0||!n&&s<0)return r.index}return null}function kT(t,e){const{chart:n,_cachedMeta:i}=t,r=n._stacks||(n._stacks={}),{iScale:s,vScale:o,index:a}=i,l=s.axis,u=o.axis,h=b5(s,o,i),d=e.length;let f;for(let g=0;g<d;++g){const y=e[g],{[l]:w,[u]:T}=y,_=y._stacks||(y._stacks={});f=_[u]=C5(r,h,w),f[a]=T,f._top=IT(f,o,!0,i.type),f._bottom=IT(f,o,!1,i.type);const v=f._visualValues||(f._visualValues={});v[a]=T}}function Up(t,e){const n=t.scales;return Object.keys(n).filter(i=>n[i].axis===e).shift()}function A5(t,e){return Qr(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function R5(t,e,n){return Qr(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:n,index:e,mode:"default",type:"data"})}function Oa(t,e){const n=t.controller.index,i=t.vScale&&t.vScale.axis;if(i){e=e||t._parsed;for(const r of e){const s=r._stacks;if(!s||s[i]===void 0||s[i][n]===void 0)return;delete s[i][n],s[i]._visualValues!==void 0&&s[i]._visualValues[n]!==void 0&&delete s[i]._visualValues[n]}}}const zp=t=>t==="reset"||t==="none",bT=(t,e)=>e?t:Object.assign({},t),D5=(t,e,n)=>t&&!e.hidden&&e._stacked&&{keys:bP(n,!0),values:null};class Es{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=jp(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Oa(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,i=this.getDataset(),r=(d,f,g,y)=>d==="x"?f:d==="r"?y:g,s=n.xAxisID=se(i.xAxisID,Up(e,"x")),o=n.yAxisID=se(i.yAxisID,Up(e,"y")),a=n.rAxisID=se(i.rAxisID,Up(e,"r")),l=n.indexAxis,u=n.iAxisID=r(l,s,o,a),h=n.vAxisID=r(l,o,s,a);n.xScale=this.getScaleForId(s),n.yScale=this.getScaleForId(o),n.rScale=this.getScaleForId(a),n.iScale=this.getScaleForId(u),n.vScale=this.getScaleForId(h)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&uT(this._data,this),e._stacked&&Oa(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),i=this._data;if(me(n)){const r=this._cachedMeta;this._data=k5(n,r)}else if(i!==n){if(i){uT(i,this);const r=this._cachedMeta;Oa(r),r._parsed=[]}n&&Object.isExtensible(n)&&p9(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const s=n._stacked;n._stacked=jp(n.vScale,n),n.stack!==i.stack&&(r=!0,Oa(n),n.stack=i.stack),this._resyncElements(e),(r||s!==n._stacked)&&(kT(this,n._parsed),n._stacked=jp(n.vScale,n))}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),i=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:i,_data:r}=this,{iScale:s,_stacked:o}=i,a=s.axis;let l=e===0&&n===r.length?!0:i._sorted,u=e>0&&i._parsed[e-1],h,d,f;if(this._parsing===!1)i._parsed=r,i._sorted=!0,f=r;else{He(r[e])?f=this.parseArrayData(i,r,e,n):me(r[e])?f=this.parseObjectData(i,r,e,n):f=this.parsePrimitiveData(i,r,e,n);const g=()=>d[a]===null||u&&d[a]<u[a];for(h=0;h<n;++h)i._parsed[h+e]=d=f[h],l&&(g()&&(l=!1),u=d);i._sorted=l}o&&kT(this,f)}parsePrimitiveData(e,n,i,r){const{iScale:s,vScale:o}=e,a=s.axis,l=o.axis,u=s.getLabels(),h=s===o,d=new Array(r);let f,g,y;for(f=0,g=r;f<g;++f)y=f+i,d[f]={[a]:h||s.parse(u[y],y),[l]:o.parse(n[y],y)};return d}parseArrayData(e,n,i,r){const{xScale:s,yScale:o}=e,a=new Array(r);let l,u,h,d;for(l=0,u=r;l<u;++l)h=l+i,d=n[h],a[l]={x:s.parse(d[0],h),y:o.parse(d[1],h)};return a}parseObjectData(e,n,i,r){const{xScale:s,yScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=new Array(r);let h,d,f,g;for(h=0,d=r;h<d;++h)f=h+i,g=n[f],u[h]={x:s.parse(zr(g,a),f),y:o.parse(zr(g,l),f)};return u}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,i){const r=this.chart,s=this._cachedMeta,o=n[e.axis],a={keys:bP(r,!0),values:n._stacks[e.axis]._visualValues};return xT(a,o,s.index,{mode:i})}updateRangeFromParsed(e,n,i,r){const s=i[n.axis];let o=s===null?NaN:s;const a=r&&i._stacks[n.axis];r&&a&&(r.values=a,o=xT(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,n){const i=this._cachedMeta,r=i._parsed,s=i._sorted&&e===i.iScale,o=r.length,a=this._getOtherScale(e),l=D5(n,i,this.chart),u={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:h,max:d}=P5(a);let f,g;function y(){g=r[f];const w=g[a.axis];return!rn(g[e.axis])||h>w||d<w}for(f=0;f<o&&!(!y()&&(this.updateRangeFromParsed(u,e,g,l),s));++f);if(s){for(f=o-1;f>=0;--f)if(!y()){this.updateRangeFromParsed(u,e,g,l);break}}return u}getAllParsedValues(e){const n=this._cachedMeta._parsed,i=[];let r,s,o;for(r=0,s=n.length;r<s;++r)o=n[r][e.axis],rn(o)&&i.push(o);return i}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,i=n.iScale,r=n.vScale,s=this.getParsed(e);return{label:i?""+i.getLabelForValue(s[i.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=I5(se(this.options.clip,x5(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,n=this.chart,i=this._cachedMeta,r=i.data||[],s=n.chartArea,o=[],a=this._drawStart||0,l=this._drawCount||r.length-a,u=this.options.drawActiveElementsOnTop;let h;for(i.dataset&&i.dataset.draw(e,s,a,l),h=a;h<a+l;++h){const d=r[h];d.hidden||(d.active&&u?o.push(d):d.draw(e,s))}for(h=0;h<o.length;++h)o[h].draw(e,s)}getStyle(e,n){const i=n?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(e||0,i)}getContext(e,n,i){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];s=o.$context||(o.$context=R5(this.getContext(),e,o)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=A5(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!n,s.mode=i,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",i){const r=n==="active",s=this._cachedDataOpts,o=e+"-"+n,a=s[o],l=this.enableOptionSharing&&ru(i);if(a)return bT(a,l);const u=this.chart.config,h=u.datasetElementScopeKeys(this._type,e),d=r?[`${e}Hover`,"hover",e,""]:[e,""],f=u.getOptionScopes(this.getDataset(),h),g=Object.keys(Qe.elements[e]),y=()=>this.getContext(i,r,n),w=u.resolveNamedOptions(f,g,y,d);return w.$shared&&(w.$shared=l,s[o]=Object.freeze(bT(w,l))),w}_resolveAnimations(e,n,i){const r=this.chart,s=this._cachedDataOpts,o=`animation-${n}`,a=s[o];if(a)return a;let l;if(r.options.animation!==!1){const h=this.chart.config,d=h.datasetAnimationScopeKeys(this._type,n),f=h.getOptionScopes(this.getDataset(),d);l=h.createResolver(f,this.getContext(e,i,n))}const u=new kP(r,l&&l.animations);return l&&l._cacheable&&(s[o]=Object.freeze(u)),u}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||zp(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const i=this.resolveDataElementOptions(e,n),r=this._sharedOptions,s=this.getSharedOptions(i),o=this.includeOptions(n,s)||s!==r;return this.updateSharedOptions(s,n,i),{sharedOptions:s,includeOptions:o}}updateElement(e,n,i,r){zp(r)?Object.assign(e,i):this._resolveAnimations(n,r).update(e,i)}updateSharedOptions(e,n,i){e&&!zp(n)&&this._resolveAnimations(void 0,n).update(e,i)}_setStyle(e,n,i,r){e.active=r;const s=this.getStyle(n,r);this._resolveAnimations(n,i,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,n,i){this._setStyle(e,i,"active",!1)}setHoverStyle(e,n,i){this._setStyle(e,i,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,i=this._cachedMeta.data;for(const[a,l,u]of this._syncList)this[a](l,u);this._syncList=[];const r=i.length,s=n.length,o=Math.min(s,r);o&&this.parse(0,o),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,n,i=!0){const r=this._cachedMeta,s=r.data,o=e+n;let a;const l=u=>{for(u.length+=n,a=u.length-1;a>=o;a--)u[a]=u[a-n]};for(l(s),a=e;a<o;++a)s[a]=new this.dataElementType;this._parsing&&l(r._parsed),this.parse(e,n),i&&this.updateElements(s,e,n,"reset")}updateElements(e,n,i,r){}_removeElements(e,n){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(e,n);i._stacked&&Oa(i,r)}i.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,i,r]=e;this[n](i,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const i=arguments.length-2;i&&this._sync(["_insertElements",e,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}Y(Es,"defaults",{}),Y(Es,"datasetElementType",null),Y(Es,"dataElementType",null);function M5(t,e){if(!t._cache.$bar){const n=t.getMatchingVisibleMetas(e);let i=[];for(let r=0,s=n.length;r<s;r++)i=i.concat(n[r].controller.getAllParsedValues(t));t._cache.$bar=dP(i.sort((r,s)=>r-s))}return t._cache.$bar}function O5(t){const e=t.iScale,n=M5(e,t.type);let i=e._length,r,s,o,a;const l=()=>{o===32767||o===-32768||(ru(a)&&(i=Math.min(i,Math.abs(o-a)||i)),a=o)};for(r=0,s=n.length;r<s;++r)o=e.getPixelForValue(n[r]),l();for(a=void 0,r=0,s=e.ticks.length;r<s;++r)o=e.getPixelForTick(r),l();return i}function N5(t,e,n,i){const r=n.barThickness;let s,o;return ke(r)?(s=e.min*n.categoryPercentage,o=n.barPercentage):(s=r*i,o=1),{chunk:s/i,ratio:o,start:e.pixels[t]-s/2}}function L5(t,e,n,i){const r=e.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=n.categoryPercentage;o===null&&(o=s-(a===null?e.end-e.start:a-s)),a===null&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/i,ratio:n.barPercentage,start:u}}function V5(t,e,n,i){const r=n.parse(t[0],i),s=n.parse(t[1],i),o=Math.min(r,s),a=Math.max(r,s);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),e[n.axis]=u,e._custom={barStart:l,barEnd:u,start:r,end:s,min:o,max:a}}function PP(t,e,n,i){return He(t)?V5(t,e,n,i):e[n.axis]=n.parse(t,i),e}function PT(t,e,n,i){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let u,h,d,f;for(u=n,h=n+i;u<h;++u)f=e[u],d={},d[r.axis]=a||r.parse(o[u],u),l.push(PP(f,d,s,u));return l}function Bp(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function F5(t,e,n){return t!==0?si(t):(e.isHorizontal()?1:-1)*(e.min>=n?1:-1)}function j5(t){let e,n,i,r,s;return t.horizontal?(e=t.base>t.x,n="left",i="right"):(e=t.base<t.y,n="bottom",i="top"),e?(r="end",s="start"):(r="start",s="end"),{start:n,end:i,reverse:e,top:r,bottom:s}}function U5(t,e,n,i){let r=e.borderSkipped;const s={};if(!r){t.borderSkipped=s;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:a,reverse:l,top:u,bottom:h}=j5(t);r==="middle"&&n&&(t.enableBorderRadius=!0,(n._top||0)===i?r=u:(n._bottom||0)===i?r=h:(s[CT(h,o,a,l)]=!0,r=u)),s[CT(r,o,a,l)]=!0,t.borderSkipped=s}function CT(t,e,n,i){return i?(t=z5(t,e,n),t=AT(t,n,e)):t=AT(t,e,n),t}function z5(t,e,n){return t===e?n:t===n?e:t}function AT(t,e,n){return t==="start"?e:t==="end"?n:t}function B5(t,{inflateAmount:e},n){t.inflateAmount=e==="auto"?n===1?.33:0:e}class lh extends Es{parsePrimitiveData(e,n,i,r){return PT(e,n,i,r)}parseArrayData(e,n,i,r){return PT(e,n,i,r)}parseObjectData(e,n,i,r){const{iScale:s,vScale:o}=e,{xAxisKey:a="x",yAxisKey:l="y"}=this._parsing,u=s.axis==="x"?a:l,h=o.axis==="x"?a:l,d=[];let f,g,y,w;for(f=i,g=i+r;f<g;++f)w=n[f],y={},y[s.axis]=s.parse(zr(w,u),f),d.push(PP(zr(w,h),y,o,f));return d}updateRangeFromParsed(e,n,i,r){super.updateRangeFromParsed(e,n,i,r);const s=i._custom;s&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:i,vScale:r}=n,s=this.getParsed(e),o=s._custom,a=Bp(o)?"["+o.start+", "+o.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+i.getLabelForValue(s[i.axis]),value:a}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,i,r){const s=r==="reset",{index:o,_cachedMeta:{vScale:a}}=this,l=a.getBasePixel(),u=a.isHorizontal(),h=this._getRuler(),{sharedOptions:d,includeOptions:f}=this._getSharedOptions(n,r);for(let g=n;g<n+i;g++){const y=this.getParsed(g),w=s||ke(y[a.axis])?{base:l,head:l}:this._calculateBarValuePixels(g),T=this._calculateBarIndexPixels(g,h),_=(y._stacks||{})[a.axis],v={horizontal:u,base:w.base,enableBorderRadius:!_||Bp(y._custom)||o===_._top||o===_._bottom,x:u?w.head:T.center,y:u?T.center:w.head,height:u?T.size:Math.abs(w.size),width:u?Math.abs(w.size):T.size};f&&(v.options=d||this.resolveDataElementOptions(g,e[g].active?"active":r));const x=v.options||e[g].options;U5(v,x,_,o),B5(v,x,h.ratio),this.updateElement(e[g],g,v,r)}}_getStacks(e,n){const{iScale:i}=this._cachedMeta,r=i.getMatchingVisibleMetas(this._type).filter(h=>h.controller.options.grouped),s=i.options.stacked,o=[],a=this._cachedMeta.controller.getParsed(n),l=a&&a[i.axis],u=h=>{const d=h._parsed.find(g=>g[i.axis]===l),f=d&&d[h.vScale.axis];if(ke(f)||isNaN(f))return!0};for(const h of r)if(!(n!==void 0&&u(h))&&((s===!1||o.indexOf(h.stack)===-1||s===void 0&&h.stack===void 0)&&o.push(h.stack),h.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,i){const r=this._getStacks(e,i),s=n!==void 0?r.indexOf(n):-1;return s===-1?r.length-1:s}_getRuler(){const e=this.options,n=this._cachedMeta,i=n.iScale,r=[];let s,o;for(s=0,o=n.data.length;s<o;++s)r.push(i.getPixelForValue(this.getParsed(s)[i.axis],s));const a=e.barThickness;return{min:a||O5(n),pixels:r,start:i._startPixel,end:i._endPixel,stackCount:this._getStackCount(),scale:i,grouped:e.grouped,ratio:a?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:i,index:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),u=l._custom,h=Bp(u);let d=l[n.axis],f=0,g=i?this.applyStack(n,l,i):d,y,w;g!==d&&(f=g-d,g=d),h&&(d=u.barStart,g=u.barEnd-u.barStart,d!==0&&si(d)!==si(u.barEnd)&&(f=0),f+=d);const T=!ke(s)&&!h?s:f;let _=n.getPixelForValue(T);if(this.chart.getDataVisibility(e)?y=n.getPixelForValue(f+g):y=_,w=y-_,Math.abs(w)<o){w=F5(w,n,a)*o,d===a&&(_-=w/2);const v=n.getPixelForDecimal(0),x=n.getPixelForDecimal(1),R=Math.min(v,x),M=Math.max(v,x);_=Math.max(Math.min(_,M),R),y=_+w,i&&!h&&(l._stacks[n.axis]._visualValues[r]=n.getValueForPixel(y)-n.getValueForPixel(_))}if(_===n.getPixelForValue(a)){const v=si(w)*n.getLineWidthForValue(a)/2;_+=v,w-=v}return{size:w,base:_,head:y,center:y+w/2}}_calculateBarIndexPixels(e,n){const i=n.scale,r=this.options,s=r.skipNull,o=se(r.maxBarThickness,1/0);let a,l;if(n.grouped){const u=s?this._getStackCount(e):n.stackCount,h=r.barThickness==="flex"?L5(e,n,r,u):N5(e,n,r,u),d=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0);a=h.start+h.chunk*d+h.chunk/2,l=Math.min(o,h.chunk*h.ratio)}else a=i.getPixelForValue(this.getParsed(e)[i.axis],e),l=Math.min(o,n.min*n.ratio);return{base:a-l/2,head:a+l/2,center:a,size:l}}draw(){const e=this._cachedMeta,n=e.vScale,i=e.data,r=i.length;let s=0;for(;s<r;++s)this.getParsed(s)[n.axis]!==null&&!i[s].hidden&&i[s].draw(this._ctx)}}Y(lh,"id","bar"),Y(lh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),Y(lh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});function W5(t,e,n){let i=1,r=1,s=0,o=0;if(e<ze){const a=t,l=a+e,u=Math.cos(a),h=Math.sin(a),d=Math.cos(l),f=Math.sin(l),g=(x,R,M)=>su(x,a,l,!0)?1:Math.max(R,R*n,M,M*n),y=(x,R,M)=>su(x,a,l,!0)?-1:Math.min(R,R*n,M,M*n),w=g(0,u,d),T=g(tt,h,f),_=y(Be,u,d),v=y(Be+tt,h,f);i=(w-_)/2,r=(T-v)/2,s=-(w+_)/2,o=-(T+v)/2}return{ratioX:i,ratioY:r,offsetX:s,offsetY:o}}class Qa extends Es{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const i=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=i;else{let s=l=>+i[l];if(me(i[e])){const{key:l="value"}=this._parsing;s=u=>+zr(i[u],l)}let o,a;for(o=e,a=e+n;o<a;++o)r._parsed[o]=s(o)}}_getRotation(){return Xn(this.options.rotation-90)}_getCircumference(){return Xn(this.options.circumference)}_getRotationExtents(){let e=ze,n=-ze;for(let i=0;i<this.chart.data.datasets.length;++i)if(this.chart.isDatasetVisible(i)&&this.chart.getDatasetMeta(i).type===this._type){const r=this.chart.getDatasetMeta(i).controller,s=r._getRotation(),o=r._getCircumference();e=Math.min(e,s),n=Math.max(n,s+o)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:i}=n,r=this._cachedMeta,s=r.data,o=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,a=Math.max((Math.min(i.width,i.height)-o)/2,0),l=Math.min(ZB(this.options.cutout,a),1),u=this._getRingWeight(this.index),{circumference:h,rotation:d}=this._getRotationExtents(),{ratioX:f,ratioY:g,offsetX:y,offsetY:w}=W5(d,h,l),T=(i.width-o)/f,_=(i.height-o)/g,v=Math.max(Math.min(T,_)/2,0),x=lP(this.options.radius,v),R=Math.max(x*l,0),M=(x-R)/this._getVisibleDatasetWeightTotal();this.offsetX=y*x,this.offsetY=w*x,r.total=this.calculateTotal(),this.outerRadius=x-M*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-M*u,0),this.updateElements(s,0,s.length,e)}_circumference(e,n){const i=this.options,r=this._cachedMeta,s=this._getCircumference();return n&&i.animation.animateRotate||!this.chart.getDataVisibility(e)||r._parsed[e]===null||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/ze)}updateElements(e,n,i,r){const s=r==="reset",o=this.chart,a=o.chartArea,u=o.options.animation,h=(a.left+a.right)/2,d=(a.top+a.bottom)/2,f=s&&u.animateScale,g=f?0:this.innerRadius,y=f?0:this.outerRadius,{sharedOptions:w,includeOptions:T}=this._getSharedOptions(n,r);let _=this._getRotation(),v;for(v=0;v<n;++v)_+=this._circumference(v,s);for(v=n;v<n+i;++v){const x=this._circumference(v,s),R=e[v],M={x:h+this.offsetX,y:d+this.offsetY,startAngle:_,endAngle:_+x,circumference:x,outerRadius:y,innerRadius:g};T&&(M.options=w||this.resolveDataElementOptions(v,R.active?"active":r)),_+=x,this.updateElement(R,v,M,r)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let i=0,r;for(r=0;r<n.length;r++){const s=e._parsed[r];s!==null&&!isNaN(s)&&this.chart.getDataVisibility(r)&&!n[r].hidden&&(i+=Math.abs(s))}return i}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?ze*(Math.abs(e)/n):0}getLabelAndValue(e){const n=this._cachedMeta,i=this.chart,r=i.data.labels||[],s=J_(n._parsed[e],i.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let n=0;const i=this.chart;let r,s,o,a,l;if(!e){for(r=0,s=i.data.datasets.length;r<s;++r)if(i.isDatasetVisible(r)){o=i.getDatasetMeta(r),e=o.data,a=o.controller;break}}if(!e)return 0;for(r=0,s=e.length;r<s;++r)l=a.resolveDataElementOptions(r),l.borderAlign!=="inner"&&(n=Math.max(n,l.borderWidth||0,l.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let i=0,r=e.length;i<r;++i){const s=this.resolveDataElementOptions(i);n=Math.max(n,s.offset||0,s.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let i=0;i<e;++i)this.chart.isDatasetVisible(i)&&(n+=this._getRingWeight(i));return n}_getRingWeight(e){return Math.max(se(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}Y(Qa,"id","doughnut"),Y(Qa,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),Y(Qa,"descriptors",{_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),Y(Qa,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const n=e.data;if(n.labels.length&&n.datasets.length){const{labels:{pointStyle:i,color:r}}=e.legend.options;return n.labels.map((s,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:s,fillStyle:l.backgroundColor,strokeStyle:l.borderColor,fontColor:r,lineWidth:l.borderWidth,pointStyle:i,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,n,i){i.chart.toggleDataVisibility(n.index),i.chart.update()}}}});class bm extends Qa{}Y(bm,"id","pie"),Y(bm,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class uh extends Es{getLabelAndValue(e){const n=this._cachedMeta.vScale,i=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(i[n.axis])}}parseObjectData(e,n,i,r){return Y9.bind(this)(e,n,i,r)}update(e){const n=this._cachedMeta,i=n.dataset,r=n.data||[],s=n.iScale.getLabels();if(i.points=r,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:o};this.updateElement(i,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,n,i,r){const s=this._cachedMeta.rScale,o=r==="reset";for(let a=n;a<n+i;a++){const l=e[a],u=this.resolveDataElementOptions(a,l.active?"active":r),h=s.getPointPositionForValue(a,this.getParsed(a).r),d=o?s.xCenter:h.x,f=o?s.yCenter:h.y,g={x:d,y:f,angle:h.angle,skip:isNaN(d)||isNaN(f),options:u};this.updateElement(l,a,g,r)}}}Y(uh,"id","radar"),Y(uh,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),Y(uh,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});function rs(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class lv{constructor(e){Y(this,"options");this.options=e||{}}static override(e){Object.assign(lv.prototype,e)}init(){}formats(){return rs()}parse(){return rs()}format(){return rs()}add(){return rs()}diff(){return rs()}startOf(){return rs()}endOf(){return rs()}}var H5={_date:lv};function $5(t,e,n,i){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&e===a.axis&&e!=="r"&&o&&s.length){const l=a._reversePixels?d9:xm;if(i){if(r._sharedOptions){const u=s[0],h=typeof u.getRange=="function"&&u.getRange(e);if(h){const d=l(s,e,n-h),f=l(s,e,n+h);return{lo:d.lo,hi:f.hi}}}}else return l(s,e,n)}return{lo:0,hi:s.length-1}}function Mu(t,e,n,i,r){const s=t.getSortedVisibleDatasetMetas(),o=n[e];for(let a=0,l=s.length;a<l;++a){const{index:u,data:h}=s[a],{lo:d,hi:f}=$5(s[a],e,o,r);for(let g=d;g<=f;++g){const y=h[g];y.skip||i(y,u,g)}}}function Y5(t){const e=t.indexOf("x")!==-1,n=t.indexOf("y")!==-1;return function(i,r){const s=e?Math.abs(i.x-r.x):0,o=n?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}function Wp(t,e,n,i,r){const s=[];return!r&&!t.isPointInArea(e)||Mu(t,n,e,function(a,l,u){!r&&!Ai(a,t.chartArea,0)||a.inRange(e.x,e.y,i)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function q5(t,e,n,i){let r=[];function s(o,a,l){const{startAngle:u,endAngle:h}=o.getProps(["startAngle","endAngle"],i),{angle:d}=cP(o,{x:e.x,y:e.y});su(d,u,h)&&r.push({element:o,datasetIndex:a,index:l})}return Mu(t,n,e,s),r}function G5(t,e,n,i,r,s){let o=[];const a=Y5(n);let l=Number.POSITIVE_INFINITY;function u(h,d,f){const g=h.inRange(e.x,e.y,r);if(i&&!g)return;const y=h.getCenterPoint(r);if(!(!!s||t.isPointInArea(y))&&!g)return;const T=a(e,y);T<l?(o=[{element:h,datasetIndex:d,index:f}],l=T):T===l&&o.push({element:h,datasetIndex:d,index:f})}return Mu(t,n,e,u),o}function Hp(t,e,n,i,r,s){return!s&&!t.isPointInArea(e)?[]:n==="r"&&!i?q5(t,e,n,r):G5(t,e,n,i,r,s)}function RT(t,e,n,i,r){const s=[],o=n==="x"?"inXRange":"inYRange";let a=!1;return Mu(t,n,e,(l,u,h)=>{l[o]&&l[o](e[n],r)&&(s.push({element:l,datasetIndex:u,index:h}),a=a||l.inRange(e.x,e.y,r))}),i&&!a?[]:s}var K5={evaluateInteractionItems:Mu,modes:{index(t,e,n,i){const r=ls(e,t),s=n.axis||"x",o=n.includeInvisible||!1,a=n.intersect?Wp(t,r,s,i,o):Hp(t,r,s,!1,i,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const h=a[0].index,d=u.data[h];d&&!d.skip&&l.push({element:d,datasetIndex:u.index,index:h})}),l):[]},dataset(t,e,n,i){const r=ls(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;let a=n.intersect?Wp(t,r,s,i,o):Hp(t,r,s,!1,i,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let h=0;h<u.length;++h)a.push({element:u[h],datasetIndex:l,index:h})}return a},point(t,e,n,i){const r=ls(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Wp(t,r,s,i,o)},nearest(t,e,n,i){const r=ls(e,t),s=n.axis||"xy",o=n.includeInvisible||!1;return Hp(t,r,s,n.intersect,i,o)},x(t,e,n,i){const r=ls(e,t);return RT(t,r,"x",n.intersect,i)},y(t,e,n,i){const r=ls(e,t);return RT(t,r,"y",n.intersect,i)}}};const CP=["left","top","right","bottom"];function Na(t,e){return t.filter(n=>n.pos===e)}function DT(t,e){return t.filter(n=>CP.indexOf(n.pos)===-1&&n.box.axis===e)}function La(t,e){return t.sort((n,i)=>{const r=e?i:n,s=e?n:i;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function Q5(t){const e=[];let n,i,r,s,o,a;for(n=0,i=(t||[]).length;n<i;++n)r=t[n],{position:s,options:{stack:o,stackWeight:a=1}}=r,e.push({index:n,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return e}function X5(t){const e={};for(const n of t){const{stack:i,pos:r,stackWeight:s}=n;if(!i||!CP.includes(r))continue;const o=e[i]||(e[i]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return e}function J5(t,e){const n=X5(t),{vBoxMaxWidth:i,hBoxMaxHeight:r}=e;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=n[a.stack],h=u&&a.stackWeight/u.weight;a.horizontal?(a.width=h?h*i:l&&e.availableWidth,a.height=r):(a.width=i,a.height=h?h*r:l&&e.availableHeight)}return n}function Z5(t){const e=Q5(t),n=La(e.filter(u=>u.box.fullSize),!0),i=La(Na(e,"left"),!0),r=La(Na(e,"right")),s=La(Na(e,"top"),!0),o=La(Na(e,"bottom")),a=DT(e,"x"),l=DT(e,"y");return{fullSize:n,leftAndTop:i.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Na(e,"chartArea"),vertical:i.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}function MT(t,e,n,i){return Math.max(t[n],e[n])+Math.max(t[i],e[i])}function AP(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function eW(t,e,n,i){const{pos:r,box:s}=n,o=t.maxPadding;if(!me(r)){n.size&&(t[r]-=n.size);const d=i[n.stack]||{size:0,count:1};d.size=Math.max(d.size,n.horizontal?s.height:s.width),n.size=d.size/d.count,t[r]+=n.size}s.getPadding&&AP(o,s.getPadding());const a=Math.max(0,e.outerWidth-MT(o,t,"left","right")),l=Math.max(0,e.outerHeight-MT(o,t,"top","bottom")),u=a!==t.w,h=l!==t.h;return t.w=a,t.h=l,n.horizontal?{same:u,other:h}:{same:h,other:u}}function tW(t){const e=t.maxPadding;function n(i){const r=Math.max(e[i]-t[i],0);return t[i]+=r,r}t.y+=n("top"),t.x+=n("left"),n("right"),n("bottom")}function nW(t,e){const n=e.maxPadding;function i(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(e[o],n[o])}),s}return i(t?["left","right"]:["top","bottom"])}function Xa(t,e,n,i){const r=[];let s,o,a,l,u,h;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||e.w,a.height||e.h,nW(a.horizontal,e));const{same:d,other:f}=eW(e,n,a,i);u|=d&&r.length,h=h||f,l.fullSize||r.push(a)}return u&&Xa(r,e,n,i)||h}function Ac(t,e,n,i,r){t.top=n,t.left=e,t.right=e+i,t.bottom=n+r,t.width=i,t.height=r}function OT(t,e,n,i){const r=n.padding;let{x:s,y:o}=e;for(const a of t){const l=a.box,u=i[a.stack]||{count:1,placed:0,weight:1},h=a.stackWeight/u.weight||1;if(a.horizontal){const d=e.w*h,f=u.size||l.height;ru(u.start)&&(o=u.start),l.fullSize?Ac(l,r.left,o,n.outerWidth-r.right-r.left,f):Ac(l,e.left+u.placed,o,d,f),u.start=o,u.placed+=d,o=l.bottom}else{const d=e.h*h,f=u.size||l.width;ru(u.start)&&(s=u.start),l.fullSize?Ac(l,s,r.top,f,n.outerHeight-r.bottom-r.top):Ac(l,s,e.top+u.placed,f,d),u.start=s,u.placed+=d,s=l.right}}e.x=s,e.y=o}var vn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(n){e.draw(n)}}]},t.boxes.push(e)},removeBox(t,e){const n=t.boxes?t.boxes.indexOf(e):-1;n!==-1&&t.boxes.splice(n,1)},configure(t,e,n){e.fullSize=n.fullSize,e.position=n.position,e.weight=n.weight},update(t,e,n,i){if(!t)return;const r=Vt(t.options.layout.padding),s=Math.max(e-r.width,0),o=Math.max(n-r.height,0),a=Z5(t.boxes),l=a.vertical,u=a.horizontal;Se(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const h=l.reduce((w,T)=>T.box.options&&T.box.options.display===!1?w:w+1,0)||1,d=Object.freeze({outerWidth:e,outerHeight:n,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/h,hBoxMaxHeight:o/2}),f=Object.assign({},r);AP(f,Vt(i));const g=Object.assign({maxPadding:f,w:s,h:o,x:r.left,y:r.top},r),y=J5(l.concat(u),d);Xa(a.fullSize,g,d,y),Xa(l,g,d,y),Xa(u,g,d,y)&&Xa(l,g,d,y),tW(g),OT(a.leftAndTop,g,d,y),g.x+=g.w,g.y+=g.h,OT(a.rightAndBottom,g,d,y),t.chartArea={left:g.left,top:g.top,right:g.left+g.w,bottom:g.top+g.h,height:g.h,width:g.w},Se(a.chartArea,w=>{const T=w.box;Object.assign(T,t.chartArea),T.update(g.w,g.h,{left:0,top:0,right:0,bottom:0})})}};class RP{acquireContext(e,n){}releaseContext(e){return!1}addEventListener(e,n,i){}removeEventListener(e,n,i){}getDevicePixelRatio(){return 1}getMaximumSize(e,n,i,r){return n=Math.max(0,n||e.width),i=i||e.height,{width:n,height:Math.max(0,r?Math.floor(n/r):i)}}isAttached(e){return!0}updateConfig(e){}}class iW extends RP{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const ch="$chartjs",rW={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},NT=t=>t===null||t==="";function sW(t,e){const n=t.style,i=t.getAttribute("height"),r=t.getAttribute("width");if(t[ch]={initial:{height:i,width:r,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",NT(r)){const s=_T(t,"width");s!==void 0&&(t.width=s)}if(NT(i))if(t.style.height==="")t.height=t.width/(e||2);else{const s=_T(t,"height");s!==void 0&&(t.height=s)}return t}const DP=o5?{passive:!0}:!1;function oW(t,e,n){t&&t.addEventListener(e,n,DP)}function aW(t,e,n){t&&t.canvas&&t.canvas.removeEventListener(e,n,DP)}function lW(t,e){const n=rW[t.type]||t.type,{x:i,y:r}=ls(t,e);return{type:n,chart:e,native:t,x:i!==void 0?i:null,y:r!==void 0?r:null}}function _d(t,e){for(const n of t)if(n===e||n.contains(e))return!0}function uW(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||_d(a.addedNodes,i),o=o&&!_d(a.removedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}function cW(t,e,n){const i=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||_d(a.removedNodes,i),o=o&&!_d(a.addedNodes,i);o&&n()});return r.observe(document,{childList:!0,subtree:!0}),r}const au=new Map;let LT=0;function MP(){const t=window.devicePixelRatio;t!==LT&&(LT=t,au.forEach((e,n)=>{n.currentDevicePixelRatio!==t&&e()}))}function hW(t,e){au.size||window.addEventListener("resize",MP),au.set(t,e)}function dW(t){au.delete(t),au.size||window.removeEventListener("resize",MP)}function fW(t,e,n){const i=t.canvas,r=i&&av(i);if(!r)return;const s=pP((a,l)=>{const u=r.clientWidth;n(a,l),u<r.clientWidth&&n()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,h=l.contentRect.height;u===0&&h===0||s(u,h)});return o.observe(r),hW(t,s),o}function $p(t,e,n){n&&n.disconnect(),e==="resize"&&dW(t)}function pW(t,e,n){const i=t.canvas,r=pP(s=>{t.ctx!==null&&n(lW(s,t))},t);return oW(i,e,r),r}class gW extends RP{acquireContext(e,n){const i=e&&e.getContext&&e.getContext("2d");return i&&i.canvas===e?(sW(e,n),i):null}releaseContext(e){const n=e.canvas;if(!n[ch])return!1;const i=n[ch].initial;["height","width"].forEach(s=>{const o=i[s];ke(o)?n.removeAttribute(s):n.setAttribute(s,o)});const r=i.style||{};return Object.keys(r).forEach(s=>{n.style[s]=r[s]}),n.width=n.width,delete n[ch],!0}addEventListener(e,n,i){this.removeEventListener(e,n);const r=e.$proxies||(e.$proxies={}),o={attach:uW,detach:cW,resize:fW}[n]||pW;r[n]=o(e,n,i)}removeEventListener(e,n){const i=e.$proxies||(e.$proxies={}),r=i[n];if(!r)return;({attach:$p,detach:$p,resize:$p}[n]||aW)(e,n,r),i[n]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,n,i,r){return s5(e,n,i,r)}isAttached(e){const n=e&&av(e);return!!(n&&n.isConnected)}}function mW(t){return!ov()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?iW:gW}class zn{constructor(){Y(this,"x");Y(this,"y");Y(this,"active",!1);Y(this,"options");Y(this,"$animations")}tooltipPosition(e){const{x:n,y:i}=this.getProps(["x","y"],e);return{x:n,y:i}}hasValue(){return gd(this.x)&&gd(this.y)}getProps(e,n){const i=this.$animations;if(!n||!i)return this;const r={};return e.forEach(s=>{r[s]=i[s]&&i[s].active()?i[s]._to:this[s]}),r}}Y(zn,"defaults",{}),Y(zn,"defaultRoutes");function yW(t,e){const n=t.options.ticks,i=_W(t),r=Math.min(n.maxTicksLimit||i,i),s=n.major.enabled?wW(e):[],o=s.length,a=s[0],l=s[o-1],u=[];if(o>r)return EW(e,u,s,o/r),u;const h=vW(s,e,r);if(o>0){let d,f;const g=o>1?Math.round((l-a)/(o-1)):null;for(Rc(e,u,h,ke(g)?0:a-g,a),d=0,f=o-1;d<f;d++)Rc(e,u,h,s[d],s[d+1]);return Rc(e,u,h,l,ke(g)?e.length:l+g),u}return Rc(e,u,h),u}function _W(t){const e=t.options.offset,n=t._tickSize(),i=t._length/n+(e?0:1),r=t._maxLength/n;return Math.floor(Math.min(i,r))}function vW(t,e,n){const i=TW(t),r=e.length/n;if(!i)return Math.max(r,1);const s=a9(i);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}function wW(t){const e=[];let n,i;for(n=0,i=t.length;n<i;n++)t[n].major&&e.push(n);return e}function EW(t,e,n,i){let r=0,s=n[0],o;for(i=Math.ceil(i),o=0;o<t.length;o++)o===s&&(e.push(t[o]),r++,s=n[r*i])}function Rc(t,e,n,i,r){const s=se(i,0),o=Math.min(se(r,t.length),t.length);let a=0,l,u,h;for(n=Math.ceil(n),r&&(l=r-i,n=l/Math.floor(l/n)),h=s;h<0;)a++,h=Math.round(s+a*n);for(u=Math.max(s,0);u<o;u++)u===h&&(e.push(t[u]),a++,h=Math.round(s+a*n))}function TW(t){const e=t.length;let n,i;if(e<2)return!1;for(i=t[0],n=1;n<e;++n)if(t[n]-t[n-1]!==i)return!1;return i}const SW=t=>t==="left"?"right":t==="right"?"left":t,VT=(t,e,n)=>e==="top"||e==="left"?t[e]+n:t[e]-n,FT=(t,e)=>Math.min(e||t,t);function jT(t,e){const n=[],i=t.length/e,r=t.length;let s=0;for(;s<r;s+=i)n.push(t[Math.floor(s)]);return n}function xW(t,e,n){const i=t.ticks.length,r=Math.min(e,i-1),s=t._startPixel,o=t._endPixel,a=1e-6;let l=t.getPixelForTick(r),u;if(!(n&&(i===1?u=Math.max(l-s,o-l):e===0?u=(t.getPixelForTick(1)-l)/2:u=(l-t.getPixelForTick(r-1))/2,l+=r<e?u:-u,l<s-a||l>o+a)))return l}function IW(t,e){Se(t,n=>{const i=n.gc,r=i.length/2;let s;if(r>e){for(s=0;s<r;++s)delete n.data[i[s]];i.splice(0,r)}})}function Va(t){return t.drawTicks?t.tickLength:0}function UT(t,e){if(!t.display)return 0;const n=lt(t.font,e),i=Vt(t.padding);return(He(t.text)?t.text.length:1)*n.lineHeight+i.height}function kW(t,e){return Qr(t,{scale:e,type:"scale"})}function bW(t,e,n){return Qr(t,{tick:n,index:e,type:"tick"})}function PW(t,e,n){let i=Q_(t);return(n&&e!=="right"||!n&&e==="right")&&(i=SW(i)),i}function CW(t,e,n,i){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:h}=l;let d=0,f,g,y;const w=o-r,T=a-s;if(t.isHorizontal()){if(g=At(i,s,a),me(n)){const _=Object.keys(n)[0],v=n[_];y=h[_].getPixelForValue(v)+w-e}else n==="center"?y=(u.bottom+u.top)/2+w-e:y=VT(t,n,e);f=a-s}else{if(me(n)){const _=Object.keys(n)[0],v=n[_];g=h[_].getPixelForValue(v)-T+e}else n==="center"?g=(u.left+u.right)/2-T+e:g=VT(t,n,e);y=At(i,o,r),d=n==="left"?-tt:tt}return{titleX:g,titleY:y,maxWidth:f,rotation:d}}class ca extends zn{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,n){return e}getUserBounds(){let{_userMin:e,_userMax:n,_suggestedMin:i,_suggestedMax:r}=this;return e=$n(e,Number.POSITIVE_INFINITY),n=$n(n,Number.NEGATIVE_INFINITY),i=$n(i,Number.POSITIVE_INFINITY),r=$n(r,Number.NEGATIVE_INFINITY),{min:$n(e,i),max:$n(n,r),minDefined:rn(e),maxDefined:rn(n)}}getMinMax(e){let{min:n,max:i,minDefined:r,maxDefined:s}=this.getUserBounds(),o;if(r&&s)return{min:n,max:i};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,e),r||(n=Math.min(n,o.min)),s||(i=Math.max(i,o.max));return n=s&&n>i?i:n,i=r&&n>i?n:i,{min:$n(n,$n(i,n)),max:$n(i,$n(n,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Re(this.options.beforeUpdate,[this])}update(e,n,i){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=n,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=L9(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?jT(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=yW(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,n,i;this.isHorizontal()?(n=this.left,i=this.right):(n=this.top,i=this.bottom,e=!e),this._startPixel=n,this._endPixel=i,this._reversePixels=e,this._length=i-n,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Re(this.options.afterUpdate,[this])}beforeSetDimensions(){Re(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Re(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Re(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Re(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const n=this.options.ticks;let i,r,s;for(i=0,r=e.length;i<r;i++)s=e[i],s.label=Re(n.callback,[s.value,i,e],this)}afterTickToLabelConversion(){Re(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Re(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,n=e.ticks,i=FT(this.ticks.length,e.ticks.maxTicksLimit),r=n.minRotation||0,s=n.maxRotation;let o=r,a,l,u;if(!this._isVisible()||!n.display||r>=s||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const h=this._getLabelSizes(),d=h.widest.width,f=h.highest.height,g=Zt(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/i:g/(i-1),d+6>a&&(a=g/(i-(e.offset?.5:1)),l=this.maxHeight-Va(e.grid)-n.padding-UT(e.title,this.chart.options.font),u=Math.sqrt(d*d+f*f),o=G_(Math.min(Math.asin(Zt((h.highest.height+6)/a,-1,1)),Math.asin(Zt(l/u,-1,1))-Math.asin(Zt(f/u,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Re(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Re(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:n,options:{ticks:i,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=UT(r,n.options.font);if(a?(e.width=this.maxWidth,e.height=Va(s)+l):(e.height=this.maxHeight,e.width=Va(s)+l),i.display&&this.ticks.length){const{first:u,last:h,widest:d,highest:f}=this._getLabelSizes(),g=i.padding*2,y=Xn(this.labelRotation),w=Math.cos(y),T=Math.sin(y);if(a){const _=i.mirror?0:T*d.width+w*f.height;e.height=Math.min(this.maxHeight,e.height+_+g)}else{const _=i.mirror?0:w*d.width+T*f.height;e.width=Math.min(this.maxWidth,e.width+_+g)}this._calculatePadding(u,h,T,w)}}this._handleMargins(),a?(this.width=this._length=n.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=n.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,n,i,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=this.labelRotation!==0,u=a!=="top"&&this.axis==="x";if(this.isHorizontal()){const h=this.getPixelForTick(0)-this.left,d=this.right-this.getPixelForTick(this.ticks.length-1);let f=0,g=0;l?u?(f=r*e.width,g=i*n.height):(f=i*e.height,g=r*n.width):s==="start"?g=n.width:s==="end"?f=e.width:s!=="inner"&&(f=e.width/2,g=n.width/2),this.paddingLeft=Math.max((f-h+o)*this.width/(this.width-h),0),this.paddingRight=Math.max((g-d+o)*this.width/(this.width-d),0)}else{let h=n.height/2,d=e.height/2;s==="start"?(h=0,d=e.height):s==="end"&&(h=n.height,d=0),this.paddingTop=h+o,this.paddingBottom=d+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Re(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:n}=this.options;return n==="top"||n==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let n,i;for(n=0,i=e.length;n<i;n++)ke(e[n].label)&&(e.splice(n,1),i--,n--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const n=this.options.ticks.sampleSize;let i=this.ticks;n<i.length&&(i=jT(i,n)),this._labelSizes=e=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,n,i){const{ctx:r,_longestTextCache:s}=this,o=[],a=[],l=Math.floor(n/FT(n,i));let u=0,h=0,d,f,g,y,w,T,_,v,x,R,M;for(d=0;d<n;d+=l){if(y=e[d].label,w=this._resolveTickFontOptions(d),r.font=T=w.string,_=s[T]=s[T]||{data:{},gc:[]},v=w.lineHeight,x=R=0,!ke(y)&&!He(y))x=md(r,_.data,_.gc,x,y),R=v;else if(He(y))for(f=0,g=y.length;f<g;++f)M=y[f],!ke(M)&&!He(M)&&(x=md(r,_.data,_.gc,x,M),R+=v);o.push(x),a.push(R),u=Math.max(x,u),h=Math.max(R,h)}IW(s,n);const N=o.indexOf(u),I=a.indexOf(h),E=k=>({width:o[k]||0,height:a[k]||0});return{first:E(0),last:E(n-1),widest:E(N),highest:E(I),widths:o,heights:a}}getLabelForValue(e){return e}getPixelForValue(e,n){return NaN}getValueForPixel(e){}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const n=this._startPixel+e*this._length;return h9(this._alignToPixels?is(this.chart,n,0):n)}getDecimalForPixel(e){const n=(e-this._startPixel)/this._length;return this._reversePixels?1-n:n}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:n}=this;return e<0&&n<0?n:e>0&&n>0?e:0}getContext(e){const n=this.ticks||[];if(e>=0&&e<n.length){const i=n[e];return i.$context||(i.$context=bW(this.getContext(),e,i))}return this.$context||(this.$context=kW(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,n=Xn(this.labelRotation),i=Math.abs(Math.cos(n)),r=Math.abs(Math.sin(n)),s=this._getLabelSizes(),o=e.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*i>a*r?a/i:l/r:l*r<a*i?l/i:a/r}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const n=this.axis,i=this.chart,r=this.options,{grid:s,position:o,border:a}=r,l=s.offset,u=this.isHorizontal(),d=this.ticks.length+(l?1:0),f=Va(s),g=[],y=a.setContext(this.getContext()),w=y.display?y.width:0,T=w/2,_=function(Ee){return is(i,Ee,w)};let v,x,R,M,N,I,E,k,b,C,D,P;if(o==="top")v=_(this.bottom),I=this.bottom-f,k=v-T,C=_(e.top)+T,P=e.bottom;else if(o==="bottom")v=_(this.top),C=e.top,P=_(e.bottom)-T,I=v+T,k=this.top+f;else if(o==="left")v=_(this.right),N=this.right-f,E=v-T,b=_(e.left)+T,D=e.right;else if(o==="right")v=_(this.left),b=e.left,D=_(e.right)-T,N=v+T,E=this.left+f;else if(n==="x"){if(o==="center")v=_((e.top+e.bottom)/2+.5);else if(me(o)){const Ee=Object.keys(o)[0],we=o[Ee];v=_(this.chart.scales[Ee].getPixelForValue(we))}C=e.top,P=e.bottom,I=v+T,k=I+f}else if(n==="y"){if(o==="center")v=_((e.left+e.right)/2);else if(me(o)){const Ee=Object.keys(o)[0],we=o[Ee];v=_(this.chart.scales[Ee].getPixelForValue(we))}N=v-T,E=N-f,b=e.left,D=e.right}const Ae=se(r.ticks.maxTicksLimit,d),ae=Math.max(1,Math.ceil(d/Ae));for(x=0;x<d;x+=ae){const Ee=this.getContext(x),we=s.setContext(Ee),B=a.setContext(Ee),Q=we.lineWidth,Z=we.color,Ie=B.dash||[],he=B.dashOffset,Pe=we.tickWidth,pt=we.tickColor,Ft=we.tickBorderDash||[],gt=we.tickBorderDashOffset;R=xW(this,x,l),R!==void 0&&(M=is(i,R,Q),u?N=E=b=D=M:I=k=C=P=M,g.push({tx1:N,ty1:I,tx2:E,ty2:k,x1:b,y1:C,x2:D,y2:P,width:Q,color:Z,borderDash:Ie,borderDashOffset:he,tickWidth:Pe,tickColor:pt,tickBorderDash:Ft,tickBorderDashOffset:gt}))}return this._ticksLength=d,this._borderValue=v,g}_computeLabelItems(e){const n=this.axis,i=this.options,{position:r,ticks:s}=i,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:h,mirror:d}=s,f=Va(i.grid),g=f+h,y=d?-h:g,w=-Xn(this.labelRotation),T=[];let _,v,x,R,M,N,I,E,k,b,C,D,P="middle";if(r==="top")N=this.bottom-y,I=this._getXAxisLabelAlignment();else if(r==="bottom")N=this.top+y,I=this._getXAxisLabelAlignment();else if(r==="left"){const ae=this._getYAxisLabelAlignment(f);I=ae.textAlign,M=ae.x}else if(r==="right"){const ae=this._getYAxisLabelAlignment(f);I=ae.textAlign,M=ae.x}else if(n==="x"){if(r==="center")N=(e.top+e.bottom)/2+g;else if(me(r)){const ae=Object.keys(r)[0],Ee=r[ae];N=this.chart.scales[ae].getPixelForValue(Ee)+g}I=this._getXAxisLabelAlignment()}else if(n==="y"){if(r==="center")M=(e.left+e.right)/2-g;else if(me(r)){const ae=Object.keys(r)[0],Ee=r[ae];M=this.chart.scales[ae].getPixelForValue(Ee)}I=this._getYAxisLabelAlignment(f).textAlign}n==="y"&&(l==="start"?P="top":l==="end"&&(P="bottom"));const Ae=this._getLabelSizes();for(_=0,v=a.length;_<v;++_){x=a[_],R=x.label;const ae=s.setContext(this.getContext(_));E=this.getPixelForTick(_)+s.labelOffset,k=this._resolveTickFontOptions(_),b=k.lineHeight,C=He(R)?R.length:1;const Ee=C/2,we=ae.color,B=ae.textStrokeColor,Q=ae.textStrokeWidth;let Z=I;o?(M=E,I==="inner"&&(_===v-1?Z=this.options.reverse?"left":"right":_===0?Z=this.options.reverse?"right":"left":Z="center"),r==="top"?u==="near"||w!==0?D=-C*b+b/2:u==="center"?D=-Ae.highest.height/2-Ee*b+b:D=-Ae.highest.height+b/2:u==="near"||w!==0?D=b/2:u==="center"?D=Ae.highest.height/2-Ee*b:D=Ae.highest.height-C*b,d&&(D*=-1),w!==0&&!ae.showLabelBackdrop&&(M+=b/2*Math.sin(w))):(N=E,D=(1-C)*b/2);let Ie;if(ae.showLabelBackdrop){const he=Vt(ae.backdropPadding),Pe=Ae.heights[_],pt=Ae.widths[_];let Ft=D-he.top,gt=0-he.left;switch(P){case"middle":Ft-=Pe/2;break;case"bottom":Ft-=Pe;break}switch(I){case"center":gt-=pt/2;break;case"right":gt-=pt;break;case"inner":_===v-1?gt-=pt:_>0&&(gt-=pt/2);break}Ie={left:gt,top:Ft,width:pt+he.width,height:Pe+he.height,color:ae.backdropColor}}T.push({label:R,font:k,textOffset:D,options:{rotation:w,color:we,strokeColor:B,strokeWidth:Q,textAlign:Z,textBaseline:P,translation:[M,N],backdrop:Ie}})}return T}_getXAxisLabelAlignment(){const{position:e,ticks:n}=this.options;if(-Xn(this.labelRotation))return e==="top"?"left":"right";let r="center";return n.align==="start"?r="left":n.align==="end"?r="right":n.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(e){const{position:n,ticks:{crossAlign:i,mirror:r,padding:s}}=this.options,o=this._getLabelSizes(),a=e+s,l=o.widest.width;let u,h;return n==="left"?r?(h=this.right+s,i==="near"?u="left":i==="center"?(u="center",h+=l/2):(u="right",h+=l)):(h=this.right-a,i==="near"?u="right":i==="center"?(u="center",h-=l/2):(u="left",h=this.left)):n==="right"?r?(h=this.left+s,i==="near"?u="right":i==="center"?(u="center",h-=l/2):(u="left",h-=l)):(h=this.left+a,i==="near"?u="left":i==="center"?(u="center",h+=l/2):(u="right",h=this.right)):u="right",{textAlign:u,x:h}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,n=this.options.position;if(n==="left"||n==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(n==="top"||n==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:n},left:i,top:r,width:s,height:o}=this;n&&(e.save(),e.fillStyle=n,e.fillRect(i,r,s,o),e.restore())}getLineWidthForValue(e){const n=this.options.grid;if(!this._isVisible()||!n.display)return 0;const r=this.ticks.findIndex(s=>s.value===e);return r>=0?n.setContext(this.getContext(r)).lineWidth:0}drawGrid(e){const n=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,o;const a=(l,u,h)=>{!h.width||!h.color||(i.save(),i.lineWidth=h.width,i.strokeStyle=h.color,i.setLineDash(h.borderDash||[]),i.lineDashOffset=h.borderDashOffset,i.beginPath(),i.moveTo(l.x,l.y),i.lineTo(u.x,u.y),i.stroke(),i.restore())};if(n.display)for(s=0,o=r.length;s<o;++s){const l=r[s];n.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),n.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:n,options:{border:i,grid:r}}=this,s=i.setContext(this.getContext()),o=i.display?s.width:0;if(!o)return;const a=r.setContext(this.getContext(0)).lineWidth,l=this._borderValue;let u,h,d,f;this.isHorizontal()?(u=is(e,this.left,o)-o/2,h=is(e,this.right,a)+a/2,d=f=l):(d=is(e,this.top,o)-o/2,f=is(e,this.bottom,a)+a/2,u=h=l),n.save(),n.lineWidth=s.width,n.strokeStyle=s.color,n.beginPath(),n.moveTo(u,d),n.lineTo(h,f),n.stroke(),n.restore()}drawLabels(e){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&ev(i,r);const s=this.getLabelItems(e);for(const o of s){const a=o.options,l=o.font,u=o.label,h=o.textOffset;Rs(i,u,0,h,l,a)}r&&tv(i)}drawTitle(){const{ctx:e,options:{position:n,title:i,reverse:r}}=this;if(!i.display)return;const s=lt(i.font),o=Vt(i.padding),a=i.align;let l=s.lineHeight/2;n==="bottom"||n==="center"||me(n)?(l+=o.bottom,He(i.text)&&(l+=s.lineHeight*(i.text.length-1))):l+=o.top;const{titleX:u,titleY:h,maxWidth:d,rotation:f}=CW(this,l,n,a);Rs(e,i.text,0,0,s,{color:i.color,maxWidth:d,rotation:f,textAlign:PW(a,n,r),textBaseline:"middle",translation:[u,h]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,n=e.ticks&&e.ticks.z||0,i=se(e.grid&&e.grid.z,-1),r=se(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==ca.prototype.draw?[{z:n,draw:s=>{this.draw(s)}}]:[{z:i,draw:s=>{this.drawBackground(),this.drawGrid(s),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:n,draw:s=>{this.drawLabels(s)}}]}getMatchingVisibleMetas(e){const n=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let s,o;for(s=0,o=n.length;s<o;++s){const a=n[s];a[i]===this.id&&(!e||a.type===e)&&r.push(a)}return r}_resolveTickFontOptions(e){const n=this.options.ticks.setContext(this.getContext(e));return lt(n.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class Dc{constructor(e,n,i){this.type=e,this.scope=n,this.override=i,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const n=Object.getPrototypeOf(e);let i;DW(n)&&(i=this.register(n));const r=this.items,s=e.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,AW(e,o,i),this.override&&Qe.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const n=this.items,i=e.id,r=this.scope;i in n&&delete n[i],r&&i in Qe[r]&&(delete Qe[r][i],this.override&&delete As[i])}}function AW(t,e,n){const i=iu(Object.create(null),[n?Qe.get(n):{},Qe.get(e),t.defaults]);Qe.set(e,i),t.defaultRoutes&&RW(e,t.defaultRoutes),t.descriptors&&Qe.describe(e,t.descriptors)}function RW(t,e){Object.keys(e).forEach(n=>{const i=n.split("."),r=i.pop(),s=[t].concat(i).join("."),o=e[n].split("."),a=o.pop(),l=o.join(".");Qe.route(s,r,l,a)})}function DW(t){return"id"in t&&"defaults"in t}class MW{constructor(){this.controllers=new Dc(Es,"datasets",!0),this.elements=new Dc(zn,"elements"),this.plugins=new Dc(Object,"plugins"),this.scales=new Dc(ca,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,n,i){[...n].forEach(r=>{const s=i||this._getRegistryForType(r);i||s.isForType(r)||s===this.plugins&&r.id?this._exec(e,s,r):Se(r,o=>{const a=i||this._getRegistryForType(o);this._exec(e,a,o)})})}_exec(e,n,i){const r=q_(e);Re(i["before"+r],[],i),n[e](i),Re(i["after"+r],[],i)}_getRegistryForType(e){for(let n=0;n<this._typedRegistries.length;n++){const i=this._typedRegistries[n];if(i.isForType(e))return i}return this.plugins}_get(e,n,i){const r=n.get(e);if(r===void 0)throw new Error('"'+e+'" is not a registered '+i+".");return r}}var Gn=new MW;class OW{constructor(){this._init=[]}notify(e,n,i,r){n==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install"));const s=r?this._descriptors(e).filter(r):this._descriptors(e),o=this._notify(s,e,n,i);return n==="afterDestroy"&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall")),o}_notify(e,n,i,r){r=r||{};for(const s of e){const o=s.plugin,a=o[i],l=[n,r,s.options];if(Re(a,l,o)===!1&&r.cancelable)return!1}return!0}invalidate(){ke(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const n=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),n}_createDescriptors(e,n){const i=e&&e.config,r=se(i.options&&i.options.plugins,{}),s=NW(i);return r===!1&&!n?[]:VW(e,s,r,n)}_notifyStateChanges(e){const n=this._oldCache||[],i=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(n,i),e,"stop"),this._notify(r(i,n),e,"start")}}function NW(t){const e={},n=[],i=Object.keys(Gn.plugins.items);for(let s=0;s<i.length;s++)n.push(Gn.getPlugin(i[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];n.indexOf(o)===-1&&(n.push(o),e[o.id]=!0)}return{plugins:n,localIds:e}}function LW(t,e){return!e&&t===!1?null:t===!0?{}:t}function VW(t,{plugins:e,localIds:n},i,r){const s=[],o=t.getContext();for(const a of e){const l=a.id,u=LW(i[l],r);u!==null&&s.push({plugin:a,options:FW(t.config,{plugin:a,local:n[l]},u,o)})}return s}function FW(t,{plugin:e,local:n},i,r){const s=t.pluginScopeKeys(e),o=t.getOptionScopes(i,s);return n&&e.defaults&&o.push(e.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Pm(t,e){const n=Qe.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||n.indexAxis||"x"}function jW(t,e){let n=t;return t==="_index_"?n=e:t==="_value_"&&(n=e==="x"?"y":"x"),n}function UW(t,e){return t===e?"_index_":"_value_"}function zT(t){if(t==="x"||t==="y"||t==="r")return t}function zW(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Cm(t,...e){if(zT(t))return t;for(const n of e){const i=n.axis||zW(n.position)||t.length>1&&zT(t[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function BT(t,e,n){if(n[e+"AxisID"]===t)return{axis:e}}function BW(t,e){if(e.data&&e.data.datasets){const n=e.data.datasets.filter(i=>i.xAxisID===t||i.yAxisID===t);if(n.length)return BT(t,"x",n[0])||BT(t,"y",n[0])}return{}}function WW(t,e){const n=As[t.type]||{scales:{}},i=e.scales||{},r=Pm(t.type,e),s=Object.create(null);return Object.keys(i).forEach(o=>{const a=i[o];if(!me(a))return console.error(`Invalid scale configuration for scale: ${o}`);if(a._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const l=Cm(o,a,BW(o,t),Qe.scales[a.type]),u=UW(l,r),h=n.scales||{};s[o]=yl(Object.create(null),[{axis:l},a,h[l],h[u]])}),t.data.datasets.forEach(o=>{const a=o.type||t.type,l=o.indexAxis||Pm(a,e),h=(As[a]||{}).scales||{};Object.keys(h).forEach(d=>{const f=jW(d,l),g=o[f+"AxisID"]||f;s[g]=s[g]||Object.create(null),yl(s[g],[{axis:f},i[g],h[d]])})}),Object.keys(s).forEach(o=>{const a=s[o];yl(a,[Qe.scales[a.type],Qe.scale])}),s}function OP(t){const e=t.options||(t.options={});e.plugins=se(e.plugins,{}),e.scales=WW(t,e)}function NP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function HW(t){return t=t||{},t.data=NP(t.data),OP(t),t}const WT=new Map,LP=new Set;function Mc(t,e){let n=WT.get(t);return n||(n=e(),WT.set(t,n),LP.add(n)),n}const Fa=(t,e,n)=>{const i=zr(e,n);i!==void 0&&t.add(i)};class $W{constructor(e){this._config=HW(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=NP(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),OP(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return Mc(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,n){return Mc(`${e}.transition.${n}`,()=>[[`datasets.${e}.transitions.${n}`,`transitions.${n}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,n){return Mc(`${e}-${n}`,()=>[[`datasets.${e}.elements.${n}`,`datasets.${e}`,`elements.${n}`,""]])}pluginScopeKeys(e){const n=e.id,i=this.type;return Mc(`${i}-plugin-${n}`,()=>[[`plugins.${n}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,n){const i=this._scopeCache;let r=i.get(e);return(!r||n)&&(r=new Map,i.set(e,r)),r}getOptionScopes(e,n,i){const{options:r,type:s}=this,o=this._cachedScopes(e,i),a=o.get(n);if(a)return a;const l=new Set;n.forEach(h=>{e&&(l.add(e),h.forEach(d=>Fa(l,e,d))),h.forEach(d=>Fa(l,r,d)),h.forEach(d=>Fa(l,As[s]||{},d)),h.forEach(d=>Fa(l,Qe,d)),h.forEach(d=>Fa(l,Im,d))});const u=Array.from(l);return u.length===0&&u.push(Object.create(null)),LP.has(n)&&o.set(n,u),u}chartOptionScopes(){const{options:e,type:n}=this;return[e,As[n]||{},Qe.datasets[n]||{},{type:n},Qe,Im]}resolveNamedOptions(e,n,i,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=HT(this._resolverCache,e,r);let l=o;if(qW(o,n)){s.$shared=!1,i=Br(i)?i():i;const u=this.createResolver(e,i,a);l=$o(o,i,u)}for(const u of n)s[u]=l[u];return s}createResolver(e,n,i=[""],r){const{resolver:s}=HT(this._resolverCache,e,i);return me(n)?$o(s,n,void 0,r):s}}function HT(t,e,n){let i=t.get(e);i||(i=new Map,t.set(e,i));const r=n.join();let s=i.get(r);return s||(s={resolver:iv(e,n),subPrefixes:n.filter(a=>!a.toLowerCase().includes("hover"))},i.set(r,s)),s}const YW=t=>me(t)&&Object.getOwnPropertyNames(t).some(e=>Br(t[e]));function qW(t,e){const{isScriptable:n,isIndexable:i}=_P(t);for(const r of e){const s=n(r),o=i(r),a=(o||s)&&t[r];if(s&&(Br(a)||YW(a))||o&&He(a))return!0}return!1}var GW="4.4.6";const KW=["top","bottom","left","right","chartArea"];function $T(t,e){return t==="top"||t==="bottom"||KW.indexOf(t)===-1&&e==="x"}function YT(t,e){return function(n,i){return n[t]===i[t]?n[e]-i[e]:n[t]-i[t]}}function qT(t){const e=t.chart,n=e.options.animation;e.notifyPlugins("afterRender"),Re(n&&n.onComplete,[t],e)}function QW(t){const e=t.chart,n=e.options.animation;Re(n&&n.onProgress,[t],e)}function VP(t){return ov()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const hh={},GT=t=>{const e=VP(t);return Object.values(hh).filter(n=>n.canvas===e).pop()};function XW(t,e,n){const i=Object.keys(t);for(const r of i){const s=+r;if(s>=e){const o=t[r];delete t[r],(n>0||s>e)&&(t[s+n]=o)}}}function JW(t,e,n,i){return!n||t.type==="mouseout"?null:i?e:t}function Oc(t,e,n){return t.options.clip?t[n]:e[n]}function ZW(t,e){const{xScale:n,yScale:i}=t;return n&&i?{left:Oc(n,e,"left"),right:Oc(n,e,"right"),top:Oc(i,e,"top"),bottom:Oc(i,e,"bottom")}:e}var Zi;let Sf=(Zi=class{static register(...e){Gn.add(...e),KT()}static unregister(...e){Gn.remove(...e),KT()}constructor(e,n){const i=this.config=new $W(n),r=VP(e),s=GT(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||mW(r)),this.platform.updateConfig(i);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,h=l&&l.width;if(this.id=JB(),this.ctx=a,this.canvas=l,this.width=h,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new OW,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=g9(d=>this.update(d),o.resizeDelay||0),this._dataChanges=[],hh[this.id]=this,!a||!l){console.error("Failed to create chart: can't acquire context from the given item");return}mi.listen(this,"complete",qT),mi.listen(this,"progress",QW),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:n},width:i,height:r,_aspectRatio:s}=this;return ke(e)?n&&s?s:r?i/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Gn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():yT(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return pT(this.canvas,this.ctx),this}stop(){return mi.stop(this),this}resize(e,n){mi.running(this)?this._resizeBeforeDraw={width:e,height:n}:this._resize(e,n)}_resize(e,n){const i=this.options,r=this.canvas,s=i.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(r,e,n,s),a=i.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,yT(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Re(i.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){const n=this.options.scales||{};Se(n,(i,r)=>{i.id=r})}buildOrUpdateScales(){const e=this.options,n=e.scales,i=this.scales,r=Object.keys(i).reduce((o,a)=>(o[a]=!1,o),{});let s=[];n&&(s=s.concat(Object.keys(n).map(o=>{const a=n[o],l=Cm(o,a),u=l==="r",h=l==="x";return{options:a,dposition:u?"chartArea":h?"bottom":"left",dtype:u?"radialLinear":h?"category":"linear"}}))),Se(s,o=>{const a=o.options,l=a.id,u=Cm(l,a),h=se(a.type,o.dtype);(a.position===void 0||$T(a.position,u)!==$T(o.dposition))&&(a.position=o.dposition),r[l]=!0;let d=null;if(l in i&&i[l].type===h)d=i[l];else{const f=Gn.getScale(h);d=new f({id:l,type:h,ctx:this.ctx,chart:this}),i[d.id]=d}d.init(a,e)}),Se(r,(o,a)=>{o||delete i[a]}),Se(i,o=>{vn.configure(this,o,o.options),vn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,n=this.data.datasets.length,i=e.length;if(e.sort((r,s)=>r.index-s.index),i>n){for(let r=n;r<i;++r)this._destroyDatasetMeta(r);e.splice(n,i-n)}this._sortedMetasets=e.slice(0).sort(YT("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:n}}=this;e.length>n.length&&delete this._stacks,e.forEach((i,r)=>{n.filter(s=>s===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const e=[],n=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=n.length;i<r;i++){const s=n[i];let o=this.getDatasetMeta(i);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(i),o=this.getDatasetMeta(i)),o.type=a,o.indexAxis=s.indexAxis||Pm(a,this.options),o.order=s.order||0,o.index=i,o.label=""+s.label,o.visible=this.isDatasetVisible(i),o.controller)o.controller.updateIndex(i),o.controller.linkScales();else{const l=Gn.getController(a),{datasetElementType:u,dataElementType:h}=Qe.datasets[a];Object.assign(l,{dataElementType:Gn.getElement(h),datasetElementType:u&&Gn.getElement(u)}),o.controller=new l(this,i),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Se(this.data.datasets,(e,n)=>{this.getDatasetMeta(n).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const n=this.config;n.update();const i=this._options=n.createResolver(n.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,h=this.data.datasets.length;u<h;u++){const{controller:d}=this.getDatasetMeta(u),f=!r&&s.indexOf(d)===-1;d.buildOrUpdateElements(f),o=Math.max(+d.getMaxOverflow(),o)}o=this._minPadding=i.layout.autoPadding?o:0,this._updateLayout(o),r||Se(s,u=>{u.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(YT("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){Se(this.scales,e=>{vn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,n=new Set(Object.keys(this._listeners)),i=new Set(e.events);(!sT(n,i)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,n=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:s}of n){const o=i==="_removeElements"?-s:s;XW(e,r,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const n=this.data.datasets.length,i=s=>new Set(e.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=i(0);for(let s=1;s<n;s++)if(!sT(r,i(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;vn.update(this,this.width,this.height,e);const n=this.chartArea,i=n.width<=0||n.height<=0;this._layers=[],Se(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let n=0,i=this.data.datasets.length;n<i;++n)this.getDatasetMeta(n).controller.configure();for(let n=0,i=this.data.datasets.length;n<i;++n)this._updateDataset(n,Br(e)?e({datasetIndex:n}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,n){const i=this.getDatasetMeta(e),r={meta:i,index:e,mode:n,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(n),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(mi.has(this)?this.attached&&!mi.running(this)&&mi.start(this):(this.draw(),qT({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const n=this._layers;for(e=0;e<n.length&&n[e].z<=0;++e)n[e].draw(this.chartArea);for(this._drawDatasets();e<n.length;++e)n[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const n=this._sortedMetasets,i=[];let r,s;for(r=0,s=n.length;r<s;++r){const o=n[r];(!e||o.visible)&&i.push(o)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let n=e.length-1;n>=0;--n)this._drawDataset(e[n]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const n=this.ctx,i=e._clip,r=!i.disabled,s=ZW(e,this.chartArea),o={meta:e,index:e.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",o)!==!1&&(r&&ev(n,{left:i.left===!1?0:s.left-i.left,right:i.right===!1?this.width:s.right+i.right,top:i.top===!1?0:s.top-i.top,bottom:i.bottom===!1?this.height:s.bottom+i.bottom}),e.controller.draw(),r&&tv(n),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(e){return Ai(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,n,i,r){const s=K5.modes[n];return typeof s=="function"?s(this,e,i,r):[]}getDatasetMeta(e){const n=this.data.datasets[e],i=this._metasets;let r=i.filter(s=>s&&s._dataset===n).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:n&&n.order||0,index:e,_dataset:n,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=Qr(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const n=this.data.datasets[e];if(!n)return!1;const i=this.getDatasetMeta(e);return typeof i.hidden=="boolean"?!i.hidden:!n.hidden}setDatasetVisibility(e,n){const i=this.getDatasetMeta(e);i.hidden=!n}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,n,i){const r=i?"show":"hide",s=this.getDatasetMeta(e),o=s.controller._resolveAnimations(void 0,r);ru(n)?(s.data[n].hidden=!i,this.update()):(this.setDatasetVisibility(e,i),o.update(s,{visible:i}),this.update(a=>a.datasetIndex===e?r:void 0))}hide(e,n){this._updateVisibility(e,n,!1)}show(e,n){this._updateVisibility(e,n,!0)}_destroyDatasetMeta(e){const n=this._metasets[e];n&&n.controller&&n.controller._destroy(),delete this._metasets[e]}_stop(){let e,n;for(this.stop(),mi.remove(this),e=0,n=this.data.datasets.length;e<n;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:n}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),pT(e,n),this.platform.releaseContext(n),this.canvas=null,this.ctx=null),delete hh[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,n=this.platform,i=(s,o)=>{n.addEventListener(this,s,o),e[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};Se(this.options.events,s=>i(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,n=this.platform,i=(l,u)=>{n.addEventListener(this,l,u),e[l]=u},r=(l,u)=>{e[l]&&(n.removeEventListener(this,l,u),delete e[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),i("resize",s),i("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),i("attach",a)},n.isAttached(this.canvas)?a():o()}unbindEvents(){Se(this._listeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._listeners={},Se(this._responsiveListeners,(e,n)=>{this.platform.removeEventListener(this,n,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,n,i){const r=i?"set":"remove";let s,o,a,l;for(n==="dataset"&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=e.length;a<l;++a){o=e[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const n=this._active||[],i=e.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!dd(i,n)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,n))}notifyPlugins(e,n,i){return this._plugins.notify(this,e,n,i)}isPluginEnabled(e){return this._plugins._cache.filter(n=>n.plugin.id===e).length===1}_updateHoverStyles(e,n,i){const r=this.options.hover,s=(l,u)=>l.filter(h=>!u.some(d=>h.datasetIndex===d.datasetIndex&&h.index===d.index)),o=s(n,e),a=i?e:s(e,n);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(e,n){const i={event:e,replay:n,cancelable:!0,inChartArea:this.isPointInArea(e)},r=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const s=this._handleEvent(e,n,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(s||i.changed)&&this.render(),this}_handleEvent(e,n,i){const{_active:r=[],options:s}=this,o=n,a=this._getActiveElements(e,r,i,o),l=r9(e),u=JW(e,this._lastEvent,i,l);i&&(this._lastEvent=null,Re(s.onHover,[e,a,this],this),l&&Re(s.onClick,[e,a,this],this));const h=!dd(a,r);return(h||n)&&(this._active=a,this._updateHoverStyles(a,r,n)),this._lastEvent=u,h}_getActiveElements(e,n,i,r){if(e.type==="mouseout")return[];if(!i)return n;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}},Y(Zi,"defaults",Qe),Y(Zi,"instances",hh),Y(Zi,"overrides",As),Y(Zi,"registry",Gn),Y(Zi,"version",GW),Y(Zi,"getChart",GT),Zi);function KT(){return Se(Sf.instances,t=>t._plugins.invalidate())}function e6(t,e,n){const{startAngle:i,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=e;let u=r/a;t.beginPath(),t.arc(s,o,a,i-u,n+u),l>r?(u=r/l,t.arc(s,o,l,n+u,i-u,!0)):t.arc(s,o,r,n+tt,i-tt),t.closePath(),t.clip()}function t6(t){return nv(t,["outerStart","outerEnd","innerStart","innerEnd"])}function n6(t,e,n,i){const r=t6(t.options.borderRadius),s=(n-e)/2,o=Math.min(s,i*e/2),a=l=>{const u=(n-Math.min(s,l))*i/2;return Zt(l,0,Math.min(s,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:Zt(r.innerStart,0,o),innerEnd:Zt(r.innerEnd,0,o)}}function Ys(t,e,n,i){return{x:n+t*Math.cos(e),y:i+t*Math.sin(e)}}function vd(t,e,n,i,r,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:h}=e,d=Math.max(e.outerRadius+i+n-u,0),f=h>0?h+i+n+u:0;let g=0;const y=r-l;if(i){const ae=h>0?h-i:0,Ee=d>0?d-i:0,we=(ae+Ee)/2,B=we!==0?y*we/(we+i):y;g=(y-B)/2}const w=Math.max(.001,y*d-n/Be)/d,T=(y-w)/2,_=l+T+g,v=r-T-g,{outerStart:x,outerEnd:R,innerStart:M,innerEnd:N}=n6(e,f,d,v-_),I=d-x,E=d-R,k=_+x/I,b=v-R/E,C=f+M,D=f+N,P=_+M/C,Ae=v-N/D;if(t.beginPath(),s){const ae=(k+b)/2;if(t.arc(o,a,d,k,ae),t.arc(o,a,d,ae,b),R>0){const Q=Ys(E,b,o,a);t.arc(Q.x,Q.y,R,b,v+tt)}const Ee=Ys(D,v,o,a);if(t.lineTo(Ee.x,Ee.y),N>0){const Q=Ys(D,Ae,o,a);t.arc(Q.x,Q.y,N,v+tt,Ae+Math.PI)}const we=(v-N/f+(_+M/f))/2;if(t.arc(o,a,f,v-N/f,we,!0),t.arc(o,a,f,we,_+M/f,!0),M>0){const Q=Ys(C,P,o,a);t.arc(Q.x,Q.y,M,P+Math.PI,_-tt)}const B=Ys(I,_,o,a);if(t.lineTo(B.x,B.y),x>0){const Q=Ys(I,k,o,a);t.arc(Q.x,Q.y,x,_-tt,k)}}else{t.moveTo(o,a);const ae=Math.cos(k)*d+o,Ee=Math.sin(k)*d+a;t.lineTo(ae,Ee);const we=Math.cos(b)*d+o,B=Math.sin(b)*d+a;t.lineTo(we,B)}t.closePath()}function i6(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a}=e;let l=e.endAngle;if(s){vd(t,e,n,i,l,r);for(let u=0;u<s;++u)t.fill();isNaN(a)||(l=o+(a%ze||ze))}return vd(t,e,n,i,l,r),t.fill(),l}function r6(t,e,n,i,r){const{fullCircles:s,startAngle:o,circumference:a,options:l}=e,{borderWidth:u,borderJoinStyle:h,borderDash:d,borderDashOffset:f}=l,g=l.borderAlign==="inner";if(!u)return;t.setLineDash(d||[]),t.lineDashOffset=f,g?(t.lineWidth=u*2,t.lineJoin=h||"round"):(t.lineWidth=u,t.lineJoin=h||"bevel");let y=e.endAngle;if(s){vd(t,e,n,i,y,r);for(let w=0;w<s;++w)t.stroke();isNaN(a)||(y=o+(a%ze||ze))}g&&e6(t,e,y),s||(vd(t,e,n,i,y,r),t.stroke())}class Ja extends zn{constructor(n){super();Y(this,"circumference");Y(this,"endAngle");Y(this,"fullCircles");Y(this,"innerRadius");Y(this,"outerRadius");Y(this,"pixelMargin");Y(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.getProps(["x","y"],r),{angle:o,distance:a}=cP(s,{x:n,y:i}),{startAngle:l,endAngle:u,innerRadius:h,outerRadius:d,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],r),g=(this.options.spacing+this.options.borderWidth)/2,y=se(f,u-l),w=su(o,l,u)&&l!==u,T=y>=ze||w,_=mr(a,h+g,d+g);return T&&_}getCenterPoint(n){const{x:i,y:r,startAngle:s,endAngle:o,innerRadius:a,outerRadius:l}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],n),{offset:u,spacing:h}=this.options,d=(s+o)/2,f=(a+l+h+u)/2;return{x:i+Math.cos(d)*f,y:r+Math.sin(d)*f}}tooltipPosition(n){return this.getCenterPoint(n)}draw(n){const{options:i,circumference:r}=this,s=(i.offset||0)/4,o=(i.spacing||0)/2,a=i.circular;if(this.pixelMargin=i.borderAlign==="inner"?.33:0,this.fullCircles=r>ze?Math.floor(r/ze):0,r===0||this.innerRadius<0||this.outerRadius<0)return;n.save();const l=(this.startAngle+this.endAngle)/2;n.translate(Math.cos(l)*s,Math.sin(l)*s);const u=1-Math.sin(Math.min(Be,r||0)),h=s*u;n.fillStyle=i.backgroundColor,n.strokeStyle=i.borderColor,i6(n,this,h,o,a),r6(n,this,h,o,a),n.restore()}}Y(Ja,"id","arc"),Y(Ja,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),Y(Ja,"defaultRoutes",{backgroundColor:"backgroundColor"}),Y(Ja,"descriptors",{_scriptable:!0,_indexable:n=>n!=="borderDash"});function FP(t,e,n=e){t.lineCap=se(n.borderCapStyle,e.borderCapStyle),t.setLineDash(se(n.borderDash,e.borderDash)),t.lineDashOffset=se(n.borderDashOffset,e.borderDashOffset),t.lineJoin=se(n.borderJoinStyle,e.borderJoinStyle),t.lineWidth=se(n.borderWidth,e.borderWidth),t.strokeStyle=se(n.borderColor,e.borderColor)}function s6(t,e,n){t.lineTo(n.x,n.y)}function o6(t){return t.stepped?b9:t.tension||t.cubicInterpolationMode==="monotone"?P9:s6}function jP(t,e,n={}){const i=t.length,{start:r=0,end:s=i-1}=n,{start:o,end:a}=e,l=Math.max(r,o),u=Math.min(s,a),h=r<o&&s<o||r>a&&s>a;return{count:i,start:l,loop:e.loop,ilen:u<l&&!h?i+u-l:u-l}}function a6(t,e,n,i){const{points:r,options:s}=e,{count:o,start:a,loop:l,ilen:u}=jP(r,n,i),h=o6(s);let{move:d=!0,reverse:f}=i||{},g,y,w;for(g=0;g<=u;++g)y=r[(a+(f?u-g:g))%o],!y.skip&&(d?(t.moveTo(y.x,y.y),d=!1):h(t,w,y,f,s.stepped),w=y);return l&&(y=r[(a+(f?u:0))%o],h(t,w,y,f,s.stepped)),!!l}function l6(t,e,n,i){const r=e.points,{count:s,start:o,ilen:a}=jP(r,n,i),{move:l=!0,reverse:u}=i||{};let h=0,d=0,f,g,y,w,T,_;const v=R=>(o+(u?a-R:R))%s,x=()=>{w!==T&&(t.lineTo(h,T),t.lineTo(h,w),t.lineTo(h,_))};for(l&&(g=r[v(0)],t.moveTo(g.x,g.y)),f=0;f<=a;++f){if(g=r[v(f)],g.skip)continue;const R=g.x,M=g.y,N=R|0;N===y?(M<w?w=M:M>T&&(T=M),h=(d*h+R)/++d):(x(),t.lineTo(R,M),y=N,d=0,w=T=M),_=M}x()}function Am(t){const e=t.options,n=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!n?l6:a6}function u6(t){return t.stepped?a5:t.tension||t.cubicInterpolationMode==="monotone"?l5:us}function c6(t,e,n,i){let r=e._path;r||(r=e._path=new Path2D,e.path(r,n,i)&&r.closePath()),FP(t,e.options),t.stroke(r)}function h6(t,e,n,i){const{segments:r,options:s}=e,o=Am(e);for(const a of r)FP(t,s,a.style),t.beginPath(),o(t,e,a,{start:n,end:n+i-1})&&t.closePath(),t.stroke()}const d6=typeof Path2D=="function";function f6(t,e,n,i){d6&&!e.options.segment?c6(t,e,n,i):h6(t,e,n,i)}class Za extends zn{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;Z9(this._points,i,e,r,n),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=m5(this,this.options.segment))}first(){const e=this.segments,n=this.points;return e.length&&n[e[0].start]}last(){const e=this.segments,n=this.points,i=e.length;return i&&n[e[i-1].end]}interpolate(e,n){const i=this.options,r=e[n],s=this.points,o=f5(this,{property:n,start:r,end:r});if(!o.length)return;const a=[],l=u6(i);let u,h;for(u=0,h=o.length;u<h;++u){const{start:d,end:f}=o[u],g=s[d],y=s[f];if(g===y){a.push(g);continue}const w=Math.abs((r-g[n])/(y[n]-g[n])),T=l(g,y,w,i.stepped);T[n]=e[n],a.push(T)}return a.length===1?a[0]:a}pathSegment(e,n,i){return Am(this)(e,this,n,i)}path(e,n,i){const r=this.segments,s=Am(this);let o=this._loop;n=n||0,i=i||this.points.length-n;for(const a of r)o&=s(e,this,a,{start:n,end:n+i-1});return!!o}draw(e,n,i,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),f6(e,this,i,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}Y(Za,"id","line"),Y(Za,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),Y(Za,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),Y(Za,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"});function QT(t,e,n,i){const r=t.options,{[n]:s}=t.getProps([n],i);return Math.abs(e-s)<r.radius+r.hitRadius}class dh extends zn{constructor(n){super();Y(this,"parsed");Y(this,"skip");Y(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,n&&Object.assign(this,n)}inRange(n,i,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(n-o,2)+Math.pow(i-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(n,i){return QT(this,n,"x",i)}inYRange(n,i){return QT(this,n,"y",i)}getCenterPoint(n){const{x:i,y:r}=this.getProps(["x","y"],n);return{x:i,y:r}}size(n){n=n||this.options||{};let i=n.radius||0;i=Math.max(i,i&&n.hoverRadius||0);const r=i&&n.borderWidth||0;return(i+r)*2}draw(n,i){const r=this.options;this.skip||r.radius<.1||!Ai(this,i,this.size(r)/2)||(n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.fillStyle=r.backgroundColor,km(n,r,this.x,this.y))}getRange(){const n=this.options||{};return n.radius+n.hitRadius}}Y(dh,"id","point"),Y(dh,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),Y(dh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});function UP(t,e){const{x:n,y:i,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],e);let a,l,u,h,d;return t.horizontal?(d=o/2,a=Math.min(n,r),l=Math.max(n,r),u=i-d,h=i+d):(d=s/2,a=n-d,l=n+d,u=Math.min(i,r),h=Math.max(i,r)),{left:a,top:u,right:l,bottom:h}}function yr(t,e,n,i){return t?0:Zt(e,n,i)}function p6(t,e,n){const i=t.options.borderWidth,r=t.borderSkipped,s=yP(i);return{t:yr(r.top,s.top,0,n),r:yr(r.right,s.right,0,e),b:yr(r.bottom,s.bottom,0,n),l:yr(r.left,s.left,0,e)}}function g6(t,e,n){const{enableBorderRadius:i}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=vs(r),o=Math.min(e,n),a=t.borderSkipped,l=i||me(r);return{topLeft:yr(!l||a.top||a.left,s.topLeft,0,o),topRight:yr(!l||a.top||a.right,s.topRight,0,o),bottomLeft:yr(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:yr(!l||a.bottom||a.right,s.bottomRight,0,o)}}function m6(t){const e=UP(t),n=e.right-e.left,i=e.bottom-e.top,r=p6(t,n/2,i/2),s=g6(t,n/2,i/2);return{outer:{x:e.left,y:e.top,w:n,h:i,radius:s},inner:{x:e.left+r.l,y:e.top+r.t,w:n-r.l-r.r,h:i-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}function Yp(t,e,n,i){const r=e===null,s=n===null,a=t&&!(r&&s)&&UP(t,i);return a&&(r||mr(e,a.left,a.right))&&(s||mr(n,a.top,a.bottom))}function y6(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function _6(t,e){t.rect(e.x,e.y,e.w,e.h)}function qp(t,e,n={}){const i=t.x!==n.x?-e:0,r=t.y!==n.y?-e:0,s=(t.x+t.w!==n.x+n.w?e:0)-i,o=(t.y+t.h!==n.y+n.h?e:0)-r;return{x:t.x+i,y:t.y+r,w:t.w+s,h:t.h+o,radius:t.radius}}class fh extends zn{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:n,options:{borderColor:i,backgroundColor:r}}=this,{inner:s,outer:o}=m6(this),a=y6(o.radius)?ou:_6;e.save(),(o.w!==s.w||o.h!==s.h)&&(e.beginPath(),a(e,qp(o,n,s)),e.clip(),a(e,qp(s,-n,o)),e.fillStyle=i,e.fill("evenodd")),e.beginPath(),a(e,qp(s,n)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,n,i){return Yp(this,e,n,i)}inXRange(e,n){return Yp(this,e,null,n)}inYRange(e,n){return Yp(this,null,e,n)}getCenterPoint(e){const{x:n,y:i,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(n+r)/2:n,y:s?i:(i+r)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}Y(fh,"id","bar"),Y(fh,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),Y(fh,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const XT=(t,e)=>{let{boxHeight:n=e,boxWidth:i=e}=t;return t.usePointStyle&&(n=Math.min(n,e),i=t.pointStyleWidth||Math.min(i,e)),{boxWidth:i,boxHeight:n,itemHeight:Math.max(e,n)}},v6=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class JT extends zn{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n,i){this.maxWidth=e,this.maxHeight=n,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let n=Re(e.generateLabels,[this.chart],this)||[];e.filter&&(n=n.filter(i=>e.filter(i,this.chart.data))),e.sort&&(n=n.sort((i,r)=>e.sort(i,r,this.chart.data))),this.options.reverse&&n.reverse(),this.legendItems=n}fit(){const{options:e,ctx:n}=this;if(!e.display){this.width=this.height=0;return}const i=e.labels,r=lt(i.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=XT(i,s);let u,h;n.font=r.string,this.isHorizontal()?(u=this.maxWidth,h=this._fitRows(o,s,a,l)+10):(h=this.maxHeight,u=this._fitCols(o,r,a,l)+10),this.width=Math.min(u,e.maxWidth||this.maxWidth),this.height=Math.min(h,e.maxHeight||this.maxHeight)}_fitRows(e,n,i,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],h=r+a;let d=e;s.textAlign="left",s.textBaseline="middle";let f=-1,g=-h;return this.legendItems.forEach((y,w)=>{const T=i+n/2+s.measureText(y.text).width;(w===0||u[u.length-1]+T+2*a>o)&&(d+=h,u[u.length-(w>0?0:1)]=0,g+=h,f++),l[w]={left:0,top:g,row:f,width:T,height:r},u[u.length-1]+=T+a}),d}_fitCols(e,n,i,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],h=o-e;let d=a,f=0,g=0,y=0,w=0;return this.legendItems.forEach((T,_)=>{const{itemWidth:v,itemHeight:x}=w6(i,n,s,T,r);_>0&&g+x+2*a>h&&(d+=f+a,u.push({width:f,height:g}),y+=f+a,w++,f=g=0),l[_]={left:y,top:g,col:w,width:v,height:x},f=Math.max(f,v),g+=x+a}),d+=f,u.push({width:f,height:g}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:n,options:{align:i,labels:{padding:r},rtl:s}}=this,o=ko(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=At(i,this.left+r,this.right-this.lineWidths[a]);for(const u of n)a!==u.row&&(a=u.row,l=At(i,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+e+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=At(i,this.top+e+r,this.bottom-this.columnSizes[a].height);for(const u of n)u.col!==a&&(a=u.col,l=At(i,this.top+e+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;ev(e,this),this._draw(),tv(e)}}_draw(){const{options:e,columnSizes:n,lineWidths:i,ctx:r}=this,{align:s,labels:o}=e,a=Qe.color,l=ko(e.rtl,this.left,this.width),u=lt(o.font),{padding:h}=o,d=u.size,f=d/2;let g;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:y,boxHeight:w,itemHeight:T}=XT(o,d),_=function(N,I,E){if(isNaN(y)||y<=0||isNaN(w)||w<0)return;r.save();const k=se(E.lineWidth,1);if(r.fillStyle=se(E.fillStyle,a),r.lineCap=se(E.lineCap,"butt"),r.lineDashOffset=se(E.lineDashOffset,0),r.lineJoin=se(E.lineJoin,"miter"),r.lineWidth=k,r.strokeStyle=se(E.strokeStyle,a),r.setLineDash(se(E.lineDash,[])),o.usePointStyle){const b={radius:w*Math.SQRT2/2,pointStyle:E.pointStyle,rotation:E.rotation,borderWidth:k},C=l.xPlus(N,y/2),D=I+f;mP(r,b,C,D,o.pointStyleWidth&&y)}else{const b=I+Math.max((d-w)/2,0),C=l.leftForLtr(N,y),D=vs(E.borderRadius);r.beginPath(),Object.values(D).some(P=>P!==0)?ou(r,{x:C,y:b,w:y,h:w,radius:D}):r.rect(C,b,y,w),r.fill(),k!==0&&r.stroke()}r.restore()},v=function(N,I,E){Rs(r,E.text,N,I+T/2,u,{strikethrough:E.hidden,textAlign:l.textAlign(E.textAlign)})},x=this.isHorizontal(),R=this._computeTitleHeight();x?g={x:At(s,this.left+h,this.right-i[0]),y:this.top+h+R,line:0}:g={x:this.left+h,y:At(s,this.top+R+h,this.bottom-n[0].height),line:0},SP(this.ctx,e.textDirection);const M=T+h;this.legendItems.forEach((N,I)=>{r.strokeStyle=N.fontColor,r.fillStyle=N.fontColor;const E=r.measureText(N.text).width,k=l.textAlign(N.textAlign||(N.textAlign=o.textAlign)),b=y+f+E;let C=g.x,D=g.y;l.setWidth(this.width),x?I>0&&C+b+h>this.right&&(D=g.y+=M,g.line++,C=g.x=At(s,this.left+h,this.right-i[g.line])):I>0&&D+M>this.bottom&&(C=g.x=C+n[g.line].width+h,g.line++,D=g.y=At(s,this.top+R+h,this.bottom-n[g.line].height));const P=l.x(C);if(_(P,D,N),C=m9(k,C+y+f,x?C+b:this.right,e.rtl),v(l.x(C),D,N),x)g.x+=b+h;else if(typeof N.text!="string"){const Ae=u.lineHeight;g.y+=zP(N,Ae)+h}else g.y+=M}),xP(this.ctx,e.textDirection)}drawTitle(){const e=this.options,n=e.title,i=lt(n.font),r=Vt(n.padding);if(!n.display)return;const s=ko(e.rtl,this.left,this.width),o=this.ctx,a=n.position,l=i.size/2,u=r.top+l;let h,d=this.left,f=this.width;if(this.isHorizontal())f=Math.max(...this.lineWidths),h=this.top+u,d=At(e.align,d,this.right-f);else{const y=this.columnSizes.reduce((w,T)=>Math.max(w,T.height),0);h=u+At(e.align,this.top,this.bottom-y-e.labels.padding-this._computeTitleHeight())}const g=At(a,d,d+f);o.textAlign=s.textAlign(Q_(a)),o.textBaseline="middle",o.strokeStyle=n.color,o.fillStyle=n.color,o.font=i.string,Rs(o,n.text,g,h,i)}_computeTitleHeight(){const e=this.options.title,n=lt(e.font),i=Vt(e.padding);return e.display?n.lineHeight+i.height:0}_getLegendItemAt(e,n){let i,r,s;if(mr(e,this.left,this.right)&&mr(n,this.top,this.bottom)){for(s=this.legendHitBoxes,i=0;i<s.length;++i)if(r=s[i],mr(e,r.left,r.left+r.width)&&mr(n,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(e){const n=this.options;if(!S6(e.type,n))return;const i=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const r=this._hoveredItem,s=v6(r,i);r&&!s&&Re(n.onLeave,[e,r,this],this),this._hoveredItem=i,i&&!s&&Re(n.onHover,[e,i,this],this)}else i&&Re(n.onClick,[e,i,this],this)}}function w6(t,e,n,i,r){const s=E6(i,t,e,n),o=T6(r,i,e.lineHeight);return{itemWidth:s,itemHeight:o}}function E6(t,e,n,i){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((s,o)=>s.length>o.length?s:o)),e+n.size/2+i.measureText(r).width}function T6(t,e,n){let i=t;return typeof e.text!="string"&&(i=zP(e,n)),i}function zP(t,e){const n=t.text?t.text.length:0;return e*n}function S6(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var x6={id:"legend",_element:JT,start(t,e,n){const i=t.legend=new JT({ctx:t.ctx,options:n,chart:t});vn.configure(t,i,n),vn.addBox(t,i)},stop(t){vn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,n){const i=t.legend;vn.configure(t,i,n),i.options=n},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,n){const i=e.datasetIndex,r=n.chart;r.isDatasetVisible(i)?(r.hide(i),e.hidden=!0):(r.show(i),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:n,pointStyle:i,textAlign:r,color:s,useBorderRadius:o,borderRadius:a}}=t.legend.options;return t._getSortedDatasetMetas().map(l=>{const u=l.controller.getStyle(n?0:void 0),h=Vt(u.borderWidth);return{text:e[l.index].label,fillStyle:u.backgroundColor,fontColor:s,hidden:!l.visible,lineCap:u.borderCapStyle,lineDash:u.borderDash,lineDashOffset:u.borderDashOffset,lineJoin:u.borderJoinStyle,lineWidth:(h.width+h.height)/4,strokeStyle:u.borderColor,pointStyle:i||u.pointStyle,rotation:u.rotation,textAlign:r||u.textAlign,borderRadius:o&&(a||u.borderRadius),datasetIndex:l.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class BP extends zn{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,n){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=n;const r=He(i.text)?i.text.length:1;this._padding=Vt(i.padding);const s=r*lt(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:n,left:i,bottom:r,right:s,options:o}=this,a=o.align;let l=0,u,h,d;return this.isHorizontal()?(h=At(a,i,s),d=n+e,u=s-i):(o.position==="left"?(h=i+e,d=At(a,r,n),l=Be*-.5):(h=s-e,d=At(a,n,r),l=Be*.5),u=r-n),{titleX:h,titleY:d,maxWidth:u,rotation:l}}draw(){const e=this.ctx,n=this.options;if(!n.display)return;const i=lt(n.font),s=i.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Rs(e,n.text,0,0,i,{color:n.color,maxWidth:l,rotation:u,textAlign:Q_(n.align),textBaseline:"middle",translation:[o,a]})}}function I6(t,e){const n=new BP({ctx:t.ctx,options:e,chart:t});vn.configure(t,n,e),vn.addBox(t,n),t.titleBlock=n}var k6={id:"title",_element:BP,start(t,e,n){I6(t,n)},stop(t){const e=t.titleBlock;vn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,n){const i=t.titleBlock;vn.configure(t,i,n),i.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const el={average(t){if(!t.length)return!1;let e,n,i=new Set,r=0,s=0;for(e=0,n=t.length;e<n;++e){const a=t[e].element;if(a&&a.hasValue()){const l=a.tooltipPosition();i.add(l.x),r+=l.y,++s}}return s===0||i.size===0?!1:{x:[...i].reduce((a,l)=>a+l)/i.size,y:r/s}},nearest(t,e){if(!t.length)return!1;let n=e.x,i=e.y,r=Number.POSITIVE_INFINITY,s,o,a;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const u=l.getCenterPoint(),h=Sm(e,u);h<r&&(r=h,a=l)}}if(a){const l=a.tooltipPosition();n=l.x,i=l.y}return{x:n,y:i}}};function Yn(t,e){return e&&(He(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function yi(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function b6(t,e){const{element:n,datasetIndex:i,index:r}=e,s=t.getDatasetMeta(i).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[i].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:i,element:n}}function ZT(t,e){const n=t.chart.ctx,{body:i,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=e,l=lt(e.bodyFont),u=lt(e.titleFont),h=lt(e.footerFont),d=s.length,f=r.length,g=i.length,y=Vt(e.padding);let w=y.height,T=0,_=i.reduce((R,M)=>R+M.before.length+M.lines.length+M.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,d&&(w+=d*u.lineHeight+(d-1)*e.titleSpacing+e.titleMarginBottom),_){const R=e.displayColors?Math.max(a,l.lineHeight):l.lineHeight;w+=g*R+(_-g)*l.lineHeight+(_-1)*e.bodySpacing}f&&(w+=e.footerMarginTop+f*h.lineHeight+(f-1)*e.footerSpacing);let v=0;const x=function(R){T=Math.max(T,n.measureText(R).width+v)};return n.save(),n.font=u.string,Se(t.title,x),n.font=l.string,Se(t.beforeBody.concat(t.afterBody),x),v=e.displayColors?o+2+e.boxPadding:0,Se(i,R=>{Se(R.before,x),Se(R.lines,x),Se(R.after,x)}),v=0,n.font=h.string,Se(t.footer,x),n.restore(),T+=y.width,{width:T,height:w}}function P6(t,e){const{y:n,height:i}=e;return n<i/2?"top":n>t.height-i/2?"bottom":"center"}function C6(t,e,n,i){const{x:r,width:s}=i,o=n.caretSize+n.caretPadding;if(t==="left"&&r+s+o>e.width||t==="right"&&r-s-o<0)return!0}function A6(t,e,n,i){const{x:r,width:s}=n,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return i==="center"?u=r<=(a+l)/2?"left":"right":r<=s/2?u="left":r>=o-s/2&&(u="right"),C6(u,t,e,n)&&(u="center"),u}function eS(t,e,n){const i=n.yAlign||e.yAlign||P6(t,n);return{xAlign:n.xAlign||e.xAlign||A6(t,e,n,i),yAlign:i}}function R6(t,e){let{x:n,width:i}=t;return e==="right"?n-=i:e==="center"&&(n-=i/2),n}function D6(t,e,n){let{y:i,height:r}=t;return e==="top"?i+=n:e==="bottom"?i-=r+n:i-=r/2,i}function tS(t,e,n,i){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=n,u=r+s,{topLeft:h,topRight:d,bottomLeft:f,bottomRight:g}=vs(o);let y=R6(e,a);const w=D6(e,l,u);return l==="center"?a==="left"?y+=u:a==="right"&&(y-=u):a==="left"?y-=Math.max(h,f)+r:a==="right"&&(y+=Math.max(d,g)+r),{x:Zt(y,0,i.width-e.width),y:Zt(w,0,i.height-e.height)}}function Nc(t,e,n){const i=Vt(n.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-i.right:t.x+i.left}function nS(t){return Yn([],yi(t))}function M6(t,e,n){return Qr(t,{tooltip:e,tooltipItems:n,type:"tooltip"})}function iS(t,e){const n=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return n?t.override(n):t}const WP={beforeTitle:gi,title(t){if(t.length>0){const e=t[0],n=e.chart.data.labels,i=n?n.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(i>0&&e.dataIndex<i)return n[e.dataIndex]}return""},afterTitle:gi,beforeBody:gi,beforeLabel:gi,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const n=t.formattedValue;return ke(n)||(e+=n),e},labelColor(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:n.borderColor,backgroundColor:n.backgroundColor,borderWidth:n.borderWidth,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const n=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:n.pointStyle,rotation:n.rotation}},afterLabel:gi,afterBody:gi,beforeFooter:gi,footer:gi,afterFooter:gi};function Yt(t,e,n,i){const r=t[e].call(n,i);return typeof r>"u"?WP[e].call(n,i):r}class Rm extends zn{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&n.options.animation&&i.animations,s=new kP(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=M6(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:i}=n,r=Yt(i,"beforeTitle",this,e),s=Yt(i,"title",this,e),o=Yt(i,"afterTitle",this,e);let a=[];return a=Yn(a,yi(r)),a=Yn(a,yi(s)),a=Yn(a,yi(o)),a}getBeforeBody(e,n){return nS(Yt(n.callbacks,"beforeBody",this,e))}getBody(e,n){const{callbacks:i}=n,r=[];return Se(e,s=>{const o={before:[],lines:[],after:[]},a=iS(i,s);Yn(o.before,yi(Yt(a,"beforeLabel",this,s))),Yn(o.lines,Yt(a,"label",this,s)),Yn(o.after,yi(Yt(a,"afterLabel",this,s))),r.push(o)}),r}getAfterBody(e,n){return nS(Yt(n.callbacks,"afterBody",this,e))}getFooter(e,n){const{callbacks:i}=n,r=Yt(i,"beforeFooter",this,e),s=Yt(i,"footer",this,e),o=Yt(i,"afterFooter",this,e);let a=[];return a=Yn(a,yi(r)),a=Yn(a,yi(s)),a=Yn(a,yi(o)),a}_createItems(e){const n=this._active,i=this.chart.data,r=[],s=[],o=[];let a=[],l,u;for(l=0,u=n.length;l<u;++l)a.push(b6(this.chart,n[l]));return e.filter&&(a=a.filter((h,d,f)=>e.filter(h,d,f,i))),e.itemSort&&(a=a.sort((h,d)=>e.itemSort(h,d,i))),Se(a,h=>{const d=iS(e.callbacks,h);r.push(Yt(d,"labelColor",this,h)),s.push(Yt(d,"labelPointStyle",this,h)),o.push(Yt(d,"labelTextColor",this,h))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=o,this.dataPoints=a,a}update(e,n){const i=this.options.setContext(this.getContext()),r=this._active;let s,o=[];if(!r.length)this.opacity!==0&&(s={opacity:0});else{const a=el[i.position].call(this,r,this._eventPosition);o=this._createItems(i),this.title=this.getTitle(o,i),this.beforeBody=this.getBeforeBody(o,i),this.body=this.getBody(o,i),this.afterBody=this.getAfterBody(o,i),this.footer=this.getFooter(o,i);const l=this._size=ZT(this,i),u=Object.assign({},a,l),h=eS(this.chart,i,u),d=tS(i,u,h,this.chart);this.xAlign=h.xAlign,this.yAlign=h.yAlign,s={opacity:1,x:d.x,y:d.y,width:l.width,height:l.height,caretX:a.x,caretY:a.y}}this._tooltipItems=o,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,i,r){const s=this.getCaretPosition(e,i,r);n.lineTo(s.x1,s.y1),n.lineTo(s.x2,s.y2),n.lineTo(s.x3,s.y3)}getCaretPosition(e,n,i){const{xAlign:r,yAlign:s}=this,{caretSize:o,cornerRadius:a}=i,{topLeft:l,topRight:u,bottomLeft:h,bottomRight:d}=vs(a),{x:f,y:g}=e,{width:y,height:w}=n;let T,_,v,x,R,M;return s==="center"?(R=g+w/2,r==="left"?(T=f,_=T-o,x=R+o,M=R-o):(T=f+y,_=T+o,x=R-o,M=R+o),v=T):(r==="left"?_=f+Math.max(l,h)+o:r==="right"?_=f+y-Math.max(u,d)-o:_=this.caretX,s==="top"?(x=g,R=x-o,T=_-o,v=_+o):(x=g+w,R=x+o,T=_+o,v=_-o),M=x),{x1:T,x2:_,x3:v,y1:x,y2:R,y3:M}}drawTitle(e,n,i){const r=this.title,s=r.length;let o,a,l;if(s){const u=ko(i.rtl,this.x,this.width);for(e.x=Nc(this,i.titleAlign,i),n.textAlign=u.textAlign(i.titleAlign),n.textBaseline="middle",o=lt(i.titleFont),a=i.titleSpacing,n.fillStyle=i.titleColor,n.font=o.string,l=0;l<s;++l)n.fillText(r[l],u.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+a,l+1===s&&(e.y+=i.titleMarginBottom-a)}}_drawColorBox(e,n,i,r,s){const o=this.labelColors[i],a=this.labelPointStyles[i],{boxHeight:l,boxWidth:u}=s,h=lt(s.bodyFont),d=Nc(this,"left",s),f=r.x(d),g=l<h.lineHeight?(h.lineHeight-l)/2:0,y=n.y+g;if(s.usePointStyle){const w={radius:Math.min(u,l)/2,pointStyle:a.pointStyle,rotation:a.rotation,borderWidth:1},T=r.leftForLtr(f,u)+u/2,_=y+l/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,km(e,w,T,_),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,km(e,w,T,_)}else{e.lineWidth=me(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=r.leftForLtr(f,u),T=r.leftForLtr(r.xPlus(f,1),u-2),_=vs(o.borderRadius);Object.values(_).some(v=>v!==0)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,ou(e,{x:w,y,w:u,h:l,radius:_}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),ou(e,{x:T,y:y+1,w:u-2,h:l-2,radius:_}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(w,y,u,l),e.strokeRect(w,y,u,l),e.fillStyle=o.backgroundColor,e.fillRect(T,y+1,u-2,l-2))}e.fillStyle=this.labelTextColors[i]}drawBody(e,n,i){const{body:r}=this,{bodySpacing:s,bodyAlign:o,displayColors:a,boxHeight:l,boxWidth:u,boxPadding:h}=i,d=lt(i.bodyFont);let f=d.lineHeight,g=0;const y=ko(i.rtl,this.x,this.width),w=function(E){n.fillText(E,y.x(e.x+g),e.y+f/2),e.y+=f+s},T=y.textAlign(o);let _,v,x,R,M,N,I;for(n.textAlign=o,n.textBaseline="middle",n.font=d.string,e.x=Nc(this,T,i),n.fillStyle=i.bodyColor,Se(this.beforeBody,w),g=a&&T!=="right"?o==="center"?u/2+h:u+2+h:0,R=0,N=r.length;R<N;++R){for(_=r[R],v=this.labelTextColors[R],n.fillStyle=v,Se(_.before,w),x=_.lines,a&&x.length&&(this._drawColorBox(n,e,R,y,i),f=Math.max(d.lineHeight,l)),M=0,I=x.length;M<I;++M)w(x[M]),f=d.lineHeight;Se(_.after,w)}g=0,f=d.lineHeight,Se(this.afterBody,w),e.y-=s}drawFooter(e,n,i){const r=this.footer,s=r.length;let o,a;if(s){const l=ko(i.rtl,this.x,this.width);for(e.x=Nc(this,i.footerAlign,i),e.y+=i.footerMarginTop,n.textAlign=l.textAlign(i.footerAlign),n.textBaseline="middle",o=lt(i.footerFont),n.fillStyle=i.footerColor,n.font=o.string,a=0;a<s;++a)n.fillText(r[a],l.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+i.footerSpacing}}drawBackground(e,n,i,r){const{xAlign:s,yAlign:o}=this,{x:a,y:l}=e,{width:u,height:h}=i,{topLeft:d,topRight:f,bottomLeft:g,bottomRight:y}=vs(r.cornerRadius);n.fillStyle=r.backgroundColor,n.strokeStyle=r.borderColor,n.lineWidth=r.borderWidth,n.beginPath(),n.moveTo(a+d,l),o==="top"&&this.drawCaret(e,n,i,r),n.lineTo(a+u-f,l),n.quadraticCurveTo(a+u,l,a+u,l+f),o==="center"&&s==="right"&&this.drawCaret(e,n,i,r),n.lineTo(a+u,l+h-y),n.quadraticCurveTo(a+u,l+h,a+u-y,l+h),o==="bottom"&&this.drawCaret(e,n,i,r),n.lineTo(a+g,l+h),n.quadraticCurveTo(a,l+h,a,l+h-g),o==="center"&&s==="left"&&this.drawCaret(e,n,i,r),n.lineTo(a,l+d),n.quadraticCurveTo(a,l,a+d,l),n.closePath(),n.fill(),r.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,i=this.$animations,r=i&&i.x,s=i&&i.y;if(r||s){const o=el[e.position].call(this,this._active,this._eventPosition);if(!o)return;const a=this._size=ZT(this,e),l=Object.assign({},o,this._size),u=eS(n,e,l),h=tS(e,l,u,n);(r._to!==h.x||s._to!==h.y)&&(this.xAlign=u.xAlign,this.yAlign=u.yAlign,this.width=a.width,this.height=a.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,h))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(n);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const o=Vt(n.padding),a=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;n.enabled&&a&&(e.save(),e.globalAlpha=i,this.drawBackground(s,e,r,n),SP(e,n.textDirection),s.y+=o.top,this.drawTitle(s,e,n),this.drawBody(s,e,n),this.drawFooter(s,e,n),xP(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const i=this._active,r=e.map(({datasetIndex:a,index:l})=>{const u=this.chart.getDatasetMeta(a);if(!u)throw new Error("Cannot find a dataset at index "+a);return{datasetIndex:a,element:u.data[l],index:l}}),s=!dd(i,r),o=this._positionChanged(r,n);(s||o)&&(this._active=r,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,i=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],o=this._getActiveElements(e,s,n,i),a=this._positionChanged(o,e),l=n||!dd(o,s)||a;return l&&(this._active=o,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),l}_getActiveElements(e,n,i,r){const s=this.options;if(e.type==="mouseout")return[];if(!r)return n.filter(a=>this.chart.data.datasets[a.datasetIndex]&&this.chart.getDatasetMeta(a.datasetIndex).controller.getParsed(a.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,s.mode,s,i);return s.reverse&&o.reverse(),o}_positionChanged(e,n){const{caretX:i,caretY:r,options:s}=this,o=el[s.position].call(this,e,n);return o!==!1&&(i!==o.x||r!==o.y)}}Y(Rm,"positioners",el);var O6={id:"tooltip",_element:Rm,positioners:el,afterInit(t,e,n){n&&(t.tooltip=new Rm({chart:t,options:n}))},beforeUpdate(t,e,n){t.tooltip&&t.tooltip.initialize(n)},reset(t,e,n){t.tooltip&&t.tooltip.initialize(n)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const n={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...n,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",n)}},afterEvent(t,e){if(t.tooltip){const n=e.replay;t.tooltip.handleEvent(e.event,n,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:WP},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const N6=(t,e,n,i)=>(typeof e=="string"?(n=t.push(e)-1,i.unshift({index:n,label:e})):isNaN(e)&&(n=null),n);function L6(t,e,n,i){const r=t.indexOf(e);if(r===-1)return N6(t,e,n,i);const s=t.lastIndexOf(e);return r!==s?n:r}const V6=(t,e)=>t===null?null:Zt(Math.round(t),0,e);function rS(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Dm extends ca{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const n=this._addedLabels;if(n.length){const i=this.getLabels();for(const{index:r,label:s}of n)i[r]===s&&i.splice(r,1);this._addedLabels=[]}super.init(e)}parse(e,n){if(ke(e))return null;const i=this.getLabels();return n=isFinite(n)&&i[n]===e?n:L6(i,e,se(n,e),this._addedLabels),V6(n,i.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(i=0),n||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const e=this.min,n=this.max,i=this.options.offset,r=[];let s=this.getLabels();s=e===0&&n===s.length-1?s:s.slice(e,n+1),this._valueRange=Math.max(s.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let o=e;o<=n;o++)r.push({value:o});return r}getLabelForValue(e){return rS.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const n=this.ticks;return e<0||e>n.length-1?null:this.getPixelForValue(n[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}Y(Dm,"id","category"),Y(Dm,"defaults",{ticks:{callback:rS}});function F6(t,e){const n=[],{bounds:r,step:s,min:o,max:a,precision:l,count:u,maxTicks:h,maxDigits:d,includeBounds:f}=t,g=s||1,y=h-1,{min:w,max:T}=e,_=!ke(o),v=!ke(a),x=!ke(u),R=(T-w)/(d+1);let M=aT((T-w)/y/g)*g,N,I,E,k;if(M<1e-14&&!_&&!v)return[{value:w},{value:T}];k=Math.ceil(T/M)-Math.floor(w/M),k>y&&(M=aT(k*M/y/g)*g),ke(l)||(N=Math.pow(10,l),M=Math.ceil(M*N)/N),r==="ticks"?(I=Math.floor(w/M)*M,E=Math.ceil(T/M)*M):(I=w,E=T),_&&v&&s&&l9((a-o)/s,M/1e3)?(k=Math.round(Math.min((a-o)/M,h)),M=(a-o)/k,I=o,E=a):x?(I=_?o:I,E=v?a:E,k=u-1,M=(E-I)/k):(k=(E-I)/M,_l(k,Math.round(k),M/1e3)?k=Math.round(k):k=Math.ceil(k));const b=Math.max(lT(M),lT(I));N=Math.pow(10,ke(l)?b:l),I=Math.round(I*N)/N,E=Math.round(E*N)/N;let C=0;for(_&&(f&&I!==o?(n.push({value:o}),I<o&&C++,_l(Math.round((I+C*M)*N)/N,o,sS(o,R,t))&&C++):I<o&&C++);C<k;++C){const D=Math.round((I+C*M)*N)/N;if(v&&D>a)break;n.push({value:D})}return v&&f&&E!==a?n.length&&_l(n[n.length-1].value,a,sS(a,R,t))?n[n.length-1].value=a:n.push({value:a}):(!v||E===a)&&n.push({value:E}),n}function sS(t,e,{horizontal:n,minRotation:i}){const r=Xn(i),s=(n?Math.sin(r):Math.cos(r))||.001,o=.75*e*(""+t).length;return Math.min(e/s,o)}class Mm extends ca{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,n){return ke(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:n,maxDefined:i}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=n?r:l,a=l=>s=i?s:l;if(e){const l=si(r),u=si(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===s){let l=s===0?1:Math.abs(s*.05);a(s+l),e||o(r-l)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:n,stepSize:i}=e,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),n=n||11),n&&(r=Math.min(n,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,n=e.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:e.bounds,min:e.min,max:e.max,precision:n.precision,step:n.stepSize,count:n.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:n.minRotation||0,includeBounds:n.includeBounds!==!1},s=this._range||this,o=F6(r,s);return e.bounds==="ticks"&&u9(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let n=this.min,i=this.max;if(super.configure(),this.options.offset&&e.length){const r=(i-n)/Math.max(e.length-1,1)/2;n-=r,i+=r}this._startValue=n,this._endValue=i,this._valueRange=i-n}getLabelForValue(e){return J_(e,this.chart.options.locale,this.options.ticks.format)}}class Om extends Mm{determineDataLimits(){const{min:e,max:n}=this.getMinMax(!0);this.min=rn(e)?e:0,this.max=rn(n)?n:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),n=e?this.width:this.height,i=Xn(this.options.ticks.minRotation),r=(e?Math.sin(i):Math.cos(i))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(n/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}Y(Om,"id","linear"),Y(Om,"defaults",{ticks:{callback:Z_.formatters.numeric}});function Nm(t){const e=t.ticks;if(e.display&&t.display){const n=Vt(e.backdropPadding);return se(e.font&&e.font.size,Qe.font.size)+n.height}return 0}function j6(t,e,n){return n=He(n)?n:[n],{w:k9(t,e.string,n),h:n.length*e.lineHeight}}function oS(t,e,n,i,r){return t===i||t===r?{start:e-n/2,end:e+n/2}:t<i||t>r?{start:e-n,end:e}:{start:e,end:e+n}}function U6(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},n=Object.assign({},e),i=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Be/s:0;for(let l=0;l<s;l++){const u=o.setContext(t.getPointLabelContext(l));r[l]=u.padding;const h=t.getPointPosition(l,t.drawingArea+r[l],a),d=lt(u.font),f=j6(t.ctx,d,t._pointLabels[l]);i[l]=f;const g=Cn(t.getIndexAngle(l)+a),y=Math.round(G_(g)),w=oS(y,h.x,f.w,0,180),T=oS(y,h.y,f.h,90,270);z6(n,e,g,w,T)}t.setCenterPoint(e.l-n.l,n.r-e.r,e.t-n.t,n.b-e.b),t._pointLabelItems=H6(t,i,r)}function z6(t,e,n,i,r){const s=Math.abs(Math.sin(n)),o=Math.abs(Math.cos(n));let a=0,l=0;i.start<e.l?(a=(e.l-i.start)/s,t.l=Math.min(t.l,e.l-a)):i.end>e.r&&(a=(i.end-e.r)/s,t.r=Math.max(t.r,e.r+a)),r.start<e.t?(l=(e.t-r.start)/o,t.t=Math.min(t.t,e.t-l)):r.end>e.b&&(l=(r.end-e.b)/o,t.b=Math.max(t.b,e.b+l))}function B6(t,e,n){const i=t.drawingArea,{extra:r,additionalAngle:s,padding:o,size:a}=n,l=t.getPointPosition(e,i+r+o,s),u=Math.round(G_(Cn(l.angle+tt))),h=q6(l.y,a.h,u),d=$6(u),f=Y6(l.x,a.w,d);return{visible:!0,x:l.x,y:h,textAlign:d,left:f,top:h,right:f+a.w,bottom:h+a.h}}function W6(t,e){if(!e)return!0;const{left:n,top:i,right:r,bottom:s}=t;return!(Ai({x:n,y:i},e)||Ai({x:n,y:s},e)||Ai({x:r,y:i},e)||Ai({x:r,y:s},e))}function H6(t,e,n){const i=[],r=t._pointLabels.length,s=t.options,{centerPointLabels:o,display:a}=s.pointLabels,l={extra:Nm(s)/2,additionalAngle:o?Be/r:0};let u;for(let h=0;h<r;h++){l.padding=n[h],l.size=e[h];const d=B6(t,h,l);i.push(d),a==="auto"&&(d.visible=W6(d,u),d.visible&&(u=d))}return i}function $6(t){return t===0||t===180?"center":t<180?"left":"right"}function Y6(t,e,n){return n==="right"?t-=e:n==="center"&&(t-=e/2),t}function q6(t,e,n){return n===90||n===270?t-=e/2:(n>270||n<90)&&(t-=e),t}function G6(t,e,n){const{left:i,top:r,right:s,bottom:o}=n,{backdropColor:a}=e;if(!ke(a)){const l=vs(e.borderRadius),u=Vt(e.backdropPadding);t.fillStyle=a;const h=i-u.left,d=r-u.top,f=s-i+u.width,g=o-r+u.height;Object.values(l).some(y=>y!==0)?(t.beginPath(),ou(t,{x:h,y:d,w:f,h:g,radius:l}),t.fill()):t.fillRect(h,d,f,g)}}function K6(t,e){const{ctx:n,options:{pointLabels:i}}=t;for(let r=e-1;r>=0;r--){const s=t._pointLabelItems[r];if(!s.visible)continue;const o=i.setContext(t.getPointLabelContext(r));G6(n,o,s);const a=lt(o.font),{x:l,y:u,textAlign:h}=s;Rs(n,t._pointLabels[r],l,u+a.lineHeight/2,a,{color:o.color,textAlign:h,textBaseline:"middle"})}}function HP(t,e,n,i){const{ctx:r}=t;if(n)r.arc(t.xCenter,t.yCenter,e,0,ze);else{let s=t.getPointPosition(0,e);r.moveTo(s.x,s.y);for(let o=1;o<i;o++)s=t.getPointPosition(o,e),r.lineTo(s.x,s.y)}}function Q6(t,e,n,i,r){const s=t.ctx,o=e.circular,{color:a,lineWidth:l}=e;!o&&!i||!a||!l||n<0||(s.save(),s.strokeStyle=a,s.lineWidth=l,s.setLineDash(r.dash||[]),s.lineDashOffset=r.dashOffset,s.beginPath(),HP(t,n,o,i),s.closePath(),s.stroke(),s.restore())}function X6(t,e,n){return Qr(t,{label:n,index:e,type:"pointLabel"})}class tl extends Mm{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Vt(Nm(this.options)/2),n=this.width=this.maxWidth-e.width,i=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+n/2+e.left),this.yCenter=Math.floor(this.top+i/2+e.top),this.drawingArea=Math.floor(Math.min(n,i)/2)}determineDataLimits(){const{min:e,max:n}=this.getMinMax(!1);this.min=rn(e)&&!isNaN(e)?e:0,this.max=rn(n)&&!isNaN(n)?n:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Nm(this.options))}generateTickLabels(e){Mm.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((n,i)=>{const r=Re(this.options.pointLabels.callback,[n,i],this);return r||r===0?r:""}).filter((n,i)=>this.chart.getDataVisibility(i))}fit(){const e=this.options;e.display&&e.pointLabels.display?U6(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,n,i,r){this.xCenter+=Math.floor((e-n)/2),this.yCenter+=Math.floor((i-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,n,i,r))}getIndexAngle(e){const n=ze/(this._pointLabels.length||1),i=this.options.startAngle||0;return Cn(e*n+Xn(i))}getDistanceFromCenterForValue(e){if(ke(e))return NaN;const n=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*n:(e-this.min)*n}getValueForDistanceFromCenter(e){if(ke(e))return NaN;const n=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-n:this.min+n}getPointLabelContext(e){const n=this._pointLabels||[];if(e>=0&&e<n.length){const i=n[e];return X6(this.getContext(),e,i)}}getPointPosition(e,n,i=0){const r=this.getIndexAngle(e)-tt+i;return{x:Math.cos(r)*n+this.xCenter,y:Math.sin(r)*n+this.yCenter,angle:r}}getPointPositionForValue(e,n){return this.getPointPosition(e,this.getDistanceFromCenterForValue(n))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:n,top:i,right:r,bottom:s}=this._pointLabelItems[e];return{left:n,top:i,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:n}}=this.options;if(e){const i=this.ctx;i.save(),i.beginPath(),HP(this,this.getDistanceFromCenterForValue(this._endValue),n,this._pointLabels.length),i.closePath(),i.fillStyle=e,i.fill(),i.restore()}}drawGrid(){const e=this.ctx,n=this.options,{angleLines:i,grid:r,border:s}=n,o=this._pointLabels.length;let a,l,u;if(n.pointLabels.display&&K6(this,o),r.display&&this.ticks.forEach((h,d)=>{if(d!==0||d===0&&this.min<0){l=this.getDistanceFromCenterForValue(h.value);const f=this.getContext(d),g=r.setContext(f),y=s.setContext(f);Q6(this,g,l,o,y)}}),i.display){for(e.save(),a=o-1;a>=0;a--){const h=i.setContext(this.getPointLabelContext(a)),{color:d,lineWidth:f}=h;!f||!d||(e.lineWidth=f,e.strokeStyle=d,e.setLineDash(h.borderDash),e.lineDashOffset=h.borderDashOffset,l=this.getDistanceFromCenterForValue(n.reverse?this.min:this.max),u=this.getPointPosition(a,l),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(u.x,u.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,n=this.options,i=n.ticks;if(!i.display)return;const r=this.getIndexAngle(0);let s,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((a,l)=>{if(l===0&&this.min>=0&&!n.reverse)return;const u=i.setContext(this.getContext(l)),h=lt(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){e.font=h.string,o=e.measureText(a.label).width,e.fillStyle=u.backdropColor;const d=Vt(u.backdropPadding);e.fillRect(-o/2-d.left,-s-h.size/2-d.top,o+d.width,h.size+d.height)}Rs(e,a.label,0,-s,h,{color:u.color,strokeColor:u.textStrokeColor,strokeWidth:u.textStrokeWidth})}),e.restore()}drawTitle(){}}Y(tl,"id","radialLinear"),Y(tl,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Z_.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}}),Y(tl,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),Y(tl,"descriptors",{angleLines:{_fallback:"grid"}});const xf={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Xt=Object.keys(xf);function aS(t,e){return t-e}function lS(t,e){if(ke(e))return null;const n=t._adapter,{parser:i,round:r,isoWeekday:s}=t._parseOpts;let o=e;return typeof i=="function"&&(o=i(o)),rn(o)||(o=typeof i=="string"?n.parse(o,i):n.parse(o)),o===null?null:(r&&(o=r==="week"&&(gd(s)||s===!0)?n.startOf(o,"isoWeek",s):n.startOf(o,r)),+o)}function uS(t,e,n,i){const r=Xt.length;for(let s=Xt.indexOf(t);s<r-1;++s){const o=xf[Xt[s]],a=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((n-e)/(a*o.size))<=i)return Xt[s]}return Xt[r-1]}function J6(t,e,n,i,r){for(let s=Xt.length-1;s>=Xt.indexOf(n);s--){const o=Xt[s];if(xf[o].common&&t._adapter.diff(r,i,o)>=e-1)return o}return Xt[n?Xt.indexOf(n):0]}function Z6(t){for(let e=Xt.indexOf(t)+1,n=Xt.length;e<n;++e)if(xf[Xt[e]].common)return Xt[e]}function cS(t,e,n){if(!n)t[e]=!0;else if(n.length){const{lo:i,hi:r}=K_(n,e),s=n[i]>=e?n[i]:n[r];t[s]=!0}}function e3(t,e,n,i){const r=t._adapter,s=+r.startOf(e[0].value,i),o=e[e.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,i))l=n[a],l>=0&&(e[l].major=!0);return e}function hS(t,e,n){const i=[],r={},s=e.length;let o,a;for(o=0;o<s;++o)a=e[o],r[a]=o,i.push({value:a,major:!1});return s===0||!n?i:e3(t,i,r,n)}class wd extends ca{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n={}){const i=e.time||(e.time={}),r=this._adapter=new H5._date(e.adapters.date);r.init(n),yl(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return e===void 0?null:lS(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,i=e.time.unit||"day";let{min:r,max:s,minDefined:o,maxDefined:a}=this.getUserBounds();function l(u){!o&&!isNaN(u.min)&&(r=Math.min(r,u.min)),!a&&!isNaN(u.max)&&(s=Math.max(s,u.max))}(!o||!a)&&(l(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&l(this.getMinMax(!1))),r=rn(r)&&!isNaN(r)?r:+n.startOf(Date.now(),i),s=rn(s)&&!isNaN(s)?s:+n.endOf(Date.now(),i)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],i=e[e.length-1]),{min:n,max:i}}buildTicks(){const e=this.options,n=e.time,i=e.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,o=this.max,a=f9(r,s,o);return this._unit=n.unit||(i.autoSkip?uS(n.minUnit,this.min,this.max,this._getLabelCapacity(s)):J6(this,a.length,n.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Z6(this._unit),this.initOffsets(r),e.reverse&&a.reverse(),hS(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let n=0,i=0,r,s;this.options.offset&&e.length&&(r=this.getDecimalForValue(e[0]),e.length===1?n=1-r:n=(this.getDecimalForValue(e[1])-r)/2,s=this.getDecimalForValue(e[e.length-1]),e.length===1?i=s:i=(s-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;n=Zt(n,0,o),i=Zt(i,0,o),this._offsets={start:n,end:i,factor:1/(n+1+i)}}_generate(){const e=this._adapter,n=this.min,i=this.max,r=this.options,s=r.time,o=s.unit||uS(s.minUnit,n,i,this._getLabelCapacity(n)),a=se(r.ticks.stepSize,1),l=o==="week"?s.isoWeekday:!1,u=gd(l)||l===!0,h={};let d=n,f,g;if(u&&(d=+e.startOf(d,"isoWeek",l)),d=+e.startOf(d,u?"day":o),e.diff(i,n,o)>1e5*a)throw new Error(n+" and "+i+" are too far apart with stepSize of "+a+" "+o);const y=r.ticks.source==="data"&&this.getDataTimestamps();for(f=d,g=0;f<i;f=+e.add(f,a,o),g++)cS(h,f,y);return(f===i||r.bounds==="ticks"||g===1)&&cS(h,f,y),Object.keys(h).sort(aS).map(w=>+w)}getLabelForValue(e){const n=this._adapter,i=this.options.time;return i.tooltipFormat?n.format(e,i.tooltipFormat):n.format(e,i.displayFormats.datetime)}format(e,n){const r=this.options.time.displayFormats,s=this._unit,o=n||r[s];return this._adapter.format(e,o)}_tickFormatFunction(e,n,i,r){const s=this.options,o=s.ticks.callback;if(o)return Re(o,[e,n,i],this);const a=s.time.displayFormats,l=this._unit,u=this._majorUnit,h=l&&a[l],d=u&&a[u],f=i[n],g=u&&d&&f&&f.major;return this._adapter.format(e,r||(g?d:h))}generateTickLabels(e){let n,i,r;for(n=0,i=e.length;n<i;++n)r=e[n],r.label=this._tickFormatFunction(r.value,n,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,i=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+i)*n.factor)}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+i*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,i=this.ctx.measureText(e).width,r=Xn(this.isHorizontal()?n.maxRotation:n.minRotation),s=Math.cos(r),o=Math.sin(r),a=this._resolveTickFontOptions(0).size;return{w:i*s+a*o,h:i*o+a*s}}_getLabelCapacity(e){const n=this.options.time,i=n.displayFormats,r=i[n.unit]||i.millisecond,s=this._tickFormatFunction(e,0,hS(this,[e],this._majorUnit),r),o=this._getLabelSize(s),a=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return a>0?a:1}getDataTimestamps(){let e=this._cache.data||[],n,i;if(e.length)return e;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(n=0,i=r.length;n<i;++n)e=e.concat(r[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,i;if(e.length)return e;const r=this.getLabels();for(n=0,i=r.length;n<i;++n)e.push(lS(this,r[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return dP(e.sort(aS))}}Y(wd,"id","time"),Y(wd,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Lc(t,e,n){let i=0,r=t.length-1,s,o,a,l;n?(e>=t[i].pos&&e<=t[r].pos&&({lo:i,hi:r}=xm(t,"pos",e)),{pos:s,time:a}=t[i],{pos:o,time:l}=t[r]):(e>=t[i].time&&e<=t[r].time&&({lo:i,hi:r}=xm(t,"time",e)),{time:s,pos:a}=t[i],{time:o,pos:l}=t[r]);const u=o-s;return u?a+(l-a)*(e-s)/u:a}class dS extends wd{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),n=this._table=this.buildLookupTable(e);this._minPos=Lc(n,this.min),this._tableRange=Lc(n,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:n,max:i}=this,r=[],s=[];let o,a,l,u,h;for(o=0,a=e.length;o<a;++o)u=e[o],u>=n&&u<=i&&r.push(u);if(r.length<2)return[{time:n,pos:0},{time:i,pos:1}];for(o=0,a=r.length;o<a;++o)h=r[o+1],l=r[o-1],u=r[o],Math.round((h+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_generate(){const e=this.min,n=this.max;let i=super.getDataTimestamps();return(!i.includes(e)||!i.length)&&i.splice(0,0,e),(!i.includes(n)||i.length===1)&&i.push(n),i.sort((r,s)=>r-s)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const n=this.getDataTimestamps(),i=this.getLabelTimestamps();return n.length&&i.length?e=this.normalize(n.concat(i)):e=n.length?n:i,e=this._cache.all=e,e}getDecimalForValue(e){return(Lc(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const n=this._offsets,i=this.getDecimalForPixel(e)/n.factor-n.end;return Lc(this._table,i*this._tableRange+this._minPos,!0)}}Y(dS,"id","timeseries"),Y(dS,"defaults",wd.defaults);const $P="label";function fS(t,e){typeof t=="function"?t(e):t&&(t.current=e)}function t3(t,e){const n=t.options;n&&e&&Object.assign(n,e)}function YP(t,e){t.labels=e}function qP(t,e){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:$P;const i=[];t.datasets=e.map(r=>{const s=t.datasets.find(o=>o[n]===r[n]);return!s||!r.data||i.includes(s)?{...r}:(i.push(s),Object.assign(s,r),s)})}function n3(t){let e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:$P;const n={labels:[],datasets:[]};return YP(n,t.labels),qP(n,t.datasets,e),n}function i3(t,e){const{height:n=150,width:i=300,redraw:r=!1,datasetIdKey:s,type:o,data:a,options:l,plugins:u=[],fallbackContent:h,updateMode:d,...f}=t,g=V.useRef(null),y=V.useRef(),w=()=>{g.current&&(y.current=new Sf(g.current,{type:o,data:n3(a,s),options:l&&{...l},plugins:u}),fS(e,y.current))},T=()=>{fS(e,null),y.current&&(y.current.destroy(),y.current=null)};return V.useEffect(()=>{!r&&y.current&&l&&t3(y.current,l)},[r,l]),V.useEffect(()=>{!r&&y.current&&YP(y.current.config.data,a.labels)},[r,a.labels]),V.useEffect(()=>{!r&&y.current&&a.datasets&&qP(y.current.config.data,a.datasets,s)},[r,a.datasets]),V.useEffect(()=>{y.current&&(r?(T(),setTimeout(w)):y.current.update(d))},[r,l,a.labels,a.datasets,d]),V.useEffect(()=>{y.current&&(T(),setTimeout(w))},[o]),V.useEffect(()=>(w(),()=>T()),[]),Jn.createElement("canvas",Object.assign({ref:g,role:"img",height:n,width:i},f),h)}const r3=V.forwardRef(i3);function uv(t,e){return Sf.register(e),V.forwardRef((n,i)=>Jn.createElement(r3,Object.assign({},n,{ref:i,type:t})))}const s3=uv("bar",lh),o3=uv("radar",uh),a3=uv("pie",bm);Sf.register(Dm,Om,fh,k6,O6,x6,Ja,tl,dh,Za);const l3=()=>{const[t,e]=V.useState({}),[n,i]=V.useState([]),[r,s]=V.useState(!0),[o,a]=V.useState(null),[l,u]=V.useState(null);V.useEffect(()=>{const y=Bn.onAuthStateChanged(T=>{u(T||null)});return l&&(async()=>{try{if(!l)throw new Error("User is not authenticated");const T=await hB(),_=cB(T);e(_),i(Object.keys(_).map(v=>({month:v,amount:_[v]}))),s(!1)}catch(T){console.error("Error fetching expenses:",T),a(T.message),s(!1)}})(),()=>y()},[l]);const h={labels:Object.keys(t),datasets:[{data:Object.values(t),backgroundColor:["#FF6384","#36A2EB","#FFCE56","#FF5733","#4CAF50"]}]},d={labels:Object.keys(t),datasets:[{label:"Expenses",data:Object.values(t),backgroundColor:"#42A5F5"}]},f={labels:Object.keys(t),datasets:[{label:"Expense Trends",data:Object.values(t),backgroundColor:"rgba(67, 160, 71, 0.2)",borderColor:"#43A047",borderWidth:2}]},g=(y,w)=>{const T=H();let _=H().subtract(1,"months");y==="3m"?_=H().subtract(3,"months"):y==="6m"?_=H().subtract(6,"months"):y==="12m"&&(_=H().subtract(12,"months"));let v=0;return Object.keys(w).forEach(x=>{H(x,"YYYY-MM").isBetween(_,T,null,"[]")&&(v+=w[x])}),v.toFixed(2)};return r?A.jsx("div",{children:"Loading..."}):o?A.jsxs("div",{children:["Error: ",o]}):A.jsxs(A.Fragment,{children:[A.jsx(W_,{}),A.jsx("div",{className:"stats-screen-wrapper",children:A.jsxs("div",{className:"stats-screen-container",children:[A.jsx("h1",{children:"Expense Stats"}),A.jsxs("div",{className:"stats-charts-container",children:[A.jsxs("div",{className:"chart-container",children:[A.jsx("h3",{children:"Monthly Expense Distribution"}),A.jsx(a3,{data:h})]}),A.jsxs("div",{className:"chart-container",children:[A.jsx("h3",{children:"Monthly Expense Breakdown (Bar Chart)"}),A.jsx(s3,{data:d})]}),A.jsxs("div",{className:"chart-container",children:[A.jsx("h3",{children:"Expense Trends (Radar Chart)"}),A.jsx(o3,{data:f})]})]}),A.jsxs("div",{className:"comparison-section",children:[A.jsx("h3",{children:"Comparison with Previous Periods"}),A.jsxs("ul",{children:[A.jsxs("li",{children:["Last month: $",g("1m",t)]}),A.jsxs("li",{children:["Last 3 months: $",g("3m",t)]}),A.jsxs("li",{children:["Last 6 months: $",g("6m",t)]}),A.jsxs("li",{children:["Last 12 months: $",g("12m",t)]})]})]})]})})]})},pS=()=>{const[t,e]=V.useState(""),[n,i]=V.useState(""),[r,s]=V.useState(""),o=Lx(),a=async l=>{l.preventDefault();try{await HV(Bn,t,n),o("/home")}catch(u){s(u.message)}};return A.jsx("div",{className:"auth-container",children:A.jsxs("div",{className:"auth-form",children:[A.jsx("h2",{children:"Sign In"}),r&&A.jsx("p",{className:"error-message",children:r}),A.jsxs("form",{onSubmit:a,children:[A.jsx("input",{type:"email",placeholder:"Email",value:t,onChange:l=>e(l.target.value),required:!0}),A.jsx("input",{type:"password",placeholder:"Password",value:n,onChange:l=>i(l.target.value),required:!0}),A.jsx("button",{type:"submit",className:"btn-submit",children:"Sign In"})]}),A.jsxs("p",{className:"redirect",children:["Don't have an account? ",A.jsx(Ux,{to:"/signup",children:"Sign Up"})]})]})})},u3=()=>{const[t,e]=V.useState(null),[n,i]=V.useState({fullName:"",email:"",phone:"",dob:"",username:"",currency:"USD",language:"English",categories:[],incomeSources:[],expenseSources:[],taxInfo:"",password:""}),[r,s]=V.useState(!1),[o,a]=V.useState(!0),l=async d=>{try{const f=await Ik(Bo(Fn,"users",d));f.exists()?i(f.data()):console.warn("No user profile found!")}catch(f){console.error("Error fetching profile:",f)}finally{a(!1)}},u=async()=>{if(t)try{const d=Bo(Fn,"users",t.uid);await bk(d,n),alert("Profile updated successfully!"),s(!1)}catch(d){console.error("Error updating profile:",d),alert("Failed to update profile. Please try again.")}},h=d=>{const{name:f,value:g}=d.target;i({...n,[f]:g})};return V.useEffect(()=>{const d=Zk(Bn,f=>{f?(e(f),console.log("User ID:",f.uid),l(f.uid)):(e(null),a(!1))});return()=>d()},[]),o?A.jsx("p",{children:"Loading..."}):t?A.jsxs("div",{className:"profile",children:[A.jsx("h1",{children:"Your Profile"}),A.jsx("div",{className:"profile-container",children:r?A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"profile-field",children:[A.jsx("label",{children:"Full Name:"}),A.jsx("input",{type:"text",name:"fullName",value:n.fullName,onChange:h})]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("label",{children:"Email:"}),A.jsx("input",{type:"email",name:"email",value:n.email,onChange:h,disabled:!0})]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("label",{children:"Phone Number:"}),A.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:h})]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("label",{children:"Date of Birth:"}),A.jsx("input",{type:"date",name:"dob",value:n.dob,onChange:h})]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("label",{children:"Username:"}),A.jsx("input",{type:"text",name:"username",value:n.username,onChange:h})]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("label",{children:"Currency:"}),A.jsxs("select",{name:"currency",value:n.currency,onChange:h,children:[A.jsx("option",{value:"USD",children:"USD"}),A.jsx("option",{value:"EUR",children:"EUR"}),A.jsx("option",{value:"INR",children:"INR"})]})]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("label",{children:"Language:"}),A.jsxs("select",{name:"language",value:n.language,onChange:h,children:[A.jsx("option",{value:"English",children:"English"}),A.jsx("option",{value:"Spanish",children:"Spanish"}),A.jsx("option",{value:"French",children:"French"})]})]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("label",{children:"Categories (comma separated):"}),A.jsx("input",{type:"text",name:"categories",value:n.categories.join(", "),onChange:d=>h({target:{name:"categories",value:d.target.value.split(", ")}})})]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("label",{children:"Income Sources (comma separated):"}),A.jsx("input",{type:"text",name:"incomeSources",value:n.incomeSources.join(", "),onChange:d=>h({target:{name:"incomeSources",value:d.target.value.split(", ")}})})]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("label",{children:"Expense Sources (comma separated):"}),A.jsx("input",{type:"text",name:"expenseSources",value:n.expenseSources.join(", "),onChange:d=>h({target:{name:"expenseSources",value:d.target.value.split(", ")}})})]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("label",{children:"Tax Info:"}),A.jsx("textarea",{name:"taxInfo",value:n.taxInfo,onChange:h})]}),A.jsxs("div",{className:"button-container",children:[A.jsx("button",{className:"save-btn",onClick:u,children:"Save"}),A.jsx("button",{className:"cancel-btn",onClick:()=>s(!1),children:"Cancel"})]})]}):A.jsxs(A.Fragment,{children:[A.jsxs("div",{className:"profile-field",children:[A.jsx("strong",{children:"Full Name:"})," ",n.fullName]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("strong",{children:"Email:"})," ",n.email]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("strong",{children:"Phone Number:"})," ",n.phone]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("strong",{children:"Date of Birth:"})," ",n.dob]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("strong",{children:"Username:"})," ",n.username]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("strong",{children:"Currency:"})," ",n.currency]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("strong",{children:"Language:"})," ",n.language]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("strong",{children:"Categories:"})," ",n.categories.join(", ")]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("strong",{children:"Income Sources:"})," ",n.incomeSources.join(", ")]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("strong",{children:"Expense Sources:"})," ",n.expenseSources.join(", ")]}),A.jsxs("div",{className:"profile-field",children:[A.jsx("strong",{children:"Tax Info:"})," ",n.taxInfo]}),A.jsx("button",{className:"edit-btn",onClick:()=>s(!0),children:"Edit Profile"})]})})]}):A.jsx("p",{children:"You must be logged in to view your profile."})},c3=()=>{const[t,e]=V.useState(null),[n,i]=V.useState(!1);V.useEffect(()=>{const s=a=>{a.preventDefault(),e(a)},o=()=>{i(!0)};return window.addEventListener("beforeinstallprompt",s),window.addEventListener("appinstalled",o),()=>{window.removeEventListener("beforeinstallprompt",s),window.removeEventListener("appinstalled",o)}},[]);const r=async()=>{if(t){t.prompt();const{outcome:s}=await t.userChoice;e(null),console.log(`User ${s==="accepted"?"accepted":"dismissed"} the prompt`)}};return!n&&t&&A.jsx("button",{onClick:r,className:"install-button",children:"Install App"})},h3=()=>{const[t,e]=V.useState(null),[n,i]=V.useState({name:"",email:"",address:"",language:"",phone:""}),[r,s]=V.useState(!0),[o,a]=V.useState(null);V.useEffect(()=>{(async()=>{try{const d=lB();if(!d)throw new Error("User is not authenticated");e(d);const f=await pB(d.uid);i(f),s(!1)}catch(d){a(d.message),s(!1)}})()},[]);const l=h=>{const{name:d,value:f}=h.target;i(g=>({...g,[d]:f}))},u=async h=>{h.preventDefault();try{await gB(t.uid,n),alert("Profile updated successfully")}catch(d){a(d.message)}};return r?A.jsx("div",{children:"Loading..."}):o?A.jsxs("div",{children:["Error: ",o]}):A.jsxs(A.Fragment,{children:[A.jsx(W_,{}),A.jsxs("div",{children:[A.jsx("h1",{children:"Profile"}),A.jsxs("form",{onSubmit:u,children:[A.jsxs("div",{children:[A.jsx("label",{children:"Name:"}),A.jsx("input",{type:"text",name:"name",value:n.name,onChange:l})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Email:"}),A.jsx("input",{type:"email",name:"email",value:n.email,onChange:l})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Phone:"}),A.jsx("input",{type:"text",name:"phone",value:n.phone,onChange:l})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Address:"}),A.jsx("input",{type:"text",name:"address",value:n.address,onChange:l})]}),A.jsxs("div",{children:[A.jsx("label",{children:"Language:"}),A.jsx("input",{type:"text",name:"language",value:n.language,onChange:l})]}),A.jsx("button",{type:"submit",children:"Update Profile"})]})]})]})};function d3(){return A.jsxs(ZD,{children:[A.jsxs($D,{children:[A.jsx(er,{path:"/",element:A.jsx(pS,{})}),A.jsx(er,{path:"/signup",element:A.jsx(u3,{})}),A.jsx(er,{path:"/home",element:A.jsx(PB,{})}),A.jsx(er,{path:"/signin",element:A.jsx(pS,{})}),A.jsx(er,{path:"/add-expense",element:A.jsx(CB,{})}),A.jsx(er,{path:"/stats",element:A.jsx(l3,{})}),A.jsx(er,{path:"/profile",element:A.jsx(h3,{})})]}),A.jsx(c3,{})]})}function f3(){"serviceWorker"in navigator&&window.addEventListener("load",()=>{const t=`${window.location.origin}/service-worker.js`;navigator.serviceWorker.register(t).then(e=>{console.log("Service Worker registered:",e)}).catch(e=>{console.error("Service Worker registration failed:",e)})})}const p3=Gp.createRoot(document.getElementById("root"));p3.render(A.jsx(d3,{}));f3()});export default g3();
